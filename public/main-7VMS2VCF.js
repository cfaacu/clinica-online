var tR=Object.defineProperty,nR=Object.defineProperties;var rR=Object.getOwnPropertyDescriptors;var Cc=Object.getOwnPropertySymbols,iR=Object.getPrototypeOf,mI=Object.prototype.hasOwnProperty,yI=Object.prototype.propertyIsEnumerable,sR=Reflect.get;var gI=(n,e,t)=>e in n?tR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})mI.call(e,t)&&gI(n,t,e[t]);if(Cc)for(var t of Cc(e))yI.call(e,t)&&gI(n,t,e[t]);return n},ie=(n,e)=>nR(n,rR(e));var vI=(n,e)=>{var t={};for(var r in n)mI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Cc)for(var r of Cc(n))e.indexOf(r)<0&&yI.call(n,r)&&(t[r]=n[r]);return t};var Zn=(n,e,t)=>sR(iR(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{c(t.next(u))}catch(l){i(l)}},o=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((t=t.apply(n,e)).next())});function _I(n,e){return Object.is(n,e)}var je=null,bc=!1,Tc=1,Jn=Symbol("SIGNAL");function pe(n){let e=je;return je=n,e}function II(){return je}var Ro={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sh(n){if(bc)throw new Error("");if(je===null)return;je.consumerOnSignalRead(n);let e=je.nextProducerIndex++;if(Mc(je),e<je.producerNode.length&&je.producerNode[e]!==n&&Ao(je)){let t=je.producerNode[e];Rc(t,je.producerIndexOfThis[e])}je.producerNode[e]!==n&&(je.producerNode[e]=n,je.producerIndexOfThis[e]=Ao(je)?CI(n,je,e):0),je.producerLastReadVersion[e]=n.version}function oR(){Tc++}function wI(n){if(!(Ao(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Tc)){if(!n.producerMustRecompute(n)&&!Rh(n)){n.dirty=!1,n.lastCleanEpoch=Tc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Tc}}function EI(n){if(n.liveConsumerNode===void 0)return;let e=bc;bc=!0;try{for(let t of n.liveConsumerNode)t.dirty||aR(t)}finally{bc=e}}function DI(){return je?.consumerAllowSignalWrites!==!1}function aR(n){n.dirty=!0,EI(n),n.consumerMarkedDirty?.(n)}function Ac(n){return n&&(n.nextProducerIndex=0),pe(n)}function Ah(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ao(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Rc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rh(n){Mc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(wI(t),r!==t.version))return!0}return!1}function Mh(n){if(Mc(n),Ao(n))for(let e=0;e<n.producerNode.length;e++)Rc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function CI(n,e,t){if(bI(n),n.liveConsumerNode.length===0&&TI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=CI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Rc(n,e){if(bI(n),n.liveConsumerNode.length===1&&TI(n))for(let r=0;r<n.producerNode.length;r++)Rc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Mc(i),i.producerIndexOfThis[r]=e}}function Ao(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Mc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function bI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function TI(n){return n.producerNode!==void 0}function SI(n){let e=Object.create(cR);e.computation=n;let t=()=>{if(wI(e),Sh(e),e.value===Sc)throw e.error;return e.value};return t[Jn]=e,t}var bh=Symbol("UNSET"),Th=Symbol("COMPUTING"),Sc=Symbol("ERRORED"),cR=ie(O({},Ro),{value:bh,dirty:!0,error:null,equal:_I,producerMustRecompute(n){return n.value===bh||n.value===Th},producerRecomputeValue(n){if(n.value===Th)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Th;let t=Ac(n),r;try{r=n.computation()}catch(i){r=Sc,n.error=i}finally{Ah(n,t)}if(e!==bh&&e!==Sc&&r!==Sc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function uR(){throw new Error}var AI=uR;function RI(){AI()}function MI(n){AI=n}var lR=null;function NI(n){let e=Object.create(PI);e.value=n;let t=()=>(Sh(e),e.value);return t[Jn]=e,t}function Nh(n,e){DI()||RI(),n.equal(n.value,e)||(n.value=e,dR(n))}function xI(n,e){DI()||RI(),Nh(n,e(n.value))}var PI=ie(O({},Ro),{equal:_I,value:void 0});function dR(n){n.version++,oR(),EI(n),lR?.()}function Y(n){return typeof n=="function"}function xi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Nc=xi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function jr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(s){e=s instanceof Nc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{OI(s)}catch(o){e=e??[],o instanceof Nc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Nc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)OI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&jr(t,e)}remove(e){let{_finalizers:t}=this;t&&jr(t,e),e instanceof n&&e._removeParent(this)}};Me.EMPTY=(()=>{let n=new Me;return n.closed=!0,n})();var xh=Me.EMPTY;function xc(n){return n instanceof Me||n&&"closed"in n&&Y(n.remove)&&Y(n.add)&&Y(n.unsubscribe)}function OI(n){Y(n)?n():n.unsubscribe()}var Lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pi={setTimeout(n,e,...t){let{delegate:r}=Pi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Pi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Pc(n){Pi.setTimeout(()=>{let{onUnhandledError:e}=Lt;if(e)e(n);else throw n})}function Mo(){}var kI=Ph("C",void 0,void 0);function FI(n){return Ph("E",void 0,n)}function VI(n){return Ph("N",n,void 0)}function Ph(n,e,t){return{kind:n,value:e,error:t}}var Br=null;function Oi(n){if(Lt.useDeprecatedSynchronousErrorHandling){let e=!Br;if(e&&(Br={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Br;if(Br=null,t)throw r}}else n()}function LI(n){Lt.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=n)}var $r=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xc(e)&&e.add(this)):this.destination=pR}static create(e,t,r){return new ki(e,t,r)}next(e){this.isStopped?kh(VI(e),this):this._next(e)}error(e){this.isStopped?kh(FI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kh(kI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hR=Function.prototype.bind;function Oh(n,e){return hR.call(n,e)}var Fh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Oc(t)}}},ki=class extends $r{constructor(e,t,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Lt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Oh(e.next,s),error:e.error&&Oh(e.error,s),complete:e.complete&&Oh(e.complete,s)}):i=e}this.destination=new Fh(i)}};function Oc(n){Lt.useDeprecatedSynchronousErrorHandling?LI(n):Pc(n)}function fR(n){throw n}function kh(n,e){let{onStoppedNotification:t}=Lt;t&&Pi.setTimeout(()=>t(n,e))}var pR={closed:!0,next:Mo,error:fR,complete:Mo};var Fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vt(n){return n}function Vh(...n){return Lh(n)}function Lh(n){return n.length===0?vt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=mR(t)?t:new ki(t,r,i);return Oi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=UI(r),new r((i,s)=>{let o=new ki({next:c=>{try{t(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Fi](){return this}pipe(...t){return Lh(t)(this)}toPromise(t){return t=UI(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function UI(n){var e;return(e=n??Lt.Promise)!==null&&e!==void 0?e:Promise}function gR(n){return n&&Y(n.next)&&Y(n.error)&&Y(n.complete)}function mR(n){return n&&n instanceof $r||gR(n)&&xc(n)}function Uh(n){return Y(n?.lift)}function de(n){return e=>{if(Uh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(n,e,t,r,i){return new jh(n,e,t,r,i)}var jh=class extends $r{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vi(){return de((n,e)=>{let t=null;n._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Li=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Uh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let t=this.getSubject();e.add(this.source.subscribe(oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return Vi()(this)}};var jI=xi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new kc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new jI}next(t){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?xh:(this.currentObservers=null,s.push(t),new Me(()=>{this.currentObservers=null,jr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new kc(e,t),n})(),kc=class extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:xh}};var Qe=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bh={now(){return(Bh.delegate||Date).now()},delegate:void 0};var Fc=class extends Me{constructor(e,t){super()}schedule(e,t=0){return this}};var No={setInterval(n,e,...t){let{delegate:r}=No;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=No;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ui=class extends Fc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return No.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&No.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,jr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ji=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ji.now=Bh.now;var Bi=class extends ji{constructor(e,t=ji.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var $h=new Bi(Ui);var Vc=class extends Ui{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Lc=class extends Bi{};var Hh=new Lc(Vc);var _t=new le(n=>n.complete());function BI(n){return n&&Y(n.schedule)}function $I(n){return n[n.length-1]}function Uc(n){return Y($I(n))?n.pop():void 0}function Xn(n){return BI($I(n))?n.pop():void 0}function qh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function qI(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function HI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hr(n){return this instanceof Hr?(this.v=n,this):new Hr(n)}function zI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,p)}}function c(I,S){r[I]&&(i[I]=function(N){return new Promise(function(M,F){s.push([I,N,M,F])>1||u(I,N)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(N){y(s[0][3],N)}}function l(I){I.value instanceof Hr?Promise.resolve(I.value.v).then(h,p):y(s[0][2],I)}function h(I){u("next",I)}function p(I){u("throw",I)}function y(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function GI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof HI=="function"?HI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,u){o=n[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var jc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Bc(n){return Y(n?.then)}function $c(n){return Y(n[Fi])}function Hc(n){return Symbol.asyncIterator&&Y(n?.[Symbol.asyncIterator])}function qc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zc=yR();function Gc(n){return Y(n?.[zc])}function Wc(n){return zI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Hr(t.read());if(i)return yield Hr(void 0);yield yield Hr(r)}}finally{t.releaseLock()}})}function Kc(n){return Y(n?.getReader)}function ke(n){if(n instanceof le)return n;if(n!=null){if($c(n))return vR(n);if(jc(n))return _R(n);if(Bc(n))return IR(n);if(Hc(n))return WI(n);if(Gc(n))return wR(n);if(Kc(n))return ER(n)}throw qc(n)}function vR(n){return new le(e=>{let t=n[Fi]();if(Y(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _R(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function IR(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Pc)})}function wR(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function WI(n){return new le(e=>{DR(n,e).catch(t=>e.error(t))})}function ER(n){return WI(Wc(n))}function DR(n,e){var t,r,i,s;return qI(this,void 0,void 0,function*(){try{for(t=GI(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function ht(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function er(n,e=0){return de((t,r)=>{t.subscribe(oe(r,i=>ht(r,n,()=>r.next(i),e),()=>ht(r,n,()=>r.complete(),e),i=>ht(r,n,()=>r.error(i),e)))})}function tr(n,e=0){return de((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function KI(n,e){return ke(n).pipe(tr(e),er(e))}function QI(n,e){return ke(n).pipe(tr(e),er(e))}function YI(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ZI(n,e){return new le(t=>{let r;return ht(t,e,()=>{r=n[zc](),ht(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Qc(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{ht(t,e,()=>{let r=n[Symbol.asyncIterator]();ht(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function JI(n,e){return Qc(Wc(n),e)}function XI(n,e){if(n!=null){if($c(n))return KI(n,e);if(jc(n))return YI(n,e);if(Bc(n))return QI(n,e);if(Hc(n))return Qc(n,e);if(Gc(n))return ZI(n,e);if(Kc(n))return JI(n,e)}throw qc(n)}function xe(n,e){return e?XI(n,e):ke(n)}function Z(...n){let e=Xn(n);return xe(n,e)}function $i(n,e){let t=Y(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function zh(n){return!!n&&(n instanceof le||Y(n.lift)&&Y(n.subscribe))}var In=xi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function se(n,e){return de((t,r)=>{let i=0;t.subscribe(oe(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:CR}=Array;function bR(n,e){return CR(e)?n(...e):n(e)}function Yc(n){return se(e=>bR(n,e))}var{isArray:TR}=Array,{getPrototypeOf:SR,prototype:AR,keys:RR}=Object;function Zc(n){if(n.length===1){let e=n[0];if(TR(e))return{args:e,keys:null};if(MR(e)){let t=RR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function MR(n){return n&&typeof n=="object"&&SR(n)===AR}function Jc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xc(...n){let e=Xn(n),t=Uc(n),{args:r,keys:i}=Zc(n);if(r.length===0)return xe([],e);let s=new le(NR(r,e,i?o=>Jc(i,o):vt));return t?s.pipe(Yc(t)):s}function NR(n,e,t=vt){return r=>{ew(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)ew(e,()=>{let l=xe(n[u],e),h=!1;l.subscribe(oe(r,p=>{s[u]=p,h||(h=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function ew(n,e,t){n?ht(t,n,e):e()}function tw(n,e,t,r,i,s,o,c){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=N=>l<r?S(N):u.push(N),S=N=>{s&&e.next(N),l++;let M=!1;ke(t(N,h++)).subscribe(oe(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let F=u.shift();o?ht(e,o,()=>S(F)):S(F)}y()}catch(F){e.error(F)}}))};return n.subscribe(oe(e,I,()=>{p=!0,y()})),()=>{c?.()}}function Be(n,e,t=1/0){return Y(e)?Be((r,i)=>se((s,o)=>e(r,s,i,o))(ke(n(r,i))),t):(typeof e=="number"&&(t=e),de((r,i)=>tw(r,i,n,t)))}function Gh(n=1/0){return Be(vt,n)}function nw(){return Gh(1)}function Hi(...n){return nw()(xe(n,Xn(n)))}function eu(n){return new le(e=>{ke(n()).subscribe(e)})}function Wh(...n){let e=Uc(n),{args:t,keys:r}=Zc(n),i=new le(s=>{let{length:o}=t;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;ke(t[h]).subscribe(oe(s,y=>{p||(p=!0,l--),c[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Jc(r,c):c),s.complete())}))}});return e?i.pipe(Yc(e)):i}function Ut(n,e){return de((t,r)=>{let i=0;t.subscribe(oe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function nr(n){return de((e,t)=>{let r=null,i=!1,s;r=e.subscribe(oe(t,void 0,void 0,o=>{s=ke(n(o,nr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function rw(n,e,t,r,i){return(s,o)=>{let c=t,u=e,l=0;s.subscribe(oe(o,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function qi(n,e){return Y(e)?Be(n,e,1):Be(n,1)}function rr(n){return de((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wn(n){return n<=0?()=>_t:de((e,t)=>{let r=0;e.subscribe(oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Kh(n){return se(()=>n)}function tu(n=xR){return de((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xR(){return new In}function xo(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Qt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ut((i,s)=>n(i,s,r)):vt,wn(1),t?rr(e):tu(()=>new In))}function zi(n){return n<=0?()=>_t:de((e,t)=>{let r=[];e.subscribe(oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ut((i,s)=>n(i,s,r)):vt,zi(1),t?rr(e):tu(()=>new In))}function Yh(n,e){return de(rw(n,e,arguments.length>=2,!0))}function Zh(...n){let e=Xn(n);return de((t,r)=>{(e?Hi(n,t,e):Hi(n,t)).subscribe(r)})}function jt(n,e){return de((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,h=s++;ke(n(u,h)).subscribe(i=oe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Jh(n){return de((e,t)=>{ke(n).subscribe(oe(t,()=>t.complete(),Mo)),!t.closed&&e.subscribe(t)})}function $e(n,e,t){let r=Y(n)||e||t?{next:n,error:e,complete:t}:n;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(oe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vt}var PR="https://g.co/ng/security#xss",U=class extends Error{constructor(e,t){super(np(e,t)),this.code=e}};function np(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ho(n){return{toString:n}.toString()}var nu="__parameters__";function OR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Hw(n,e,t){return Ho(()=>{let r=OR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,h){let p=u.hasOwnProperty(nu)?u[nu]:Object.defineProperty(u,nu,{value:[]})[nu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("Could not find renamed property on target object.")}function kR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ut(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ut).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function iw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var FR=De({__forward_ref__:De});function nn(n){return n.__forward_ref__=nn,n.toString=function(){return ut(this())},n}function ct(n){return qw(n)?n():n}function qw(n){return typeof n=="function"&&n.hasOwnProperty(FR)&&n.__forward_ref__===nn}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ou(n){return sw(n,Gw)||sw(n,Ww)}function zw(n){return Ou(n)!==null}function sw(n,e){return n.hasOwnProperty(e)?n[e]:null}function VR(n){let e=n&&(n[Gw]||n[Ww]);return e||null}function ow(n){return n&&(n.hasOwnProperty(aw)||n.hasOwnProperty(LR))?n[aw]:null}var Gw=De({\u0275prov:De}),aw=De({\u0275inj:De}),Ww=De({ngInjectableDef:De}),LR=De({ngInjectorDef:De}),j=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kw(n){return n&&!!n.\u0275providers}var UR=De({\u0275cmp:De}),jR=De({\u0275dir:De}),BR=De({\u0275pipe:De}),$R=De({\u0275mod:De}),du=De({\u0275fac:De}),ko=De({__NG_ELEMENT_ID__:De}),cw=De({__NG_ENV_ID__:De});function rp(n){return typeof n=="string"?n:n==null?"":String(n)}function HR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():rp(n)}function qR(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,n)}function ip(n,e){throw new U(-201,!1)}var te=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(te||{}),ff;function Qw(){return ff}function Tt(n){let e=ff;return ff=n,e}function Yw(n,e,t){let r=Ou(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&te.Optional)return null;if(e!==void 0)return e;ip(n,"Injector")}var zR={},Fo=zR,pf="__NG_DI_FLAG__",hu="ngTempTokenPath",GR="ngTokenPath",WR=/\n/gm,KR="\u0275",uw="__source",Qi;function QR(){return Qi}function ir(n){let e=Qi;return Qi=n,e}function YR(n,e=te.Default){if(Qi===void 0)throw new U(-203,!1);return Qi===null?Yw(n,void 0,e):Qi.get(n,e&te.Optional?null:void 0,e)}function J(n,e=te.Default){return(Qw()||YR)(ct(n),e)}function k(n,e=te.Default){return J(n,ku(e))}function ku(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gf(n){let e=[];for(let t=0;t<n.length;t++){let r=ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){let c=r[o],u=ZR(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(J(i,s))}else e.push(J(r))}return e}function Zw(n,e){return n[pf]=e,n.prototype[pf]=e,n}function ZR(n){return n[pf]}function JR(n,e,t,r){let i=n[hu];throw e[uw]&&i.unshift(e[uw]),n.message=XR(`
`+n.message,i,t,r),n[GR]=i,n[hu]=null,n}function XR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==KR?n.slice(2):n;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ut(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(WR,`
  `)}`}var dt=Zw(Hw("Optional"),8);var Jw=Zw(Hw("SkipSelf"),4);function Zi(n,e){let t=n.hasOwnProperty(du);return t?n[du]:null}function sp(n,e){n.forEach(t=>Array.isArray(t)?sp(t,e):e(t))}function Xw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function eM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function tM(n,e,t){let r=qo(n,e);return r>=0?n[r|1]=t:(r=~r,eM(n,r,e,t)),r}function Xh(n,e){let t=qo(n,e);if(t>=0)return n[t|1]}function qo(n,e){return nM(n,e,1)}function nM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Ji={},St=[],Xi=new j(""),eE=new j("",-1),tE=new j(""),pu=class{get(e,t=Fo){if(t===Fo){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return t}},nE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nE||{}),Jt=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Jt||{}),ar=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ar||{});function rM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function mf(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];sM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function iM(n){return n===3||n===4||n===6}function sM(n){return n.charCodeAt(0)===64}function Vo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?lw(n,t,i,null,e[++r]):lw(n,t,i,null,null))}}return n}function lw(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var rE="ng-template";function oM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(op(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function op(n){return n.type===4&&n.value!==rE}function aM(n,e,t){let r=n.type===4&&!t?rE:n.value;return e===r}function cM(n,e,t){let r=4,i=n.attrs,s=i!==null?dM(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Bt(r)&&!Bt(u))return!1;if(o&&Bt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!aM(n,u,t)||u===""&&e.length===1){if(Bt(r))return!1;o=!0}}else if(r&8){if(i===null||!oM(n,i,u,t)){if(Bt(r))return!1;o=!0}}else{let l=e[++c],h=uM(u,i,op(n),t);if(h===-1){if(Bt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Bt(r))return!1;o=!0}}}}return Bt(r)||o}function Bt(n){return(n&1)===0}function uM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return hM(e,n)}function lM(n,e,t=!1){for(let r=0;r<e.length;r++)if(cM(n,e[r],t))return!0;return!1}function dM(n){for(let e=0;e<n.length;e++){let t=n[e];if(iM(t))return e}return n.length}function hM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function dw(n,e){return n?":not("+e.trim()+")":e}function fM(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Bt(o)&&(e+=dw(s,i),i=""),r=o,s=s||!Bt(r);t++}return i!==""&&(e+=dw(s,i)),e}function pM(n){return n.map(fM).join(",")}function gM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Bt(i))break;i=s}r++}return{attrs:e,classes:t}}function dr(n){return Ho(()=>{let e=cE(n),t=ie(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Jt.Emulated,styles:n.styles||St,_:null,schemas:n.schemas||null,tView:null,id:""});uE(t);let r=n.dependencies;return t.directiveDefs=fw(r,!1),t.pipeDefs=fw(r,!0),t.id=vM(t),t})}function mM(n){return zr(n)||iE(n)}function yM(n){return n!==null}function ei(n){return Ho(()=>({type:n.type,bootstrap:n.bootstrap||St,declarations:n.declarations||St,imports:n.imports||St,exports:n.exports||St,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function hw(n,e){if(n==null)return Ji;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=ar.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==ar.None?[r,c]:r,e[s]=o):t[s]=r}return t}function Oe(n){return Ho(()=>{let e=cE(n);return uE(e),e})}function zr(n){return n[UR]||null}function iE(n){return n[jR]||null}function sE(n){return n[BR]||null}function oE(n){let e=zr(n)||iE(n)||sE(n);return e!==null?e.standalone:!1}function aE(n,e){let t=n[$R]||null;if(!t&&e===!0)throw new Error(`Type ${ut(n)} does not have '\u0275mod' property.`);return t}function cE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ji,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||St,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hw(n.inputs,e),outputs:hw(n.outputs),debugInfo:null}}function uE(n){n.features?.forEach(e=>e(n))}function fw(n,e){if(!n)return null;let t=e?sE:mM;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(yM)}function vM(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rn(n){return{\u0275providers:n}}function _M(...n){return{\u0275providers:lE(!0,n),\u0275fromNgModule:!0}}function lE(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return sp(e,o=>{let c=o;yf(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&dE(i,s),t}function dE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ap(i,s=>{e(s,r)})}}function yf(n,e,t,r){if(n=ct(n),!n)return!1;let i=null,s=ow(n),o=!s&&zr(n);if(!s&&!o){let u=n.ngModule;if(s=ow(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)yf(l,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{sp(s.imports,h=>{yf(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&dE(l,e)}if(!c){let l=Zi(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:tE,useValue:i,multi:!0},i),e({provide:Xi,useValue:()=>J(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=n;ap(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ap(n,e){for(let t of n)Kw(t)&&(t=t.\u0275providers),Array.isArray(t)?ap(t,e):e(t)}var IM=De({provide:String,useValue:De});function hE(n){return n!==null&&typeof n=="object"&&IM in n}function wM(n){return!!(n&&n.useExisting)}function EM(n){return!!(n&&n.useFactory)}function es(n){return typeof n=="function"}function DM(n){return!!n.useClass}var Fu=new j(""),ou={},CM={},ef;function cp(){return ef===void 0&&(ef=new pu),ef}var Mt=class{},Lo=class extends Mt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_f(e,o=>this.processProvider(o)),this.records.set(eE,Gi(void 0,this)),i.has("environment")&&this.records.set(Mt,Gi(void 0,this));let s=this.records.get(Fu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tE,St,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ir(this),r=Tt(void 0),i;try{return e()}finally{ir(t),Tt(r)}}get(e,t=Fo,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cw))return e[cw](this);r=ku(r);let i,s=ir(this),o=Tt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=RM(e)&&Ou(e);l&&this.injectableDefInScope(l)?u=Gi(vf(e),ou):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&te.Self?cp():this.parent;return t=r&te.Optional&&t===Fo?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[hu]=c[hu]||[]).unshift(ut(e)),s)throw c;return JR(c,e,"R3InjectorError",this.source)}else throw c}finally{Tt(o),ir(s)}}resolveInjectorInitializers(){let e=pe(null),t=ir(this),r=Tt(void 0),i;try{let s=this.get(Xi,St,te.Self);for(let o of s)o()}finally{ir(t),Tt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=ct(e);let t=es(e)?e:ct(e&&e.provide),r=TM(e);if(!es(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Gi(void 0,ou,!0),i.factory=()=>gf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===ou&&(t.value=CM,t.value=t.factory()),typeof t.value=="object"&&t.value&&AM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vf(n){let e=Ou(n),t=e!==null?e.factory:Zi(n);if(t!==null)return t;if(n instanceof j)throw new U(204,!1);if(n instanceof Function)return bM(n);throw new U(204,!1)}function bM(n){if(n.length>0)throw new U(204,!1);let t=VR(n);return t!==null?()=>t.factory(n):()=>new n}function TM(n){if(hE(n))return Gi(void 0,n.useValue);{let e=fE(n);return Gi(e,ou)}}function fE(n,e,t){let r;if(es(n)){let i=ct(n);return Zi(i)||vf(i)}else if(hE(n))r=()=>ct(n.useValue);else if(EM(n))r=()=>n.useFactory(...gf(n.deps||[]));else if(wM(n))r=()=>J(ct(n.useExisting));else{let i=ct(n&&(n.useClass||n.provide));if(SM(n))r=()=>new i(...gf(n.deps));else return Zi(i)||vf(i)}return r}function Gi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function SM(n){return!!n.deps}function AM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function RM(n){return typeof n=="function"||typeof n=="object"&&n instanceof j}function _f(n,e){for(let t of n)Array.isArray(t)?_f(t,e):t&&Kw(t)?_f(t.\u0275providers,e):e(t)}function Tn(n,e){n instanceof Lo&&n.assertNotDestroyed();let t,r=ir(n),i=Tt(void 0);try{return e()}finally{ir(r),Tt(i)}}function MM(){return Qw()!==void 0||QR()!=null}function NM(n){return typeof n=="function"}var Sn=0,ae=1,G=2,lt=3,$t=4,Ht=5,gu=6,mu=7,Xt=8,ts=9,En=10,Ye=11,Uo=12,pw=13,us=14,en=15,ns=16,Wi=17,rs=18,Vu=19,pE=20,sr=21,tf=22,At=23,cr=25,gE=1;var Gr=7,yu=8,vu=9,Rt=10,_u=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(_u||{});function or(n){return Array.isArray(n)&&typeof n[gE]=="object"}function An(n){return Array.isArray(n)&&n[gE]===!0}function mE(n){return(n.flags&4)!==0}function Lu(n){return n.componentOffset>-1}function up(n){return(n.flags&1)===1}function ur(n){return!!n.template}function If(n){return(n[G]&512)!==0}var wf=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function yE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function hr(){return vE}function vE(n){return n.type.prototype.ngOnChanges&&(n.setInput=PM),xM}hr.ngInherit=!0;function xM(){let n=IE(this),e=n?.current;if(e){let t=n.previous;if(t===Ji)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function PM(n,e,t,r,i){let s=this.declaredInputs[r],o=IE(n)||OM(n,{previous:Ji,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new wf(l&&l.currentValue,t,u===Ji),yE(n,e,i,t)}var _E="__ngSimpleChanges__";function IE(n){return n[_E]||null}function OM(n,e){return n[_E]=e}var gw=null;var Yt=function(n,e,t){gw?.(n,e,t)},kM="svg",FM="math";function tn(n){for(;Array.isArray(n);)n=n[Sn];return n}function wE(n,e){return tn(e[n])}function Nt(n,e){return tn(e[n.index])}function EE(n,e){return n.data[e]}function fr(n,e){let t=e[n];return or(t)?t:t[Sn]}function lp(n){return(n[G]&128)===128}function VM(n){return An(n[lt])}function Iu(n,e){return e==null?null:n[e]}function DE(n){n[Wi]=0}function CE(n){n[G]&1024||(n[G]|=1024,lp(n)&&ju(n))}function LM(n,e){for(;n>0;)e=e[us],n--;return e}function Uu(n){return!!(n[G]&9216||n[At]?.dirty)}function Ef(n){n[En].changeDetectionScheduler?.notify(8),n[G]&64&&(n[G]|=1024),Uu(n)&&ju(n)}function ju(n){n[En].changeDetectionScheduler?.notify(0);let e=Wr(n);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!lp(e)));)e=Wr(e)}function bE(n,e){if((n[G]&256)===256)throw new U(911,!1);n[sr]===null&&(n[sr]=[]),n[sr].push(e)}function UM(n,e){if(n[sr]===null)return;let t=n[sr].indexOf(e);t!==-1&&n[sr].splice(t,1)}function Wr(n){let e=n[lt];return An(e)?e[lt]:e}var he={lFrame:OE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var TE=!1;function jM(){return he.lFrame.elementDepthCount}function BM(){he.lFrame.elementDepthCount++}function $M(){he.lFrame.elementDepthCount--}function SE(){return he.bindingsEnabled}function HM(){return he.skipHydrationRootTNode!==null}function qM(n){return he.skipHydrationRootTNode===n}function zM(){he.skipHydrationRootTNode=null}function Pe(){return he.lFrame.lView}function qt(){return he.lFrame.tView}function It(){let n=AE();for(;n!==null&&n.type===64;)n=n.parent;return n}function AE(){return he.lFrame.currentTNode}function GM(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function zo(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function RE(){return he.lFrame.isParent}function WM(){he.lFrame.isParent=!1}function ME(){return TE}function mw(n){TE=n}function KM(n){return he.lFrame.bindingIndex=n}function dp(){return he.lFrame.bindingIndex++}function QM(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function YM(){return he.lFrame.inI18n}function ZM(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,Df(e)}function JM(){return he.lFrame.currentDirectiveIndex}function Df(n){he.lFrame.currentDirectiveIndex=n}function XM(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function NE(n){he.lFrame.currentQueryIndex=n}function eN(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[Ht]:null}function xE(n,e,t){if(t&te.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&te.Host);)if(i=eN(s),i===null||(s=s[us],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=he.lFrame=PE();return r.currentTNode=e,r.lView=n,!0}function hp(n){let e=PE(),t=n[ae];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function PE(){let n=he.lFrame,e=n===null?null:n.child;return e===null?OE(n):e}function OE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function kE(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var FE=kE;function fp(){let n=kE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tN(n){return(he.lFrame.contextLView=LM(n,he.lFrame.contextLView))[Xt]}function ls(){return he.lFrame.selectedIndex}function Kr(n){he.lFrame.selectedIndex=n}function VE(){let n=he.lFrame;return EE(n.tView,n.selectedIndex)}function nN(){return he.lFrame.currentNamespace}var LE=!0;function pp(){return LE}function gp(n){LE=n}function rN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=vE(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function mp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function au(n,e,t){UE(n,e,3,t)}function cu(n,e,t,r){(n[G]&3)===t&&UE(n,e,t,r)}function nf(n,e){let t=n[G];(t&3)===e&&(t&=16383,t+=1,n[G]=t)}function UE(n,e,t,r){let i=r!==void 0?n[Wi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Wi]+=65536),(c<s||s==-1)&&(iN(n,t,e,u),n[Wi]=(n[Wi]&4294901760)+u+2),u++}function yw(n,e){Yt(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),Yt(5,n,e)}}function iN(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[G]>>14<n[Wi]>>16&&(n[G]&3)===e&&(n[G]+=16384,yw(c,s)):yw(c,s)}var Yi=-1,Qr=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function sN(n){return n instanceof Qr}function oN(n){return(n.flags&8)!==0}function aN(n){return(n.flags&16)!==0}var rf={},Cf=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ku(r);let i=this.injector.get(e,rf,r);return i!==rf||t===rf?i:this.parentInjector.get(e,t,r)}};function jE(n){return n!==Yi}function wu(n){return n&32767}function cN(n){return n>>16}function Eu(n,e){let t=cN(n),r=e;for(;t>0;)r=r[us],t--;return r}var bf=!0;function vw(n){let e=bf;return bf=n,e}var uN=256,BE=uN-1,$E=5,lN=0,Zt={};function dN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ko)&&(r=t[ko]),r==null&&(r=t[ko]=lN++);let i=r&BE,s=1<<i;e.data[n+(i>>$E)]|=s}function Du(n,e){let t=HE(n,e);if(t!==-1)return t;let r=e[ae];r.firstCreatePass&&(n.injectorIndex=e.length,sf(r.data,n),sf(e,null),sf(r.blueprint,null));let i=yp(n,e),s=n.injectorIndex;if(jE(i)){let o=wu(i),c=Eu(i,e),u=c[ae].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function sf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function HE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function yp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=KE(i),r===null)return Yi;if(t++,i=i[us],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Yi}function Tf(n,e,t){dN(n,e,t)}function qE(n,e,t){if(t&te.Optional||n!==void 0)return n;ip(e,"NodeInjector")}function zE(n,e,t,r){if(t&te.Optional&&r===void 0&&(r=null),!(t&(te.Self|te.Host))){let i=n[ts],s=Tt(void 0);try{return i?i.get(e,r,t&te.Optional):Yw(e,r,t&te.Optional)}finally{Tt(s)}}return qE(r,e,t)}function GE(n,e,t,r=te.Default,i){if(n!==null){if(e[G]&2048&&!(r&te.Self)){let o=mN(n,e,t,r,Zt);if(o!==Zt)return o}let s=WE(n,e,t,r,Zt);if(s!==Zt)return s}return zE(e,t,r,i)}function WE(n,e,t,r,i){let s=pN(t);if(typeof s=="function"){if(!xE(e,n,r))return r&te.Host?qE(i,t,r):zE(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&te.Optional))ip(t);else return o}finally{FE()}}else if(typeof s=="number"){let o=null,c=HE(n,e),u=Yi,l=r&te.Host?e[en][Ht]:null;for((c===-1||r&te.SkipSelf)&&(u=c===-1?yp(n,e):e[c+8],u===Yi||!Iw(r,!1)?c=-1:(o=e[ae],c=wu(u),e=Eu(u,e)));c!==-1;){let h=e[ae];if(_w(s,c,h.data)){let p=hN(c,e,t,o,r,l);if(p!==Zt)return p}u=e[c+8],u!==Yi&&Iw(r,e[ae].data[c+8]===l)&&_w(s,c,e)?(o=h,c=wu(u),e=Eu(u,e)):c=-1}}return i}function hN(n,e,t,r,i,s){let o=e[ae],c=o.data[n+8],u=r==null?Lu(c)&&bf:r!=o&&(c.type&3)!==0,l=i&te.Host&&s===c,h=fN(c,o,t,u,l);return h!==null?is(e,o,h,c):Zt}function fN(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,u=n.directiveStart,l=n.directiveEnd,h=s>>20,p=r?c:c+h,y=i?c+h:l;for(let I=p;I<y;I++){let S=o[I];if(I<u&&t===S||I>=u&&S.type===t)return I}if(i){let I=o[u];if(I&&ur(I)&&I.type===t)return u}return null}function is(n,e,t,r){let i=n[t],s=e.data;if(sN(i)){let o=i;o.resolving&&qR(HR(s[t]));let c=vw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Tt(o.injectImpl):null,h=xE(n,r,te.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&rN(t,s[t],e)}finally{l!==null&&Tt(l),vw(c),o.resolving=!1,FE()}}return i}function pN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ko)?n[ko]:void 0;return typeof e=="number"?e>=0?e&BE:gN:e}function _w(n,e,t){let r=1<<n;return!!(t[e+(n>>$E)]&r)}function Iw(n,e){return!(n&te.Self)&&!(n&te.Host&&e)}var qr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GE(this._tNode,this._lView,e,ku(r),t)}};function gN(){return new qr(It(),Pe())}function Rn(n){return Ho(()=>{let e=n.prototype.constructor,t=e[du]||Sf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[du]||Sf(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Sf(n){return qw(n)?()=>{let e=Sf(ct(n));return e&&e()}:Zi(n)}function mN(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let c=WE(s,o,t,r|te.Self,Zt);if(c!==Zt)return c;let u=s.parent;if(!u){let l=o[pE];if(l){let h=l.get(t,Zt,r);if(h!==Zt)return h}u=KE(o),o=o[us]}s=u}return i}function KE(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[Ht]:null}function ww(n,e=null,t=null,r){let i=QE(n,e,t,r);return i.resolveInjectorInitializers(),i}function QE(n,e=null,t=null,r,i=new Set){let s=[t||St,_M(n)];return r=r||(typeof n=="object"?void 0:ut(n)),new Lo(s,e||cp(),r||null,i)}var ft=class n{static{this.THROW_IF_NOT_FOUND=Fo}static{this.NULL=new pu}static create(e,t){if(Array.isArray(e))return ww({name:""},t,e,"");{let r=e.name??"";return ww({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:n,providedIn:"any",factory:()=>J(eE)})}static{this.__NG_ELEMENT_ID__=-1}};var yN=new j("");yN.__NG_ELEMENT_ID__=n=>{let e=It();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&te.Optional)return null;throw new U(204,!1)};var vN="ngOriginalError";function of(n){return n[vN]}var YE=!0,ZE=(()=>{class n{static{this.__NG_ELEMENT_ID__=_N}static{this.__NG_ENV_ID__=t=>t}}return n})(),Af=class extends ZE{constructor(e){super(),this._lView=e}onDestroy(e){return bE(this._lView,e),()=>UM(this._lView,e)}};function _N(){return new Af(Pe())}var ds=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Rf=class extends Ke{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,MM()&&(this.destroyRef=k(ZE,{optional:!0})??void 0,this.pendingTasks=k(ds,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=Rf;function Cu(...n){}function JE(n){let e,t;function r(){n=Cu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Ew(n){return queueMicrotask(()=>n()),()=>{n=Cu}}var vp="isAngularZone",bu=vp+"_ID",IN=0,we=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=YE}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,DN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wN,Cu,Cu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},wN={};function _p(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function EN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){JE(()=>{n.callbackScheduled=!1,Mf(n),n.isCheckStableRunning=!0,_p(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Mf(n)}function DN(n){let e=()=>{EN(n)},t=IN++;n._inner=n._inner.fork({name:"angular",properties:{[vp]:!0,[bu]:t,[bu+t]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(CN(u))return r.invokeTask(s,o,c,u);try{return Dw(n),r.invokeTask(s,o,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Cw(n)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return Dw(n),r.invoke(s,o,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!bN(u)&&e(),Cw(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Mf(n),_p(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Mf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Dw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Cw(n){n._nesting--,_p(n)}var Nf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function CN(n){return XE(n,"__ignore_ng_zone__")}function bN(n){return XE(n,"__scheduler_tick__")}function XE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Dn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&of(e);for(;t&&of(t);)t=of(t);return t||null}},TN=new j("",{providedIn:"root",factory:()=>{let n=k(we),e=k(Dn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function SN(){return Bu(It(),Pe())}function Bu(n,e){return new Mn(Nt(n,e))}var Mn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=SN}}return n})();function eD(n){return(n.flags&128)===128}var tD=new Map,AN=0;function RN(){return AN++}function MN(n){tD.set(n[Vu],n)}function xf(n){tD.delete(n[Vu])}var bw="__ngContext__";function Yr(n,e){or(e)?(n[bw]=e[Vu],MN(e)):n[bw]=e}function nD(n){return iD(n[Uo])}function rD(n){return iD(n[$t])}function iD(n){for(;n!==null&&!An(n);)n=n[$t];return n}var Pf;function sD(n){Pf=n}function NN(){if(Pf!==void 0)return Pf;if(typeof document<"u")return document;throw new U(210,!1)}var Ip=new j("",{providedIn:"root",factory:()=>xN}),xN="ng",wp=new j(""),pr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Ep=new j("",{providedIn:"root",factory:()=>NN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PN="h",ON="b";var kN=()=>null;function Dp(n,e,t=!1){return kN(n,e,t)}var oD=!1,FN=new j("",{providedIn:"root",factory:()=>oD});var Of=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PR})`}};function Cp(n){return n instanceof Of?n.changingThisBreaksApplicationSecurity:n}function aD(n){return n instanceof Function?n():n}var Cn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cn||{}),VN;function bp(n,e){return VN(n,e)}function Ki(n,e,t,r,i){if(r!=null){let s,o=!1;An(r)?s=r:or(r)&&(o=!0,r=r[Sn]);let c=tn(r);n===0&&t!==null?i==null?hD(e,t,c):Tu(e,t,c,i||null,!0):n===1&&t!==null?Tu(e,t,c,i||null,!0):n===2?JN(e,c,o):n===3&&e.destroyNode(c),s!=null&&ex(e,n,s,t,i)}}function LN(n,e){return n.createText(e)}function UN(n,e,t){n.setValue(e,t)}function cD(n,e,t){return n.createElement(e,t)}function jN(n,e){uD(n,e),e[Sn]=null,e[Ht]=null}function BN(n,e,t,r,i,s){r[Sn]=i,r[Ht]=e,$u(n,r,t,1,i,s)}function uD(n,e){e[En].changeDetectionScheduler?.notify(9),$u(n,e,e[Ye],2,null,null)}function $N(n){let e=n[Uo];if(!e)return af(n[ae],n);for(;e;){let t=null;if(or(e))t=e[Uo];else{let r=e[Rt];r&&(t=r)}if(!t){for(;e&&!e[$t]&&e!==n;)or(e)&&af(e[ae],e),e=e[lt];e===null&&(e=n),or(e)&&af(e[ae],e),t=e&&e[$t]}e=t}}function HN(n,e,t,r){let i=Rt+r,s=t.length;r>0&&(t[i-1][$t]=e),r<s-Rt?(e[$t]=t[i],Xw(t,Rt+r,e)):(t.push(e),e[$t]=null),e[lt]=t;let o=e[ns];o!==null&&t!==o&&lD(o,e);let c=e[rs];c!==null&&c.insertView(n),Ef(e),e[G]|=128}function lD(n,e){let t=n[vu],r=e[lt];if(or(r))n[G]|=_u.HasTransplantedViews;else{let i=r[lt][en];e[en]!==i&&(n[G]|=_u.HasTransplantedViews)}t===null?n[vu]=[e]:t.push(e)}function Tp(n,e){let t=n[vu],r=t.indexOf(e);t.splice(r,1)}function kf(n,e){if(n.length<=Rt)return;let t=Rt+e,r=n[t];if(r){let i=r[ns];i!==null&&i!==n&&Tp(i,r),e>0&&(n[t-1][$t]=r[$t]);let s=fu(n,Rt+e);jN(r[ae],r);let o=s[rs];o!==null&&o.detachView(s[ae]),r[lt]=null,r[$t]=null,r[G]&=-129}return r}function dD(n,e){if(!(e[G]&256)){let t=e[Ye];t.destroyNode&&$u(n,e,t,3,null,null),$N(e)}}function af(n,e){if(e[G]&256)return;let t=pe(null);try{e[G]&=-129,e[G]|=256,e[At]&&Mh(e[At]),zN(n,e),qN(n,e),e[ae].type===1&&e[Ye].destroy();let r=e[ns];if(r!==null&&An(e[lt])){r!==e[lt]&&Tp(r,e);let i=e[rs];i!==null&&i.detachView(n)}xf(e)}finally{pe(t)}}function qN(n,e){let t=n.cleanup,r=e[mu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[mu]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function zN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Qr)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Yt(4,c,u);try{u.call(c)}finally{Yt(5,c,u)}}else{Yt(4,i,s);try{s.call(i)}finally{Yt(5,i,s)}}}}}function GN(n,e,t){return WN(n,e.parent,t)}function WN(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Sn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return Nt(r,t)}}function Tu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function hD(n,e,t){n.appendChild(e,t)}function Tw(n,e,t,r,i){r!==null?Tu(n,e,t,r,i):hD(n,e,t)}function fD(n,e){return n.parentNode(e)}function KN(n,e){return n.nextSibling(e)}function QN(n,e,t){return ZN(n,e,t)}function YN(n,e,t){return n.type&40?Nt(n,t):null}var ZN=YN,Sw;function Sp(n,e,t,r){let i=GN(n,r,e),s=e[Ye],o=r.parent||e[Ht],c=QN(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Tw(s,i,t[u],c,!1);else Tw(s,i,t,c,!1);Sw!==void 0&&Sw(s,r,e,t,i)}function Po(n,e){if(e!==null){let t=e.type;if(t&3)return Nt(e,n);if(t&4)return Ff(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Po(n,r);{let i=n[e.index];return An(i)?Ff(-1,i):tn(i)}}else{if(t&128)return Po(n,e.next);if(t&32)return bp(e,n)()||tn(n[e.index]);{let r=pD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(n[en]);return Po(i,r)}else return Po(n,e.next)}}}return null}function pD(n,e){if(e!==null){let r=n[en][Ht],i=e.projection;return r.projection[i]}return null}function Ff(n,e){let t=Rt+n+1;if(t<e.length){let r=e[t],i=r[ae].firstChild;if(i!==null)return Po(r,i)}return e[Gr]}function JN(n,e,t){n.removeChild(null,e,t)}function Ap(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(o&&e===0&&(c&&Yr(tn(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Ap(n,e,t.child,r,i,s,!1),Ki(e,n,i,c,s);else if(u&32){let l=bp(t,r),h;for(;h=l();)Ki(e,n,i,h,s);Ki(e,n,i,c,s)}else u&16?XN(n,e,r,t,i,s):Ki(e,n,i,c,s);t=o?t.projectionNext:t.next}}function $u(n,e,t,r,i,s){Ap(t,r,n.firstChild,e,i,s,!1)}function XN(n,e,t,r,i,s){let o=t[en],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ki(e,n,i,h,s)}else{let l=u,h=o[lt];eD(r)&&(l.flags|=128),Ap(n,e,l,h,i,s,!0)}}function ex(n,e,t,r,i){let s=t[Gr],o=tn(t);s!==o&&Ki(e,n,r,s,i);for(let c=Rt;c<t.length;c++){let u=t[c];$u(u[ae],u,n,e,r,s)}}function tx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),n.setStyle(t,r,i,s))}}function nx(n,e,t){n.setAttribute(e,"style",t)}function gD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function mD(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&mf(n,e,r),i!==null&&gD(n,e,i),s!==null&&nx(n,e,s)}var hs={};function gr(n=1){yD(qt(),Pe(),ls()+n,!1)}function yD(n,e,t,r){if(!r)if((e[G]&3)===3){let s=n.preOrderCheckHooks;s!==null&&au(e,s,t)}else{let s=n.preOrderHooks;s!==null&&cu(e,s,0,t)}Kr(t)}function ne(n,e=te.Default){let t=Pe();if(t===null)return J(n,e);let r=It();return GE(r,t,ct(n),e)}function vD(n,e,t,r,i,s){let o=pe(null);try{let c=null;i&ar.SignalBased&&(c=e[r][Jn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ar.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):yE(e,c,r,s)}finally{pe(o)}}function rx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Kr(~i);else{let s=i,o=t[++r],c=t[++r];ZM(o,s);let u=e[s];c(2,u)}}}finally{Kr(-1)}}function Hu(n,e,t,r,i,s,o,c,u,l,h){let p=e.blueprint.slice();return p[Sn]=i,p[G]=r|4|128|8|64,(l!==null||n&&n[G]&2048)&&(p[G]|=2048),DE(p),p[lt]=p[us]=n,p[Xt]=t,p[En]=o||n&&n[En],p[Ye]=c||n&&n[Ye],p[ts]=u||n&&n[ts]||null,p[Ht]=s,p[Vu]=RN(),p[gu]=h,p[pE]=l,p[en]=e.type==2?n[en]:p,p}function qu(n,e,t,r,i){let s=n.data[e];if(s===null)s=ix(n,e,t,r,i),YM()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=GM();s.injectorIndex=o===null?-1:o.injectorIndex}return zo(s,!0),s}function ix(n,e,t,r,i){let s=AE(),o=RE(),c=o?s:s&&s.parent,u=n.data[e]=ux(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function _D(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ID(n,e,t,r,i){let s=ls(),o=r&2;try{Kr(-1),o&&e.length>cr&&yD(n,e,cr,!1),Yt(o?2:0,i),t(r,i)}finally{Kr(s),Yt(o?3:1,i)}}function wD(n,e,t){if(mE(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let u=t[o];c.contentQueries(1,u,o)}}}finally{pe(r)}}}function ED(n,e,t){SE()&&(mx(n,e,t,Nt(t,e)),(t.flags&64)===64&&SD(n,e,t))}function DD(n,e,t=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function CD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Rp(n,e,t,r,i,s,o,c,u,l,h){let p=cr+r,y=p+i,I=sx(p,y),S=typeof l=="function"?l():l;return I[ae]={type:n,blueprint:I,template:t,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function sx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:hs);return t}function ox(n,e,t,r){let s=r.get(FN,oD)||t===Jt.ShadowDom,o=n.selectRootElement(e,s);return ax(o),o}function ax(n){cx(n)}var cx=()=>null;function ux(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return HM()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Aw(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=ar.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?Rw(r,t,l,c,u):Rw(r,t,l,c)}return r}function Rw(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function lx(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],y=t?t.get(p):null,I=y?y.inputs:null,S=y?y.outputs:null;u=Aw(0,p.inputs,h,u,I),l=Aw(1,p.outputs,h,l,S);let N=u!==null&&o!==null&&!op(e)?Sx(u,h,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function dx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function hx(n,e,t,r,i,s,o,c){let u=Nt(e,t),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(Mp(n,t,h,r,i),Lu(e)&&fx(t,e.index)):e.type&3?(r=dx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function fx(n,e){let t=fr(e,n);t[G]&16||(t[G]|=64)}function bD(n,e,t,r){if(SE()){let i=r===null?null:{"":-1},s=vx(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&TD(n,e,t,o,i,c),i&&_x(t,r,i)}t.mergedAttrs=Vo(t.mergedAttrs,t.attrs)}function TD(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Tf(Du(t,e),n,r[l].type);wx(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,c=!1,u=_D(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=Vo(t.mergedAttrs,h.hostAttrs),Ex(n,t,e,u,h),Ix(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}lx(n,t,s)}function px(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;gx(o)!=c&&o.push(c),o.push(t,r,s)}}function gx(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function mx(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Lu(t)&&Dx(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Du(t,e),Yr(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let u=n.data[c],l=is(e,n,c,t);if(Yr(l,e),o!==null&&Tx(e,c-i,l,u,t,o),ur(u)){let h=fr(t.index,e);h[Xt]=is(e,n,c,t)}}}function SD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=JM();try{Kr(s);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Df(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&yx(u,l)}}finally{Kr(-1),Df(o)}}function yx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function vx(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(lM(e,o.selectors,!1))if(r||(r=[]),ur(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Vf(n,e,u)}else r.unshift(o),Vf(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Vf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function _x(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new U(-301,!1);r.push(e[i],s)}}}function Ix(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ur(e)&&(t[""]=n)}}function wx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ex(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Zi(i.type,!0)),o=new Qr(s,ur(i),ne);n.blueprint[r]=o,t[r]=o,px(n,e,r,_D(n,t,i.hostVars,hs),i)}function Dx(n,e,t){let r=Nt(e,n),i=CD(t),s=n[En].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=zu(n,Hu(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function Cx(n,e,t,r,i,s){let o=Nt(n,e);bx(e[Ye],o,s,n.value,t,r,i)}function bx(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let c=o==null?rp(s):o(s,r||"",i);n.setAttribute(e,i,c,t)}}function Tx(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],h=o[c++],p=o[c++];vD(r,t,u,l,h,p)}}function Sx(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function AD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function RD(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];NE(s),c.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function zu(n,e){return n[Uo]?n[pw][$t]=e:n[Uo]=e,n[pw]=e,e}function Lf(n,e,t){NE(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function Ax(n){return n[mu]??=[]}function Rx(n){return n.cleanup??=[]}function MD(n,e){let t=n[ts],r=t?t.get(Dn,null):null;r&&r.handleError(e)}function Mp(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],u=t[s++],l=e[o],h=n.data[o];vD(h,l,r,c,u,i)}}function Mx(n,e,t){let r=wE(e,n);UN(n[Ye],r,t)}function Nx(n,e){let t=fr(e,n),r=t[ae];xx(r,t);let i=t[Sn];i!==null&&t[gu]===null&&(t[gu]=Dp(i,t[ts])),Np(r,t,t[Xt])}function xx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Np(n,e,t){hp(e);try{let r=n.viewQuery;r!==null&&Lf(1,r,t);let i=n.template;i!==null&&ID(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[rs]?.finishViewCreation(n),n.staticContentQueries&&RD(n,e),n.staticViewQueries&&Lf(2,n.viewQuery,t);let s=n.components;s!==null&&Px(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[G]&=-5,fp()}}function Px(n,e){for(let t=0;t<e.length;t++)Nx(n,e[t])}function Ox(n,e,t,r){let i=pe(null);try{let s=e.tView,c=n[G]&4096?4096:16,u=Hu(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ns]=l;let h=n[rs];return h!==null&&(u[rs]=h.createEmbeddedView(s)),Np(s,u,t),u}finally{pe(i)}}function Mw(n,e){return!e||e.firstChild===null||eD(n)}function kx(n,e,t,r=!0){let i=e[ae];if(HN(i,e,n,t),r){let o=Ff(t,n),c=e[Ye],u=fD(c,n[Gr]);u!==null&&BN(i,n[Ht],c,e,u,o)}let s=e[gu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Su(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(tn(s)),An(s)&&Fx(s,r);let o=t.type;if(o&8)Su(n,e,t.child,r);else if(o&32){let c=bp(t,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=pD(e,t);if(Array.isArray(c))r.push(...c);else{let u=Wr(e[en]);Su(u[ae],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Fx(n,e){for(let t=Rt;t<n.length;t++){let r=n[t],i=r[ae].firstChild;i!==null&&Su(r[ae],r,i,e)}n[Gr]!==n[Sn]&&e.push(n[Gr])}var ND=[];function Vx(n){return n[At]??Lx(n)}function Lx(n){let e=ND.pop()??Object.create(jx);return e.lView=n,e}function Ux(n){n.lView[At]!==n&&(n.lView=null,ND.push(n))}var jx=ie(O({},Ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ju(n.lView)},consumerOnSignalRead(){this.lView[At]=this}});function Bx(n){let e=n[At]??Object.create($x);return e.lView=n,e}var $x=ie(O({},Ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Wr(n.lView);for(;e&&!xD(e[ae]);)e=Wr(e);e&&CE(e)},consumerOnSignalRead(){this.lView[At]=this}});function xD(n){return n.type!==2}var Hx=100;function PD(n,e=!0,t=0){let r=n[En],i=r.rendererFactory,s=!1;s||i.begin?.();try{qx(n,t)}catch(o){throw e&&MD(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function qx(n,e){let t=ME();try{mw(!0),Uf(n,e);let r=0;for(;Uu(n);){if(r===Hx)throw new U(103,!1);r++,Uf(n,1)}}finally{mw(t)}}function zx(n,e,t,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[En].inlineEffectRunner?.flush(),hp(e);let c=!0,u=null,l=null;s||(xD(n)?(l=Vx(e),u=Ac(l)):II()===null?(c=!1,l=Bx(e),u=Ac(l)):e[At]&&(Mh(e[At]),e[At]=null));try{DE(e),KM(n.bindingStartIndex),t!==null&&ID(n,e,t,2,r);let h=(i&3)===3;if(!s)if(h){let I=n.preOrderCheckHooks;I!==null&&au(e,I,null)}else{let I=n.preOrderHooks;I!==null&&cu(e,I,0,null),nf(e,0)}if(o||Gx(e),OD(e,0),n.contentQueries!==null&&RD(n,e),!s)if(h){let I=n.contentCheckHooks;I!==null&&au(e,I)}else{let I=n.contentHooks;I!==null&&cu(e,I,1),nf(e,1)}rx(n,e);let p=n.components;p!==null&&FD(e,p,0);let y=n.viewQuery;if(y!==null&&Lf(2,y,r),!s)if(h){let I=n.viewCheckHooks;I!==null&&au(e,I)}else{let I=n.viewHooks;I!==null&&cu(e,I,2),nf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[tf]){for(let I of e[tf])I();e[tf]=null}s||(e[G]&=-73)}catch(h){throw s||ju(e),h}finally{l!==null&&(Ah(l,u),c&&Ux(l)),fp()}}function OD(n,e){for(let t=nD(n);t!==null;t=rD(t))for(let r=Rt;r<t.length;r++){let i=t[r];kD(i,e)}}function Gx(n){for(let e=nD(n);e!==null;e=rD(e)){if(!(e[G]&_u.HasTransplantedViews))continue;let t=e[vu];for(let r=0;r<t.length;r++){let i=t[r];CE(i)}}}function Wx(n,e,t){let r=fr(e,n);kD(r,t)}function kD(n,e){lp(n)&&Uf(n,e)}function Uf(n,e){let r=n[ae],i=n[G],s=n[At],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Rh(s)),o||=!1,s&&(s.dirty=!1),n[G]&=-9217,o)zx(r,n,r.template,n[Xt]);else if(i&8192){OD(n,1);let c=r.components;c!==null&&FD(n,c,1)}}function FD(n,e,t){for(let r=0;r<e.length;r++)Wx(n,e[r],t)}function xp(n,e){let t=ME()?64:1088;for(n[En].changeDetectionScheduler?.notify(e);n;){n[G]|=t;let r=Wr(n);if(If(n)&&!r)return n;n=r}return null}var Zr=class{get rootNodes(){let e=this._lView,t=e[ae];return Su(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(An(e)){let t=e[yu],r=t?t.indexOf(this):-1;r>-1&&(kf(e,r),fu(t,r))}this._attachedToViewContainer=!1}dD(this._lView[ae],this._lView)}onDestroy(e){bE(this._lView,e)}markForCheck(){xp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){Ef(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,PD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=If(this._lView),t=this._lView[ns];t!==null&&!e&&Tp(t,this._lView),uD(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=If(this._lView),r=this._lView[ns];r!==null&&!t&&lD(r,this._lView),Ef(this._lView)}},Gu=(()=>{class n{static{this.__NG_ELEMENT_ID__=Yx}}return n})(),Kx=Gu,Qx=class extends Kx{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Ox(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Zr(i)}};function Yx(){return Zx(It(),Pe())}function Zx(n,e){return n.type&4?new Qx(e,n,Bu(n,e)):null}var n9=new RegExp(`^(\\d+)*(${ON}|${PN})*(.*)`);var Jx=()=>null;function Nw(n,e){return Jx(n,e)}var ss=class{},Wu=new j("",{providedIn:"root",factory:()=>!1});var VD=new j(""),LD=new j(""),jf=class{},Au=class{};function Xx(n){let e=Error(`No component factory found for ${ut(n)}.`);return e[eP]=n,e}var eP="ngComponent";var Bf=class{resolveComponentFactory(e){throw Xx(e)}},os=class{static{this.NULL=new Bf}},as=class{},mr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>tP()}}return n})();function tP(){let n=Pe(),e=It(),t=fr(e.index,n);return(or(t)?t:n)[Ye]}var nP=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>null})}}return n})();function $f(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=iw(i,c);else if(s==2){let u=c,l=e[++o];r=iw(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ru=class extends os{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=zr(e);return new jo(t,this.ngModule)}};function xw(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ar.None;e?t.push({propName:o,templateName:r,isSignal:(c&ar.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function rP(n){let e=n.toLowerCase();return e==="svg"?kM:e==="math"?FM:null}var jo=class extends Au{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=xw(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return xw(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=pM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof Mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Cf(e,o):e,u=c.get(as,null);if(u===null)throw new U(407,!1);let l=c.get(nP,null),h=c.get(ss,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},y=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?ox(y,r,this.componentDef.encapsulation,c):cD(y,I,rP(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let M=null;S!==null&&(M=Dp(S,c,!0));let F=Rp(0,null,null,1,0,null,null,null,null,null,null),H=Hu(null,F,null,N,null,null,p,y,c,null,M);hp(H);let q,re,Ae=null;try{let Q=this.componentDef,D,m=null;Q.findHostDirectiveDefs?(D=[],m=new Map,Q.findHostDirectiveDefs(Q,D,m),D.push(Q)):D=[Q];let v=iP(H,S);Ae=sP(v,S,Q,D,H,p,y),re=EE(F,cr),S&&cP(y,Q,S,r),t!==void 0&&uP(re,this.ngContentSelectors,t),q=aP(Ae,Q,D,m,H,[lP]),Np(F,H,null)}catch(Q){throw Ae!==null&&xf(Ae),xf(H),Q}finally{fp()}return new Hf(this.componentType,q,Bu(re,H),H,re)}finally{pe(s)}}},Hf=class extends jf{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Zr(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Mp(s[ae],s,i,e,t),this.previousInputValues.set(e,t);let o=fr(this._tNode.index,s);xp(o,1)}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function iP(n,e){let t=n[ae],r=cr;return n[r]=e,qu(t,r,2,"#host",null)}function sP(n,e,t,r,i,s,o){let c=i[ae];oP(r,n,e,o);let u=null;e!==null&&(u=Dp(e,i[ts]));let l=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Hu(i,CD(t),null,h,i[n.index],n,s,l,null,null,u);return c.firstCreatePass&&Vf(c,n,r.length-1),zu(i,p),i[n.index]=p}function oP(n,e,t,r){for(let i of n)e.mergedAttrs=Vo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($f(e,e.mergedAttrs,!0),t!==null&&mD(r,t,e))}function aP(n,e,t,r,i,s){let o=It(),c=i[ae],u=Nt(o,i);TD(c,i,o,t,null,r);for(let h=0;h<t.length;h++){let p=o.directiveStart+h,y=is(i,c,p,o);Yr(y,i)}SD(c,i,o),u&&Yr(u,i);let l=is(i,c,o.directiveStart+o.componentOffset,o);if(n[Xt]=i[Xt]=l,s!==null)for(let h of s)h(l,e);return wD(c,o,i),l}function cP(n,e,t,r){if(r)mf(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=gM(e.selectors[0]);i&&mf(n,t,i),s&&s.length>0&&gD(n,t,s.join(" "))}}function uP(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function lP(){let n=It();mp(Pe()[ae],n)}var fs=(()=>{class n{static{this.__NG_ELEMENT_ID__=dP}}return n})();function dP(){let n=It();return fP(n,Pe())}var hP=fs,UD=class extends hP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=yp(this._hostTNode,this._hostLView);if(jE(e)){let t=Eu(e,this._hostLView),r=wu(e),i=t[ae].data[r+8];return new qr(i,t)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Pw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Nw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,Mw(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!NM(e),c;if(o)c=t;else{let S=t||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new jo(zr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(Mt,null);N&&(s=N)}let h=zr(u.componentType??{}),p=Nw(this._lContainer,h?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,s);return this.insertImpl(I.hostView,c,Mw(this._hostTNode,p)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(VM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[lt],l=new UD(u,u[Ht],u[lt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return kx(o,i,s,r),e.attachToViewContainerRef(),Xw(cf(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Pw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=kf(this._lContainer,t);r&&(fu(cf(this._lContainer),t),dD(r[ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=kf(this._lContainer,t);return r&&fu(cf(this._lContainer),t)!=null?new Zr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Pw(n){return n[yu]}function cf(n){return n[yu]||(n[yu]=[])}function fP(n,e){let t,r=e[n.index];return An(r)?t=r:(t=AD(r,e,null,n),e[n.index]=t,zu(e,t)),gP(t,e,n,r),new UD(t,n,e)}function pP(n,e){let t=n[Ye],r=t.createComment(""),i=Nt(e,n),s=fD(t,i);return Tu(t,s,r,KN(t,i),!1),r}var gP=vP,mP=()=>!1;function yP(n,e,t){return mP(n,e,t)}function vP(n,e,t,r){if(n[Gr])return;let i;t.type&8?i=tn(r):i=pP(e,t),n[Gr]=i}var Ow=new Set;function Go(n){Ow.has(n)||(Ow.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Wo(n,e){Go("NgSignals");let t=NI(n),r=t[Jn];return e?.equal&&(r.equal=e.equal),t.set=i=>Nh(r,i),t.update=i=>xI(r,i),t.asReadonly=_P.bind(t),t}function _P(){let n=this[Jn];if(n.readonlyFn===void 0){let e=()=>this();e[Jn]=n,n.readonlyFn=e}return n.readonlyFn}function IP(n){return Object.getPrototypeOf(n.prototype).constructor}function xt(n){let e=IP(n.type),t=!0,r=[n];for(;e;){let i;if(ur(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=ru(n.inputs),o.inputTransforms=ru(n.inputTransforms),o.declaredInputs=ru(n.declaredInputs),o.outputs=ru(n.outputs);let c=i.hostBindings;c&&bP(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&DP(n,u),l&&CP(n,l),wP(n,i),kR(n.outputs,i.outputs),ur(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(n),c===xt&&(t=!1)}}e=Object.getPrototypeOf(e)}EP(r)}function wP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function EP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vo(i.hostAttrs,t=Vo(t,i.hostAttrs))}}function ru(n){return n===Ji?{}:n===St?[]:n}function DP(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function CP(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function bP(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var lr=class{},Bo=class{};var qf=class extends lr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ru(this);let s=aE(e);this._bootstrapComponents=aD(s.bootstrap),this._r3Injector=QE(e,t,[{provide:lr,useValue:this},{provide:os,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zf=class extends Bo{constructor(e){super(),this.moduleType=e}create(e){return new qf(this.moduleType,e,[])}};var Mu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new Ru(this),this.instance=null;let t=new Lo([...e.providers,{provide:lr,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],e.parent||cp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pp(n,e,t=null){return new Mu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function jD(n){return SP(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function TP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function SP(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ku(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function AP(n){return(n.flags&32)===32}function RP(n,e,t,r,i,s,o,c,u){let l=e.consts,h=qu(e,n,4,o||null,c||null);bD(e,t,h,Iu(l,u)),mp(e,h);let p=h.tView=Rp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function MP(n,e,t,r,i,s,o,c,u,l){let h=t+cr,p=e.firstCreatePass?RP(h,e,n,r,i,s,o,c,u):e.data[h];zo(p,!1);let y=NP(e,n,p,t);pp()&&Sp(e,n,y,p),Yr(y,n);let I=AD(y,n,y,p);return n[h]=I,zu(n,I),yP(I,p,n),up(p)&&ED(e,n,p),u!=null&&DD(n,p,l),p}function Ko(n,e,t,r,i,s,o,c){let u=Pe(),l=qt(),h=Iu(l.consts,s);return MP(u,l,n,e,t,r,i,h,o,c),Ko}var NP=xP;function xP(n,e,t,r){return gp(!0),e[Ye].createComment("")}var Oo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Oo||{}),PP=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})(),kw=class n{constructor(){this.ngZone=k(we),this.scheduler=k(ss),this.errorHandler=k(Dn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Oo.EarlyRead,Oo.Write,Oo.MixedReadWrite,Oo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}};function Qu(n,e,t,r){let i=Pe(),s=dp();if(Ku(i,s,e)){let o=qt(),c=VE();Cx(c,i,n,e,t,r)}return Qu}function OP(n,e,t,r){return Ku(n,dp(),t)?e+rp(t)+r:hs}function iu(n,e){return n<<17|e<<2}function Jr(n){return n>>17&32767}function kP(n){return(n&2)==2}function FP(n,e){return n&131071|e<<17}function Gf(n){return n|2}function cs(n){return(n&131068)>>2}function uf(n,e){return n&-131069|e<<2}function VP(n){return(n&1)===1}function Wf(n){return n|1}function LP(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Jr(o),u=cs(o);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||qo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=Jr(n[c+1]);n[r+1]=iu(y,c),y!==0&&(n[y+1]=uf(n[y+1],r)),n[c+1]=FP(n[c+1],r)}else n[r+1]=iu(c,0),c!==0&&(n[c+1]=uf(n[c+1],r)),c=r;else n[r+1]=iu(u,0),c===0?c=r:n[u+1]=uf(n[u+1],r),u=r;l&&(n[r+1]=Gf(n[r+1])),Fw(n,h,r,!0),Fw(n,h,r,!1),UP(e,h,n,r,s),o=iu(c,u),s?e.classBindings=o:e.styleBindings=o}function UP(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&qo(s,e)>=0&&(t[r+1]=Wf(t[r+1]))}function Fw(n,e,t,r){let i=n[t+1],s=e===null,o=r?Jr(i):cs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=n[o],l=n[o+1];jP(u,e)&&(c=!0,n[o+1]=r?Wf(l):Gf(l)),o=r?Jr(l):cs(l)}c&&(n[t+1]=r?Gf(i):Wf(i))}function jP(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?qo(n,e)>=0:!1}function Nn(n,e,t){let r=Pe(),i=dp();if(Ku(r,i,e)){let s=qt(),o=VE();hx(s,o,r,n,e,r[Ye],t,!1)}return Nn}function Vw(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";Mp(n,t,s[o],o,r)}function Yu(n,e){return BP(n,e,null,!0),Yu}function BP(n,e,t,r){let i=Pe(),s=qt(),o=QM(2);if(s.firstUpdatePass&&HP(s,n,o,r),e!==hs&&Ku(i,o,e)){let c=s.data[ls()];KP(s,c,i,i[Ye],n,i[o+1]=QP(e,t),r,o)}}function $P(n,e){return e>=n.expandoStartIndex}function HP(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[ls()],o=$P(n,t);YP(s,r)&&e===null&&!o&&(e=!1),e=qP(i,s,e,r),LP(i,s,e,t,o,r)}}function qP(n,e,t,r){let i=XM(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=lf(null,n,e,t,r),t=$o(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=lf(i,n,e,t,r),s===null){let u=zP(n,e,r);u!==void 0&&Array.isArray(u)&&(u=lf(null,n,e,u[1],r),u=$o(u,e.attrs,r),GP(n,e,r,u))}else s=WP(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function zP(n,e,t){let r=t?e.classBindings:e.styleBindings;if(cs(r)!==0)return n[Jr(r)]}function GP(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Jr(i)]=r}function WP(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=$o(r,o,t)}return $o(r,e.attrs,t)}function lf(n,e,t,r,i){let s=null,o=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<o&&(s=e[c],r=$o(r,s.hostAttrs,i),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function $o(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tM(n,o,t?!0:e[++s]))}return n===void 0?null:n}function KP(n,e,t,r,i,s,o,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=VP(l)?Lw(u,e,t,i,cs(l),o):void 0;if(!Nu(h)){Nu(s)||kP(l)&&(s=Lw(u,null,t,i,c,o));let p=wE(ls(),t);tx(r,o,p,i,s)}}function Lw(n,e,t,r,i,s){let o=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===hs&&(y=p?St:void 0);let I=p?Xh(y,r):h===r?y:void 0;if(l&&!Nu(I)&&(I=Xh(u,r)),Nu(I)&&(c=I,o))return c;let S=n[i+1];i=o?Jr(S):cs(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Xh(u,r))}return c}function Nu(n){return n!==void 0}function QP(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ut(Cp(n)))),n}function YP(n,e){return(n.flags&(e?8:16))!==0}function ZP(n,e,t,r,i,s){let o=e.consts,c=Iu(o,i),u=qu(e,n,2,r,c);return bD(e,t,u,Iu(o,s)),u.attrs!==null&&$f(u,u.attrs,!1),u.mergedAttrs!==null&&$f(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function ve(n,e,t,r){let i=Pe(),s=qt(),o=cr+n,c=i[Ye],u=s.firstCreatePass?ZP(o,s,i,e,t,r):s.data[o],l=JP(s,i,u,c,e,n);i[o]=l;let h=up(u);return zo(u,!0),mD(c,l,u),!AP(u)&&pp()&&Sp(s,i,l,u),jM()===0&&Yr(l,i),BM(),h&&(ED(s,i,u),wD(s,u,i)),r!==null&&DD(i,u),ve}function _e(){let n=It();RE()?WM():(n=n.parent,zo(n,!1));let e=n;qM(e)&&zM(),$M();let t=qt();return t.firstCreatePass&&(mp(t,n),mE(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&oN(e)&&Vw(t,e,Pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aN(e)&&Vw(t,e,Pe(),e.stylesWithoutHost,!1),_e}function qe(n,e,t,r){return ve(n,e,t,r),_e(),qe}var JP=(n,e,t,r,i,s)=>(gp(!0),cD(r,i,nN()));var xu="en-US";var XP=xu;function eO(n){typeof n=="string"&&(XP=n.toLowerCase().replace(/_/g,"-"))}var tO=(n,e,t)=>{};function pt(n,e,t,r){let i=Pe(),s=qt(),o=It();return rO(s,i,i[Ye],o,n,e,r),pt}function nO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let c=e[mu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function rO(n,e,t,r,i,s,o){let c=up(r),l=n.firstCreatePass&&Rx(n),h=e[Xt],p=Ax(e),y=!0;if(r.type&3||o){let N=Nt(r,e),M=o?o(N):N,F=p.length,H=o?re=>o(tn(re[r.index])):r.index,q=null;if(!o&&c&&(q=nO(n,e,i,r.index)),q!==null){let re=q.__ngLastListenerFn__||q;re.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,y=!1}else{s=jw(r,e,h,s),tO(N,i,s);let re=t.listen(M,i,s);p.push(s,re),l&&l.push(i,H,F,F+1)}}else s=jw(r,e,h,s);let I=r.outputs,S;if(y&&I!==null&&(S=I[i])){let N=S.length;if(N)for(let M=0;M<N;M+=2){let F=S[M],H=S[M+1],Ae=e[F][H].subscribe(s),Q=p.length;p.push(s,Ae),l&&l.push(i,r.index,Q,-(Q+1))}}}function Uw(n,e,t,r){let i=pe(null);try{return Yt(6,e,t),t(r)!==!1}catch(s){return MD(n,s),!1}finally{Yt(7,e,t),pe(i)}}function jw(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?fr(n.index,e):e;xp(o,5);let c=Uw(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Uw(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function BD(n=1){return tN(n)}function be(n,e=""){let t=Pe(),r=qt(),i=n+cr,s=r.firstCreatePass?qu(r,i,1,e,null):r.data[i],o=iO(r,t,s,e,n);t[i]=o,pp()&&Sp(r,t,o,s),zo(s,!1)}var iO=(n,e,t,r,i)=>(gp(!0),LN(e[Ye],r));function Op(n){return $D("",n,""),Op}function $D(n,e,t){let r=Pe(),i=OP(r,n,e,t);return i!==hs&&Mx(r,ls(),i),$D}function sO(n,e,t){let r=qt();if(r.firstCreatePass){let i=ur(n);Kf(t,r.data,r.blueprint,i,!0),Kf(e,r.data,r.blueprint,i,!1)}}function Kf(n,e,t,r,i){if(n=ct(n),Array.isArray(n))for(let s=0;s<n.length;s++)Kf(n[s],e,t,r,i);else{let s=qt(),o=Pe(),c=It(),u=es(n)?n:ct(n.provide),l=fE(n),h=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(es(n)||!n.multi){let I=new Qr(l,i,ne),S=hf(u,e,i?h:h+y,p);S===-1?(Tf(Du(c,o),s,u),df(s,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),o.push(I)):(t[S]=I,o[S]=I)}else{let I=hf(u,e,h+y,p),S=hf(u,e,h,h+y),N=I>=0&&t[I],M=S>=0&&t[S];if(i&&!M||!i&&!N){Tf(Du(c,o),s,u);let F=cO(i?aO:oO,t.length,i,r,l);!i&&M&&(t[S].providerFactory=F),df(s,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=HD(t[i?S:I],l,!i&&r);df(s,n,I>-1?I:S,F)}!i&&r&&M&&t[S].componentProviders++}}}function df(n,e,t,r){let i=es(e),s=DM(e);if(i||s){let u=(s?ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function HD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function hf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function oO(n,e,t,r){return Qf(this.multi,[])}function aO(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=is(t,t[ae],this.providerFactory.index,r);s=c.slice(0,o),Qf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Qf(i,s);return s}function Qf(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function cO(n,e,t,r,i){let s=new Qr(n,t,ne);return s.multi=[],s.index=e,s.componentProviders=0,HD(s,i,r&&!t),s}function yr(n,e=[]){return t=>{t.providersResolver=(r,i)=>sO(r,i?i(n):n,e)}}var uO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=lE(!1,t.type),i=r.length>0?Pp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(J(Mt))})}}return n})();function vr(n){Go("NgStandalone"),n.getStandaloneInjector=e=>e.get(uO).getOrCreateStandaloneInjector(n)}var bn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},qD=new bn("18.2.10");var Zu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var zD=new j("");function ti(n){return!!n&&typeof n.then=="function"}function GD(n){return!!n&&typeof n.subscribe=="function"}var WD=new j(""),KD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=k(WD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(ti(s))t.push(s);else if(GD(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kp=new j("");function lO(){MI(()=>{throw new U(600,!1)})}function dO(n){return n.isBoundToModule}var hO=10;function fO(n,e,t){try{let r=t();return ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ni=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(TN),this.afterRenderManager=k(PP),this.zonelessEnabled=k(Wu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ke,this.afterTick=new Ke,this.componentTypes=[],this.components=[],this.isStable=k(ds).hasPendingTasks.pipe(se(t=>!t)),this._injector=k(Mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Au;if(!this._injector.get(KD).done){let y=!i&&oE(t),I=!1;throw new U(405,I)}let o;i?o=t:o=this._injector.get(os).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=dO(o)?void 0:this._injector.get(lr),u=r||o.selector,l=o.create(ft.NULL,[],u,c),h=l.location.nativeElement,p=l.injector.get(zD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),uu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new U(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(as,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<hO;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)pO(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Uu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;uu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(kp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>uu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function uu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function pO(n,e,t,r){if(!t&&!Uu(n))return;PD(n,e,t&&!r?0:1)}var Yf=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Fp=(()=>{class n{compileModuleSync(t){return new zf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=aE(t),s=aD(i.declarations).reduce((o,c)=>{let u=zr(c);return u&&o.push(new jo(u)),o},[]);return new Yf(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gO=(()=>{class n{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(ss),this.applicationRef=k(ni)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mO=new j("",{factory:()=>!1});function QD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new we(ie(O({},ZD()),{scheduleInRootZone:t})),[{provide:we,useFactory:n},{provide:Xi,multi:!0,useFactory:()=>{let r=k(gO,{optional:!0});return()=>r.initialize()}},{provide:Xi,multi:!0,useFactory:()=>{let r=k(yO);return()=>{r.initialize()}}},e===!0?{provide:VD,useValue:!0}:[],{provide:LD,useValue:t??YE}]}function YD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=QD({ngZoneFactory:()=>{let i=ZD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Go("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return rn([{provide:mO,useValue:!0},{provide:Wu,useValue:!1},r])}function ZD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var yO=(()=>{class n{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(ds)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vO=(()=>{class n{constructor(){this.appRef=k(ni),this.taskService=k(ds),this.ngZone=k(we),this.zonelessEnabled=k(Wu),this.disableScheduling=k(VD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(LD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ew:JE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ew(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _O(){return typeof $localize<"u"&&$localize.locale||xu}var Vp=new j("",{providedIn:"root",factory:()=>k(Vp,te.Optional|te.SkipSelf)||_O()});var Zf=new j("");function su(n){return!n.moduleRef}function IO(n){let e=su(n)?n.r3Injector:n.moduleRef.injector,t=e.get(we);return t.run(()=>{su(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Dn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),su(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Zf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Zf);o.add(s),n.moduleRef.onDestroy(()=>{uu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return fO(r,t,()=>{let s=e.get(KD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Vp,xu);if(eO(o||xu),su(n)){let c=e.get(ni);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return wO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function wO(n,e){let t=n.injector.get(ni);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new U(-403,!1);e.push(n)}var lu=null;function EO(n=[],e){return ft.create({name:e,providers:[{provide:Fu,useValue:"platform"},{provide:Zf,useValue:new Set([()=>lu=null])},...n]})}function DO(n=[]){if(lu)return lu;let e=EO(n);return lu=e,lO(),CO(e),e}function CO(n){n.get(wp,null)?.forEach(t=>t())}var ps=(()=>{class n{static{this.__NG_ELEMENT_ID__=bO}}return n})();function bO(n){return TO(It(),Pe(),(n&16)===16)}function TO(n,e,t){if(Lu(n)&&!t){let r=fr(n.index,e);return new Zr(r,r)}else if(n.type&175){let r=e[en];return new Zr(r,e)}return null}var Jf=class{constructor(){}supports(e){return jD(e)}create(e){return new Xf(e)}},SO=(n,e)=>e,Xf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||SO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<Bw(r,i,s)?t:r,c=Bw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let I=y<s.length?s[y]:s[y]=0,S=I+y;h<=S&&S<l&&(s[y]=I+1)}let p=o.previousIndex;s[p]=h-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!jD(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,c),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,TP(e,c=>{o=this._trackByFn(i,c),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,c,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,o,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new ep(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ep=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Pu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new tp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Bw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function $w(){return new Lp([new Jf])}var Lp=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:$w})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$w()),deps:[[n,new Jw,new dt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new U(901,!1)}}return n})();function JD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=DO(r),s=[QD({}),{provide:ss,useExisting:vO},...t||[]],o=new Mu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return IO({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ju(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Qo(n,e){Go("NgSignals");let t=SI(n);return e?.equal&&(t[Jn].equal=e.equal),t}function xn(n){let e=pe(null);try{return n()}finally{pe(e)}}var rC=null;function Pn(){return rC}function iC(n){rC??=n}var Xu=class{};var Pt=new j(""),sC=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(MO),providedIn:"platform"})}}return n})();var MO=(()=>{class n extends sC{constructor(){super(),this._doc=k(Pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(t){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function oC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function XD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function ri(n){return n&&n[0]!=="?"?"?"+n:n}var tl=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(aC),providedIn:"root"})}}return n})(),NO=new j(""),aC=(()=>{class n extends tl{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ri(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ri(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(J(sC),J(NO,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yo=(()=>{class n{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=OO(XD(eC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ri(r))}normalize(t){return n.stripTrailingSlash(PO(this._basePath,eC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ri(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=ri}static{this.joinWithSlash=oC}static{this.stripTrailingSlash=XD}static{this.\u0275fac=function(r){return new(r||n)(J(tl))}}static{this.\u0275prov=B({token:n,factory:()=>xO(),providedIn:"root"})}}return n})();function xO(){return new Yo(J(tl))}function PO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function eC(n){return n.replace(/\/index.html$/,"")}function OO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function cC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Up=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},uC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Up(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),tC(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);tC(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ne(fs),ne(Gu),ne(Lp))}}static{this.\u0275dir=Oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function tC(n,e){n.context.$implicit=e.item}var lC=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new jp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ne(fs),ne(Gu))}}static{this.\u0275dir=Oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),jp=class{constructor(){this.$implicit=null,this.ngIf=null}};function nC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ut(e)}'.`)}var Bp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=Xr({})}}return n})(),dC="browser",kO="server";function $p(n){return n===kO}var el=class{};var zp=class extends Xu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gp=class n extends zp{static makeCurrent(){iC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=VO();return t==null?null:LO(t)}resetBaseElement(){Zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cC(document.cookie,e)}},Zo=null;function VO(){return Zo=Zo||document.querySelector("base"),Zo?Zo.getAttribute("href"):null}function LO(n){return new URL(n,document.baseURI).pathname}var UO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Wp=new j(""),gC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(J(Wp),J(we))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),nl=class{constructor(e){this._doc=e}},Hp="ng-app-id",mC=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$p(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Hp}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Hp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Hp,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(J(Pt),J(Ip),J(Ep,8),J(pr))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qp=/%COMP%/g,yC="%COMP%",jO=`_nghost-${yC}`,BO=`_ngcontent-${yC}`,$O=!0,HO=new j("",{providedIn:"root",factory:()=>$O});function qO(n){return BO.replace(Qp,n)}function zO(n){return jO.replace(Qp,n)}function vC(n,e){return e.map(t=>t.replace(Qp,n))}var hC=(()=>{class n{constructor(t,r,i,s,o,c,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=$p(c),this.defaultRenderer=new Jo(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jt.ShadowDom&&(r=ie(O({},r),{encapsulation:Jt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof rl?i.applyToHost(t):i instanceof Xo&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Jt.Emulated:s=new rl(u,l,r,this.appId,h,o,c,p);break;case Jt.ShadowDom:return new Kp(u,l,t,r,o,c,this.nonce,p);default:s=new Xo(u,l,r,h,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(J(gC),J(mC),J(Ip),J(HO),J(Pt),J(pr),J(we),J(Ep))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Jo=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(qp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=qp[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=qp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(t,r,i&Cn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Pn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function fC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Kp=class extends Jo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=vC(i.id,i.styles);for(let h of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xo=class extends Jo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?vC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rl=class extends Xo{constructor(e,t,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,t,r,s,o,c,u,l),this.contentAttr=qO(l),this.hostAttr=zO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},GO=(()=>{class n extends nl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(J(Pt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),pC=["alt","control","meta","shift"],WO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},QO=(()=>{class n extends nl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),pC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=WO[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pC.forEach(o=>{if(o!==i){let c=KO[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(J(Pt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function _C(n,e){return JD(O({rootComponent:n},YO(e)))}function YO(n){return{appProviders:[...tk,...n?.providers??[]],platformProviders:ek}}function ZO(){Gp.makeCurrent()}function JO(){return new Dn}function XO(){return sD(document),document}var ek=[{provide:pr,useValue:dC},{provide:wp,useValue:ZO,multi:!0},{provide:Pt,useFactory:XO,deps:[]}];var tk=[{provide:Fu,useValue:"root"},{provide:Dn,useFactory:JO,deps:[]},{provide:Wp,useClass:GO,multi:!0,deps:[Pt,we,pr]},{provide:Wp,useClass:QO,multi:!0,deps:[Pt]},hC,mC,gC,{provide:as,useExisting:hC},{provide:el,useClass:UO,deps:[]},[]];var IC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(J(Pt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ee="primary",ma=Symbol("RouteTitle"),eg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Is(n){return new eg(n)}function rk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ik(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!on(n[t],e[t]))return!1;return!0}function on(n,e){let t=n?tg(n):void 0,r=e?tg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!AC(n[i],e[i]))return!1;return!0}function tg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function RC(n){return n.length>0?n[n.length-1]:null}function _r(n){return zh(n)?n:ti(n)?xe(Promise.resolve(n)):Z(n)}var sk={exact:NC,subset:xC},MC={exact:ok,subset:ak,ignored:()=>!0};function wC(n,e,t){return sk[t.paths](n.root,e.root,t.matrixParams)&&MC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ok(n,e){return on(n,e)}function NC(n,e,t){if(!si(n.segments,e.segments)||!ol(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!NC(n.children[r],e.children[r],t))return!1;return!0}function ak(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AC(n[t],e[t]))}function xC(n,e,t){return PC(n,e,e.segments,t)}function PC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!si(i,t)||e.hasChildren()||!ol(i,t,r))}else if(n.segments.length===t.length){if(!si(n.segments,t)||!ol(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!xC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!si(n.segments,i)||!ol(n.segments,i,r)||!n.children[ee]?!1:PC(n.children[ee],e,s,r)}}function ol(n,e,t){return e.every((r,i)=>MC[t](n[i].parameters,r.parameters))}var kn=class{constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return lk.serialize(this)}},ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return al(this)}},ii=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return kC(this)}};function ck(n,e){return si(n,e)&&n.every((t,r)=>on(t.parameters,e[r].parameters))}function si(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function uk(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var Sg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new oa,providedIn:"root"})}}return n})(),oa=class{parse(e){let t=new rg(e);return new kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ea(e.root,!0)}`,r=fk(e.queryParams),i=typeof e.fragment=="string"?`#${dk(e.fragment)}`:"";return`${t}${r}${i}`}},lk=new oa;function al(n){return n.segments.map(e=>kC(e)).join("/")}function ea(n,e){if(!n.hasChildren())return al(n);if(e){let t=n.children[ee]?ea(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${ea(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=uk(n,(r,i)=>i===ee?[ea(n.children[ee],!1)]:[`${i}:${ea(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${al(n)}/${t[0]}`:`${al(n)}/(${t.join("//")})`}}function OC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function il(n){return OC(n).replace(/%3B/gi,";")}function dk(n){return encodeURI(n)}function ng(n){return OC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cl(n){return decodeURIComponent(n)}function EC(n){return cl(n.replace(/\+/g,"%20"))}function kC(n){return`${ng(n.path)}${hk(n.parameters)}`}function hk(n){return Object.entries(n).map(([e,t])=>`;${ng(e)}=${ng(t)}`).join("")}function fk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${il(t)}=${il(i)}`).join("&"):`${il(t)}=${il(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var pk=/^[^\/()?;#]+/;function Yp(n){let e=n.match(pk);return e?e[0]:""}var gk=/^[^\/()?;=#]+/;function mk(n){let e=n.match(gk);return e?e[0]:""}var yk=/^[^=?&#]+/;function vk(n){let e=n.match(yk);return e?e[0]:""}var _k=/^[^&#]+/;function Ik(n){let e=n.match(_k);return e?e[0]:""}var rg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new ye(e,t)),r}parseSegment(){let e=Yp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new ii(cl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=mk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Yp(this.remaining);i&&(r=i,this.capture(r))}e[cl(t)]=cl(r)}parseQueryParam(e){let t=vk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Ik(this.remaining);o&&(r=o,this.capture(r))}let i=EC(t),s=EC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ee]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function FC(n){return n.segments.length>0?new ye([],{[ee]:n}):n}function VC(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=VC(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ye(n.segments,e);return wk(t)}function wk(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new ye(n.segments.concat(e.segments),e.children)}return n}function aa(n){return n instanceof kn}function Ek(n,e,t=null,r=null){let i=LC(n);return UC(i,e,t,r)}function LC(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let c=new ye(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=FC(r);return e??i}function UC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Zp(i,i,i,t,r);let s=Dk(e);if(s.toRoot())return Zp(i,i,new ye([],{}),t,r);let o=Ck(s,i,n),c=o.processChildren?ra(o.segmentGroup,o.index,s.commands):BC(o.segmentGroup,o.index,s.commands);return Zp(i,o.segmentGroup,c,t,r)}function ul(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ca(n){return typeof n=="object"&&n!=null&&n.outlets}function Zp(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;n===e?o=t:o=jC(n,e,t);let c=FC(VC(o));return new kn(c,s,i)}function jC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=jC(s,e,t)}),new ye(n.segments,r)}var ll=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ul(r[0]))throw new U(4003,!1);let i=r.find(ca);if(i&&i!==RC(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Dk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ll(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new ll(t,e,r)}var ys=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Ck(n,e,t){if(n.isAbsolute)return new ys(e,!0,0);if(!t)return new ys(e,!1,NaN);if(t.parent===null)return new ys(t,!0,0);let r=ul(n.commands[0])?0:1,i=t.segments.length-1+r;return bk(t,i,n.numberOfDoubleDots)}function bk(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ys(r,!1,i-s)}function Tk(n){return ca(n[0])?n[0].outlets:{[ee]:n}}function BC(n,e,t){if(n??=new ye([],{}),n.segments.length===0&&n.hasChildren())return ra(n,e,t);let r=Sk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[ee]=new ye(n.segments.slice(r.pathIndex),n.children),ra(s,0,i)}else return r.match&&i.length===0?new ye(n.segments,{}):r.match&&!n.hasChildren()?ig(n,e,t):r.match?ra(n,0,i):ig(n,e,t)}function ra(n,e,t){if(t.length===0)return new ye(n.segments,{});{let r=Tk(t),i={};if(Object.keys(r).some(s=>s!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let s=ra(n.children[ee],e,t);return new ye(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=BC(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(n.segments,i)}}function Sk(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(ca(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!CC(u,l,o))return s;r+=2}else{if(!CC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ig(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(ca(s)){let u=Ak(s.outlets);return new ye(r,u)}if(i===0&&ul(t[0])){let u=n.segments[e];r.push(new ii(u.path,DC(t[0]))),i++;continue}let o=ca(s)?s.outlets[ee]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&ul(c)?(r.push(new ii(o,DC(c))),i+=2):(r.push(new ii(o,{})),i++)}return new ye(r,{})}function Ak(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ig(new ye([],{}),0,r))}),e}function DC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CC(n,e,t){return n==t.path&&on(e,t.parameters)}var ia="imperative",Ze=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ze||{}),Ot=class{constructor(e,t){this.id=e,this.url=t}},ua=class extends Ot{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},oi=class extends Ot{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Et||{}),sg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(sg||{}),On=class extends Ot{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ai=class extends Ot{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ze.NavigationSkipped}},la=class extends Ot{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dl=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ag=class extends Ot{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cg=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dg=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hg=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var da=class{},ws=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Rk(n,e){return n.providers&&!n._injector&&(n._injector=Pp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zt(n){return n.outlet||ee}function Mk(n,e){let t=n.filter(r=>zt(r)===e);return t.push(...n.filter(r=>zt(r)!==e)),t}function ya(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var mg=class{get injector(){return ya(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new vl(this.rootInjector),this.attachRef=null}},vl=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new mg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(J(Mt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=yg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vg(e,this._root).map(t=>t.value)}};function yg(n,e){if(n===e.value)return e;for(let t of e.children){let r=yg(n,t);if(r)return r}return null}function vg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vg(n,t);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var fl=class extends hl{constructor(e,t){super(e),this.snapshot=t,Ag(this,e)}toString(){return this.snapshot.toString()}};function $C(n){let e=Nk(n),t=new Qe([new ii("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),c=new Es(t,r,s,o,i,ee,n,e.root);return c.snapshot=e.root,new fl(new wt(c,[]),e)}function Nk(n){let e={},t={},r={},i="",s=new vs([],e,r,i,t,ee,n,null,{});return new gl("",new wt(s,[]))}var Es=class{constructor(e,t,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[ma]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&qC(i)&&(r.resolve[ma]=i.title),r}var vs=class{get title(){return this.data?.[ma]}constructor(e,t,r,i,s,o,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},gl=class extends hl{constructor(e,t){super(t),this.url=e,Ag(this,t)}toString(){return HC(this._root)}};function Ag(n,e){e.value._routerState=n,e.children.forEach(t=>Ag(n,t))}function HC(n){let e=n.children.length>0?` { ${n.children.map(HC).join(", ")} } `:"";return`${n.value}${e}`}function Jp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,on(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),on(e.params,t.params)||n.paramsSubject.next(t.params),ik(e.url,t.url)||n.urlSubject.next(t.url),on(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _g(n,e){let t=on(n.params,e.params)&&ck(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_g(n.parent,e.parent))}function qC(n){return typeof n.title=="string"||n.title===null}var Rg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=k(vl),this.location=k(fs),this.changeDetector=k(ps),this.inputBinder=k(Mg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ig(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hr]})}}return n})(),Ig=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Es?this.route:e===vl?this.childContexts:this.parent.get(e,t)}},Mg=new j("");function xk(n,e,t){let r=ha(n,e._root,t?t._root:void 0);return new fl(r,e)}function ha(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Pk(n,e,t);return new wt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ha(n,c)),o}}let r=Ok(e.value),i=e.children.map(s=>ha(n,s));return new wt(r,i)}}function Pk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ha(n,r,i);return ha(n,r)})}function Ok(n){return new Es(new Qe(n.url),new Qe(n.params),new Qe(n.queryParams),new Qe(n.fragment),new Qe(n.data),n.outlet,n.component,n)}var fa=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},zC="ngNavigationCancelingError";function ml(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=aa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GC(!1,Et.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function GC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[zC]=!0,t.cancellationCode=e,t}function kk(n){return WC(n)&&aa(n.url)}function WC(n){return!!n&&n[zC]}var Fk=(n,e,t,r)=>se(i=>(new wg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),wg=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ms(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ms(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new gg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Jp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Jp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},yl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_s=class{constructor(e,t){this.component=e,this.route=t}};function Vk(n,e,t){let r=n._root,i=e?e._root:null;return ta(r,i,t,[r.value])}function Lk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Cs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!zw(n)?n:e.get(n):r}function ta(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ms(e);return n.children.forEach(o=>{Uk(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>sa(c,t.getContext(o),i)),i}function Uk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=jk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ta(n,e,c?c.children:null,r,i):ta(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new _s(c.outlet.component,o))}else o&&sa(e,c,i),i.canActivateChecks.push(new yl(r)),s.component?ta(n,null,c?c.children:null,r,i):ta(n,null,t,r,i);return i}function jk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!si(n.url,e.url);case"pathParamsOrQueryParamsChange":return!si(n.url,e.url)||!on(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_g(n,e)||!on(n.queryParams,e.queryParams);case"paramsChange":default:return!_g(n,e)}}function sa(n,e,t){let r=ms(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?sa(o,e.children.getContext(s),t):sa(o,null,t):sa(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new _s(e.outlet.component,i)):t.canDeactivateChecks.push(new _s(null,i)):t.canDeactivateChecks.push(new _s(null,i))}function va(n){return typeof n=="function"}function Bk(n){return typeof n=="boolean"}function $k(n){return n&&va(n.canLoad)}function Hk(n){return n&&va(n.canActivate)}function qk(n){return n&&va(n.canActivateChild)}function zk(n){return n&&va(n.canDeactivate)}function Gk(n){return n&&va(n.canMatch)}function KC(n){return n instanceof In||n?.name==="EmptyError"}var sl=Symbol("INITIAL_VALUE");function Ds(){return jt(n=>Xc(n.map(e=>e.pipe(wn(1),Zh(sl)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===sl)return sl;if(t===!1||Wk(t))return t}return!0}),Ut(e=>e!==sl),wn(1)))}function Wk(n){return aa(n)||n instanceof fa}function Kk(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Z(ie(O({},t),{guardsResult:!0})):Qk(o,r,i,n).pipe(Be(c=>c&&Bk(c)?Yk(r,s,n,e):Z(c)),se(c=>ie(O({},t),{guardsResult:c})))})}function Qk(n,e,t,r){return xe(n).pipe(Be(i=>t1(i.component,i.route,t,e,r)),Qt(i=>i!==!0,!0))}function Yk(n,e,t,r){return xe(e).pipe(qi(i=>Hi(Jk(i.route.parent,r),Zk(i.route,r),e1(n,i.path,t),Xk(n,i.route,t))),Qt(i=>i!==!0,!0))}function Zk(n,e){return n!==null&&e&&e(new pg(n)),Z(!0)}function Jk(n,e){return n!==null&&e&&e(new hg(n)),Z(!0)}function Xk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>eu(()=>{let o=ya(e)??t,c=Cs(s,o),u=Hk(c)?c.canActivate(e,n):Tn(o,()=>c(e,n));return _r(u).pipe(Qt())}));return Z(i).pipe(Ds())}function e1(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Lk(o)).filter(o=>o!==null).map(o=>eu(()=>{let c=o.guards.map(u=>{let l=ya(o.node)??t,h=Cs(u,l),p=qk(h)?h.canActivateChild(r,n):Tn(l,()=>h(r,n));return _r(p).pipe(Qt())});return Z(c).pipe(Ds())}));return Z(s).pipe(Ds())}function t1(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(c=>{let u=ya(e)??i,l=Cs(c,u),h=zk(l)?l.canDeactivate(n,e,t,r):Tn(u,()=>l(n,e,t,r));return _r(h).pipe(Qt())});return Z(o).pipe(Ds())}function n1(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let c=Cs(o,n),u=$k(c)?c.canLoad(e,t):Tn(n,()=>c(e,t));return _r(u)});return Z(s).pipe(Ds(),QC(r))}function QC(n){return Vh($e(e=>{if(typeof e!="boolean")throw ml(n,e)}),se(e=>e===!0))}function r1(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let c=Cs(o,n),u=Gk(c)?c.canMatch(e,t):Tn(n,()=>c(e,t));return _r(u)});return Z(s).pipe(Ds(),QC(r))}var pa=class{constructor(e){this.segmentGroup=e||null}},ga=class extends Error{constructor(e){super(),this.urlTree=e}};function gs(n){return $i(new pa(n))}function i1(n){return $i(new U(4e3,!1))}function s1(n){return $i(GC(!1,Et.GuardRejected))}var Eg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ee])return i1(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:I,data:S,title:N}=i,M=Tn(s,()=>c({params:I,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:N}));if(M instanceof kn)throw new ga(M);t=M}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ga(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new kn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function o1(n,e,t,r,i){let s=YC(n,e,t);return s.matched?(r=Rk(e,r),r1(r,e,t,i).pipe(se(o=>o===!0?s:O({},Dg)))):Z(s)}function YC(n,e,t){if(e.path==="**")return a1(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},Dg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rk)(t,n,e);if(!i)return O({},Dg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function a1(n){return{matched:!0,parameters:n.length>0?RC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function bC(n,e,t,r){return t.length>0&&l1(n,t,r)?{segmentGroup:new ye(e,u1(r,new ye(t,n.children))),slicedSegments:[]}:t.length===0&&d1(n,t,r)?{segmentGroup:new ye(n.segments,c1(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function c1(n,e,t,r){let i={};for(let s of t)if(_l(n,e,s)&&!r[zt(s)]){let o=new ye([],{});i[zt(s)]=o}return O(O({},r),i)}function u1(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&zt(r)!==ee){let i=new ye([],{});t[zt(r)]=i}return t}function l1(n,e,t){return t.some(r=>_l(n,e,r)&&zt(r)!==ee)}function d1(n,e,t){return t.some(r=>_l(n,e,r))}function _l(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function h1(n,e,t){return e.length===0&&!n.children[t]}var Cg=class{};function f1(n,e,t,r,i,s,o="emptyOnly"){return new bg(n,e,t,r,i,o,s).recognize()}var p1=31,bg=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=bC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:r})=>{let i=new wt(r,t),s=new gl("",i),o=Ek(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new vs([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,t).pipe(se(r=>({children:r,rootSnapshot:t})),nr(r=>{if(r instanceof ga)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(se(o=>o instanceof wt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return xe(s).pipe(qi(o=>{let c=r.children[o],u=Mk(t,o);return this.processSegmentGroup(e,u,c,o,i)}),Yh((o,c)=>(o.push(...c),o)),rr(null),Qh(),Be(o=>{if(o===null)return gs(r);let c=ZC(o);return g1(c),Z(c)}))}processSegment(e,t,r,i,s,o,c){return xe(t).pipe(qi(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,c).pipe(nr(l=>{if(l instanceof pa)return Z(null);throw l}))),Qt(u=>!!u),nr(u=>{if(KC(u))return h1(r,i,s)?Z(new Cg):gs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,u){return zt(r)!==o&&(o===ee||!_l(i,s,r))?gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):gs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=YC(t,i,s);if(!u)return gs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>p1&&(this.allowRedirects=!1));let I=new vs(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,TC(i),zt(i),i.component??i._loadedComponent??null,i,SC(i)),S=pl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Be(M=>this.processSegment(e,r,t,M.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=o1(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:I}=u,S=new vs(y,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,TC(r),zt(r),r.component??r._loadedComponent??null,r,SC(r)),N=pl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:M,slicedSegments:F}=bC(t,y,I,l);if(F.length===0&&M.hasChildren())return this.processChildren(h,l,M,S).pipe(se(q=>new wt(S,q)));if(l.length===0&&F.length===0)return Z(new wt(S,[]));let H=zt(r)===s;return this.processSegment(h,l,M,F,H?ee:s,!0,S).pipe(se(q=>new wt(S,q instanceof wt?[q]:[])))}))):gs(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):n1(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe($e(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):s1(t))):Z({routes:[],injector:e})}};function g1(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function m1(n){let e=n.value.routeConfig;return e&&e.path===""}function ZC(n){let e=[],t=new Set;for(let r of n){if(!m1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ZC(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!t.has(r))}function TC(n){return n.data||{}}function SC(n){return n.resolve||{}}function y1(n,e,t,r,i,s){return Be(o=>f1(n,e,t,r,o.extractedUrl,i,s).pipe(se(({state:c,tree:u})=>ie(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function v1(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of JC(u))o.add(l);let c=0;return xe(o).pipe(qi(u=>s.has(u)?_1(u,r,n,e):(u.data=pl(u,u.parent,n).resolve,Z(void 0))),$e(()=>c++),zi(1),Be(u=>c===o.size?Z(t):_t))})}function JC(n){let e=n.children.map(t=>JC(t)).flat();return[n,...e]}function _1(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!qC(i)&&(s[ma]=i.title),I1(s,n,e,r).pipe(se(o=>(n._resolvedData=o,n.data=pl(n,n.parent,t).resolve,null)))}function I1(n,e,t,r){let i=tg(n);if(i.length===0)return Z({});let s={};return xe(i).pipe(Be(o=>w1(n[o],e,t,r).pipe(Qt(),$e(c=>{if(c instanceof fa)throw ml(new oa,c);s[o]=c}))),zi(1),Kh(s),nr(o=>KC(o)?_t:$i(o)))}function w1(n,e,t,r){let i=ya(e)??r,s=Cs(n,i),o=s.resolve?s.resolve(e,t):Tn(i,()=>s(e,t));return _r(o)}function Xp(n){return jt(e=>{let t=n(e);return t?xe(t).pipe(se(()=>e)):Z(e)})}var XC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[ma]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(E1),providedIn:"root"})}}return n})(),E1=(()=>{class n extends XC{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(J(IC))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ng=new j("",{providedIn:"root",factory:()=>({})}),D1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=dr({type:n,selectors:[["ng-component"]],standalone:!0,features:[vr],decls:1,vars:0,template:function(r,i){r&1&&qe(0,"router-outlet")},dependencies:[Rg],encapsulation:2})}}return n})();function xg(n){let e=n.children&&n.children.map(xg),t=e?ie(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=D1),t}var Pg=new j(""),C1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Fp)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=_r(t.loadComponent()).pipe(se(eb),$e(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),xo(()=>{this.componentLoaders.delete(t)})),i=new Li(r,()=>new Ke).pipe(Vi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=b1(r,this.compiler,t,this.onLoadEndListener).pipe(xo(()=>{this.childrenLoaders.delete(r)})),o=new Li(s,()=>new Ke).pipe(Vi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function b1(n,e,t,r){return _r(n.loadChildren()).pipe(se(eb),Be(i=>i instanceof Bo||Array.isArray(i)?Z(i):xe(e.compileModuleAsync(i))),se(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(Pg,[],{optional:!0,self:!0}).flat()),{routes:o.map(xg),injector:s}}))}function T1(n){return n&&typeof n=="object"&&"default"in n}function eb(n){return T1(n)?n.default:n}var Og=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(S1),providedIn:"root"})}}return n})(),S1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),A1=new j("");var R1=new j(""),M1=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=k(C1),this.environmentInjector=k(Mt),this.urlSerializer=k(Sg),this.rootContexts=k(vl),this.location=k(Yo),this.inputBindingEnabled=k(Mg,{optional:!0})!==null,this.titleStrategy=k(XC),this.options=k(Ng,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Og),this.createViewTransition=k(A1,{optional:!0}),this.navigationErrorHandler=k(R1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let t=i=>this.events.next(new lg(i)),r=i=>this.events.next(new dg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ie(O(O({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(s=>s.id!==0),se(s=>ie(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),jt(s=>{let o=!1,c=!1;return Z(s).pipe(jt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Et.SupersededByNewNavigation),_t;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ie(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ai(u.id,this.urlSerializer.serialize(u.rawUrl),p,sg.IgnoredSameUrlNavigation)),u.resolve(!1),_t}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(jt(p=>{let y=this.transitions?.getValue();return this.events.next(new ua(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?_t:Promise.resolve(p)}),y1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ie(O({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new dl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:I,restoredState:S,extras:N}=u,M=new ua(p,this.urlSerializer.serialize(y),I,S);this.events.next(M);let F=$C(this.rootComponentType).snapshot;return this.currentTransition=s=ie(O({},u),{targetSnapshot:F,urlAfterRedirects:y,extras:ie(O({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Z(s)}else{let p="";return this.events.next(new ai(u.id,this.urlSerializer.serialize(u.extractedUrl),p,sg.IgnoredByUrlHandlingStrategy)),u.resolve(!1),_t}}),$e(u=>{let l=new og(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),se(u=>(this.currentTransition=s=ie(O({},u),{guards:Vk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),Kk(this.environmentInjector,u=>this.events.next(u)),$e(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ml(this.urlSerializer,u.guardsResult);let l=new ag(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ut(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Et.GuardRejected),!1)),Xp(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe($e(l=>{let h=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),jt(l=>{let h=!1;return Z(l).pipe(v1(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Et.NoDataFromResolver)}}))}),$e(l=>{let h=new ug(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Xp(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe($e(y=>{h.component=y}),se(()=>{})));for(let y of h.children)p.push(...l(y));return p};return Xc(l(u.targetSnapshot.root)).pipe(rr(null),wn(1))}),Xp(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?xe(h).pipe(se(()=>s)):Z(s)}),se(u=>{let l=xk(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ie(O({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),$e(()=>{this.events.next(new da)}),Fk(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),wn(1),$e({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Jh(this.transitionAbortSubject.pipe($e(u=>{throw u}))),xo(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Et.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(u=>{if(c=!0,WC(u))this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),kk(u)?this.events.next(new ws(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new la(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Tn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof fa){let{message:p,cancellationCode:y}=ml(this.urlSerializer,h);this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new ws(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return _t}))}))}cancelNavigationTransition(t,r,i){let s=new On(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function N1(n){return n!==ia}var x1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(P1),providedIn:"root"})}}return n})(),Tg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},P1=(()=>{class n extends Tg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>k(O1),providedIn:"root"})}}return n})(),O1=(()=>{class n extends tb{constructor(){super(...arguments),this.location=k(Yo),this.urlSerializer=k(Sg),this.options=k(Ng,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Og),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$C(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ua)this.stateMemento=this.createStateMemento();else if(t instanceof ai)this.rawUrlTree=r.initialUrl;else if(t instanceof dl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof da?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof On&&(t.code===Et.GuardRejected||t.code===Et.NoDataFromResolver)?this.restoreHistory(r):t instanceof la?this.restoreHistory(r,!0):t instanceof oi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof kn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=O(O({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),na=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(na||{});function k1(n,e){n.events.pipe(Ut(t=>t instanceof oi||t instanceof On||t instanceof la||t instanceof ai),se(t=>t instanceof oi||t instanceof ai?na.COMPLETE:(t instanceof On?t.code===Et.Redirect||t.code===Et.SupersededByNewNavigation:!1)?na.REDIRECTING:na.FAILED),Ut(t=>t!==na.REDIRECTING),wn(1)).subscribe(()=>{e()})}function F1(n){throw n}var V1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Il=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(Zu),this.stateManager=k(tb),this.options=k(Ng,{optional:!0})||{},this.pendingTasks=k(ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(M1),this.urlSerializer=k(Sg),this.location=k(Yo),this.urlHandlingStrategy=k(Og),this._events=new Ke,this.errorHandler=this.options.errorHandler||F1,this.navigated=!1,this.routeReuseStrategy=k(x1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Pg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Mg,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof On&&r.code!==Et.Redirect&&r.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof oi)this.navigated=!0;else if(r instanceof ws){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||N1(i.source)},o);this.scheduleNavigation(c,ia,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}j1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=LC(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return UC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=aa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ia,null,r)}navigate(t,r={skipLocationChange:!1}){return U1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},V1):r===!1?i=O({},L1):i=r,aa(t))return wC(this.currentUrlTree,t,i);let s=this.parseUrl(t);return wC(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,y)=>{c=p,u=y});let h=this.pendingTasks.add();return k1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}function j1(n){return!(n instanceof da)&&!(n instanceof ws)}var B1=new j("");function nb(n,...e){return rn([{provide:Pg,multi:!0,useValue:n},[],{provide:Es,useFactory:$1,deps:[Il]},{provide:kp,multi:!0,useFactory:H1},e.map(t=>t.\u0275providers)])}function $1(n){return n.routerState.root}function H1(){let n=k(ft);return e=>{let t=n.get(ni);if(e!==t.components[0])return;let r=n.get(Il),i=n.get(q1);n.get(z1)===1&&r.initialNavigation(),n.get(G1,null,te.Optional)?.setUpPreloading(),n.get(B1,null,te.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var q1=new j("",{factory:()=>new Ke}),z1=new j("",{providedIn:"root",factory:()=>1});var G1=new j("");var wl=class n{constructor(e){this.router=e}navigateToLogin(){this.router.navigate(["/login"])}navigateToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(t){return new(t||n)(ne(Il))};static \u0275cmp=dr({type:n,selectors:[["app-home"]],standalone:!0,features:[vr],decls:11,vars:0,consts:[[1,"welcome-container"],["src","https://clinicamg.com.ar/wp-content/uploads/2023/12/chequeo-vip-header-1.png","alt","Logo de la Cl\xEDnica",1,"clinic-logo"],[1,"button-container"],[1,"btn-login",3,"click"],[1,"btn-register",3,"click"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"h1"),be(2,"Bienvenidos a Cl\xEDnica Online"),_e(),qe(3,"img",1),ve(4,"p"),be(5,"Especialistas en salud comprometidos con tu bienestar."),_e(),ve(6,"div",2)(7,"button",3),pt("click",function(){return r.navigateToLogin()}),be(8,"Ingresar"),_e(),ve(9,"button",4),pt("click",function(){return r.navigateToRegister()}),be(10,"Registrarse"),_e()()())},styles:[".welcome-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#f0f8ff;text-align:center;color:#333}.clinic-logo[_ngcontent-%COMP%]{width:50%;margin-bottom:20px}h1[_ngcontent-%COMP%]{color:#007acc;font-size:2em;margin-bottom:10px}p[_ngcontent-%COMP%]{font-size:1.2em;color:#5f6368;margin-bottom:30px}.button-container[_ngcontent-%COMP%]{display:flex;gap:15px}.btn-login[_ngcontent-%COMP%], .btn-register[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.btn-login[_ngcontent-%COMP%]{background-color:#007acc;color:#fff}.btn-register[_ngcontent-%COMP%]{background-color:#0af;color:#fff}.btn-login[_ngcontent-%COMP%]:hover{background-color:#005b9e}.btn-register[_ngcontent-%COMP%]:hover{background-color:#008ecc}"]})};var fb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ne(mr),ne(Mn))}}static{this.\u0275dir=Oe({type:n})}}return n})(),xl=(()=>{class n extends fb{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=Oe({type:n,features:[xt]})}}return n})(),Ca=new j("");var K1={provide:Ca,useExisting:nn(()=>Pl),multi:!0};function Q1(){let n=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Y1=new j(""),Pl=(()=>{class n extends fb{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Q1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(mr),ne(Mn),ne(Y1,8))}}static{this.\u0275dir=Oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&pt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[yr([K1]),xt]})}}return n})();function Ir(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function pb(n){return n!=null&&typeof n.length=="number"}var jg=new j(""),gb=new j(""),Z1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,kt=class{static min(e){return J1(e)}static max(e){return X1(e)}static required(e){return mb(e)}static requiredTrue(e){return eF(e)}static email(e){return tF(e)}static minLength(e){return nF(e)}static maxLength(e){return rF(e)}static pattern(e){return iF(e)}static nullValidator(e){return Cl(e)}static compose(e){return Eb(e)}static composeAsync(e){return Cb(e)}};function J1(n){return e=>{if(Ir(e.value)||Ir(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function X1(n){return e=>{if(Ir(e.value)||Ir(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function mb(n){return Ir(n.value)?{required:!0}:null}function eF(n){return n.value===!0?null:{required:!0}}function tF(n){return Ir(n.value)||Z1.test(n.value)?null:{email:!0}}function nF(n){return e=>Ir(e.value)||!pb(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function rF(n){return e=>pb(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function iF(n){if(!n)return Cl;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ir(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Cl(n){return null}function yb(n){return n!=null}function vb(n){return ti(n)?xe(n):n}function _b(n){let e={};return n.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function Ib(n,e){return e.map(t=>t(n))}function sF(n){return!n.validate}function wb(n){return n.map(e=>sF(e)?e:t=>e.validate(t))}function Eb(n){if(!n)return null;let e=n.filter(yb);return e.length==0?null:function(t){return _b(Ib(t,e))}}function Db(n){return n!=null?Eb(wb(n)):null}function Cb(n){if(!n)return null;let e=n.filter(yb);return e.length==0?null:function(t){let r=Ib(t,e).map(vb);return Wh(r).pipe(se(_b))}}function bb(n){return n!=null?Cb(wb(n)):null}function ib(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Tb(n){return n._rawValidators}function Sb(n){return n._rawAsyncValidators}function kg(n){return n?Array.isArray(n)?n:[n]:[]}function bl(n,e){return Array.isArray(n)?n.includes(e):n===e}function sb(n,e){let t=kg(e);return kg(n).forEach(i=>{bl(t,i)||t.push(i)}),t}function ob(n,e){return kg(e).filter(t=>!bl(n,t))}var Tl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Db(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ss=class extends Tl{get formDirective(){return null}get path(){return null}},Da=class extends Tl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},K3=ie(O({},oF),{"[class.ng-submitted]":"isSubmitted"}),Ab=(()=>{class n extends Sl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(Da,2))}}static{this.\u0275dir=Oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Yu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xt]})}}return n})(),Rb=(()=>{class n extends Sl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(Ss,10))}}static{this.\u0275dir=Oe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Yu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xt]})}}return n})();var _a="VALID",El="INVALID",bs="PENDING",Ia="DISABLED",wr=class{},Al=class extends wr{constructor(e,t){super(),this.value=e,this.source=t}},wa=class extends wr{constructor(e,t){super(),this.pristine=e,this.source=t}},Ea=class extends wr{constructor(e,t){super(),this.touched=e,this.source=t}},Ts=class extends wr{constructor(e,t){super(),this.status=e,this.source=t}},Fg=class extends wr{constructor(e){super(),this.source=e}},Vg=class extends wr{constructor(e){super(),this.source=e}};function Bg(n){return(Ol(n)?n.validators:n)||null}function aF(n){return Array.isArray(n)?Db(n):n||null}function $g(n,e){return(Ol(e)?e.asyncValidators:n)||null}function cF(n){return Array.isArray(n)?bb(n):n||null}function Ol(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Mb(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function Nb(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var As=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qo(()=>this.statusReactive()),this.statusReactive=Wo(void 0),this._pristine=Qo(()=>this.pristineReactive()),this.pristineReactive=Wo(!0),this._touched=Qo(()=>this.touchedReactive()),this.touchedReactive=Wo(!1),this._events=new Ke,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===_a}get invalid(){return this.status===El}get pending(){return this.status==bs}get disabled(){return this.status===Ia}get enabled(){return this.status!==Ia}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ob(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ob(e,this._rawAsyncValidators))}hasValidator(e){return bl(this._rawValidators,e)}hasAsyncValidator(e){return bl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ea(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ea(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new wa(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new wa(!0,r))}markAsPending(e={}){this.status=bs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ts(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ia,this.errors=null,this._forEachChild(i=>{i.disable(ie(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Al(this.value,r)),this._events.next(new Ts(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable(ie(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Al(this.value,t)),this._events.next(new Ts(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ia:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=vb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ts(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ia:this.errors?El:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(El)?El:_a}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new wa(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ea(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ol(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cF(this._rawAsyncValidators)}},Rl=class extends As{constructor(e,t,r){super(Bg(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Nb(this,!0,e),Object.keys(e).forEach(r=>{Mb(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Lg=class extends Rl{};var xb=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Hg}),Hg="always";function uF(n,e){return[...e.path,n]}function ab(n,e,t=Hg){qg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),dF(n,e),fF(n,e),hF(n,e),lF(n,e)}function cb(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ml(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lF(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qg(n,e){let t=Tb(n);e.validator!==null?n.setValidators(ib(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Sb(n);e.asyncValidator!==null?n.setAsyncValidators(ib(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ml(e._rawValidators,i),Ml(e._rawAsyncValidators,i)}function Nl(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Tb(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=Sb(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Ml(e._rawValidators,r),Ml(e._rawAsyncValidators,r),t}function dF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Pb(n,e)})}function hF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Pb(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Pb(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fF(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pF(n,e){n==null,qg(n,e)}function gF(n,e){return Nl(n,e)}function mF(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yF(n){return Object.getPrototypeOf(n.constructor)===xl}function vF(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _F(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Pl?t=s:yF(s)?r=s:i=s}),i||r||t||null}function IF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ub(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Dl=class extends As{constructor(e=null,t,r){super(Bg(t),$g(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ol(t)&&(t.nonNullable||t.initialValueIsDefault)&&(lb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ub(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ub(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wF=n=>n instanceof Dl;var Ob=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),EF={provide:Ca,useExisting:nn(()=>zg),multi:!0},zg=(()=>{class n extends xl{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&pt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[yr([EF]),xt]})}}return n})();var kb=new j("");var DF={provide:Ss,useExisting:nn(()=>Gg)},Gg=(()=>{class n extends Ss{get submitted(){return xn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Qo(()=>this._submittedReactive()),this._submittedReactive=Wo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return ab(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cb(t.control||null,t,!1),IF(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),vF(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Fg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Vg(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(cb(r||null,t),wF(i)&&(ab(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);pF(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&gF(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qg(this.form,this),this._oldForm&&Nl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(ne(jg,10),ne(gb,10),ne(xb,8))}}static{this.\u0275dir=Oe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&pt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yr([DF]),xt,hr]})}}return n})();var CF={provide:Da,useExisting:nn(()=>Wg)},Wg=(()=>{class n extends Da{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_F(this,s)}ngOnChanges(t){this._added||this._setUpControl(),mF(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return uF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(ne(Ss,13),ne(jg,10),ne(gb,10),ne(Ca,10),ne(kb,8))}}static{this.\u0275dir=Oe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[yr([CF]),xt,hr]})}}return n})(),bF={provide:Ca,useExisting:nn(()=>kl),multi:!0};function Fb(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function TF(n){return n.split(":")[0]}var kl=(()=>{class n extends xl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Fb(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=TF(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&pt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yr([bF]),xt]})}}return n})(),Vb=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Fb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ne(Mn),ne(mr),ne(kl,9))}}static{this.\u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),SF={provide:Ca,useExisting:nn(()=>Lb),multi:!0};function db(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AF(n){return n.split(":")[0]}var Lb=(()=>{class n extends xl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let u=o[c],l=this._getOptionValue(u.value);i.push(l)}}else{let o=r.options;for(let c=0;c<o.length;c++){let u=o[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=AF(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&pt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yr([SF]),xt]})}}return n})(),Ub=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(db(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(db(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(ne(Mn),ne(mr),ne(Lb,9))}}static{this.\u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var RF=(()=>{class n{constructor(){this._validator=Cl}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Oe({type:n,features:[hr]})}}return n})();var MF={provide:jg,useExisting:nn(()=>Kg),multi:!0};var Kg=(()=>{class n extends RF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ju,this.createValidator=t=>mb}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Qu("required",i._enabled?"":null)},inputs:{required:"required"},features:[yr([MF]),xt]})}}return n})();var NF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=Xr({})}}return n})(),Ug=class extends As{constructor(e,t,r){super(Bg(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Nb(this,!1,e),e.forEach((r,i)=>{Mb(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function hb(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var jb=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return hb(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Rl(i,s)}record(t,r=null){let i=this._reduceControls(t);return new Lg(i,r)}control(t,r,i){let s={};return this.useNonNullable?(hb(r)?s=r:(s.validators=r,s.asyncValidators=i),new Dl(t,ie(O({},s),{nonNullable:!0}))):new Dl(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new Ug(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Dl)return t;if(t instanceof As)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Bb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kb,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xb,useValue:t.callSetDisabledState??Hg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=Xr({imports:[NF]})}}return n})();var Hb=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},PF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(y=64)),r.push(t[h],t[p],t[y],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Hb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):PF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Yg;let y=s<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Yg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},OF=function(n){let e=Hb(n);return qb.encodeByteArray(e,!0)},ba=function(n){return OF(n).replace(/\./g,"")},Jg=function(n){try{return qb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var FF=()=>kF().__FIREBASE_DEFAULTS__,VF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Jg(n[1]);return e&&JSON.parse(e)},Vl=()=>{try{return FF()||VF()||LF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xg=n=>{var e,t;return(t=(e=Vl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zb=n=>{let e=Xg(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},em=()=>{var n;return(n=Vl())===null||n===void 0?void 0:n.config},tm=n=>{var e;return(e=Vl())===null||e===void 0?void 0:e[`_${n}`]};var Fl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ba(JSON.stringify(t)),ba(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function UF(){var n;let e=(n=Vl())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){let n=ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Jb(){return!UF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nm(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var jF="FirebaseError",Dt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=jF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}},Fn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?BF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Dt(i,c,r)}};function BF(n,e){return n.replace($F,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $F=/\{\$([^}]+)}/g;function eT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ci(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if($b(s)&&$b(o)){if(!ci(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function $b(n){return n!==null&&typeof n=="object"}function Ta(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tT(n,e){let t=new Zg(n,e);return t.subscribe.bind(t)}var Zg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");HF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Qg),i.error===void 0&&(i.error=Qg),i.complete===void 0&&(i.complete=Qg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function HF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qg(){}var Z3=4*60*60*1e3;function gt(n){return n&&n._delegate?n._delegate:n}var Ft=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ui="[DEFAULT]";var rm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Fl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zF(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qF(n){return n===ui?void 0:n}function zF(n){return n.instantiationMode==="EAGER"}var Ll=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new rm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var GF=[],ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ce||{}),WF={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},KF=ce.INFO,QF={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},YF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=QF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Er=class{constructor(e){this.name=e,this._logLevel=KF,this._logHandler=YF,this._userLogHandler=null,GF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var ZF=(n,e)=>e.some(t=>n instanceof t),nT,rT;function JF(){return nT||(nT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XF(){return rT||(rT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var iT=new WeakMap,sm=new WeakMap,sT=new WeakMap,im=new WeakMap,am=new WeakMap;function eV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(an(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&iT.set(t,n)}).catch(()=>{}),am.set(e,n),e}function tV(n){if(sm.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});sm.set(n,e)}var om={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return an(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oT(n){om=n(om)}function nV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ul(this),e,...t);return sT.set(r,e.sort?e.sort():[e]),an(r)}:XF().includes(n)?function(...e){return n.apply(Ul(this),e),an(iT.get(this))}:function(...e){return an(n.apply(Ul(this),e))}}function rV(n){return typeof n=="function"?nV(n):(n instanceof IDBTransaction&&tV(n),ZF(n,JF())?new Proxy(n,om):n)}function an(n){if(n instanceof IDBRequest)return eV(n);if(im.has(n))return im.get(n);let e=rV(n);return e!==n&&(im.set(n,e),am.set(e,n)),e}var Ul=n=>am.get(n);function cT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=an(o);return r&&o.addEventListener("upgradeneeded",u=>{r(an(o.result),u.oldVersion,u.newVersion,an(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var iV=["get","getKey","getAll","getAllKeys","count"],sV=["put","add","delete","clear"],cm=new Map;function aT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=sV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iV.includes(t)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return cm.set(e,s),s}oT(n=>ie(O({},n),{get:(e,t,r)=>aT(e,t)||n.get(e,t,r),has:(e,t)=>!!aT(e,t)||n.has(e,t)}));var lm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function oV(n){let e=n.getComponent();return e?.type==="VERSION"}var dm="@firebase/app",uT="0.10.13";var Vn=new Er("@firebase/app"),aV="@firebase/app-compat",cV="@firebase/analytics-compat",uV="@firebase/analytics",lV="@firebase/app-check-compat",dV="@firebase/app-check",hV="@firebase/auth",fV="@firebase/auth-compat",pV="@firebase/database",gV="@firebase/data-connect",mV="@firebase/database-compat",yV="@firebase/functions",vV="@firebase/functions-compat",_V="@firebase/installations",IV="@firebase/installations-compat",wV="@firebase/messaging",EV="@firebase/messaging-compat",DV="@firebase/performance",CV="@firebase/performance-compat",bV="@firebase/remote-config",TV="@firebase/remote-config-compat",SV="@firebase/storage",AV="@firebase/storage-compat",RV="@firebase/firestore",MV="@firebase/vertexai-preview",NV="@firebase/firestore-compat",xV="firebase",PV="10.14.1";var hm="[DEFAULT]",OV={[dm]:"fire-core",[aV]:"fire-core-compat",[uV]:"fire-analytics",[cV]:"fire-analytics-compat",[dV]:"fire-app-check",[lV]:"fire-app-check-compat",[hV]:"fire-auth",[fV]:"fire-auth-compat",[pV]:"fire-rtdb",[gV]:"fire-data-connect",[mV]:"fire-rtdb-compat",[yV]:"fire-fn",[vV]:"fire-fn-compat",[_V]:"fire-iid",[IV]:"fire-iid-compat",[wV]:"fire-fcm",[EV]:"fire-fcm-compat",[DV]:"fire-perf",[CV]:"fire-perf-compat",[bV]:"fire-rc",[TV]:"fire-rc-compat",[SV]:"fire-gcs",[AV]:"fire-gcs-compat",[RV]:"fire-fst",[NV]:"fire-fst-compat",[MV]:"fire-vertex","fire-js":"fire-js",[xV]:"fire-js-all"};var Sa=new Map,kV=new Map,fm=new Map;function lT(n,e){try{n.container.addComponent(e)}catch(t){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Cr(n){let e=n.name;if(fm.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,n);for(let t of Sa.values())lT(t,n);for(let t of kV.values())lT(t,n);return!0}function Ra(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cn(n){return n.settings!==void 0}var FV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Fn("app","Firebase",FV);var pm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var br=PV;function ym(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(t||(t=em()),!t)throw Dr.create("no-options");let s=Sa.get(i);if(s){if(ci(t,s.options)&&ci(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}let o=new Ll(i);for(let u of fm.values())o.addComponent(u);let c=new pm(t,r,o);return Sa.set(i,c),c}function Rs(n=hm){let e=Sa.get(n);if(!e&&n===hm&&em())return ym();if(!e)throw Dr.create("no-app",{appName:n});return e}function jl(){return Array.from(Sa.values())}function He(n,e,t){var r;let i=(r=OV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(c.join(" "));return}Cr(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var VV="firebase-heartbeat-database",LV=1,Aa="firebase-heartbeat-store",um=null;function pT(){return um||(um=cT(VV,LV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Aa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),um}function UV(n){return w(this,null,function*(){try{let t=(yield pT()).transaction(Aa),r=yield t.objectStore(Aa).get(gT(n));return yield t.done,r}catch(e){if(e instanceof Dt)Vn.warn(e.message);else{let t=Dr.create("idb-get",{originalErrorMessage:e?.message});Vn.warn(t.message)}}})}function dT(n,e){return w(this,null,function*(){try{let r=(yield pT()).transaction(Aa,"readwrite");yield r.objectStore(Aa).put(e,gT(n)),yield r.done}catch(t){if(t instanceof Dt)Vn.warn(t.message);else{let r=Dr.create("idb-set",{originalErrorMessage:t?.message});Vn.warn(r.message)}}})}function gT(n){return`${n.name}!${n.options.appId}`}var jV=1024,BV=30*24*60*60*1e3,gm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new mm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=BV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=hT(),{heartbeatsToSend:r,unsentEntries:i}=$V(this._heartbeatsCache.heartbeats),s=ba(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Vn.warn(t),""}})}};function hT(){return new Date().toISOString().substring(0,10)}function $V(n,e=jV){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fT(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var mm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return nm()?Xb().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield UV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function fT(n){return ba(JSON.stringify({version:2,heartbeats:n})).length}function HV(n){Cr(new Ft("platform-logger",e=>new lm(e),"PRIVATE")),Cr(new Ft("heartbeat",e=>new gm(e),"PRIVATE")),He(dm,uT,n),He(dm,uT,"esm2017"),He("fire-js","")}HV("");var qV="firebase",zV="10.14.1";He(qV,zV,"app");var di=new bn("ANGULARFIRE2_VERSION");function $l(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ma=(n,e)=>{let t=e?[e]:jl(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ns=class{constructor(){return Ma(GV)}},GV="app-check";function Ms(){}var Bl=class{zone;delegate;constructor(e,t=Hh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},vm=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),t.pipe($e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xs=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Bl(Zone.current)),this.insideAngular=t.run(()=>new Bl(Zone.current,$h)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(J(we))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hl(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function WV(n){return Hl().ngZone.runOutsideAngular(()=>n())}function li(n){return Hl().ngZone.run(()=>n())}function KV(n){return QV(Hl())(n)}function QV(n){return function(t){return t=t.lift(new vm(n.ngZone)),t.pipe(tr(n.outsideAngular),er(n.insideAngular))}}var YV=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),li(()=>n.apply(void 0,r))},mt=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms))),r[s]=YV(r[s],t));let i=WV(()=>n.apply(this,r));if(!e)if(i instanceof le){let s=Hl();return i.pipe(tr(s.outsideAngular),er(s.insideAngular))}else return li(()=>i);return i instanceof le?i.pipe(KV):i instanceof Promise?li(()=>new Promise((s,o)=>i.then(c=>li(()=>s(c)),c=>li(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:li(()=>i)};var Ln=class{constructor(e){return e}},hi=class{constructor(){return jl()}};function ZV(n){return n&&n.length===1?n[0]:new Ln(Rs())}var _m=new j("angularfire2._apps"),JV={provide:Ln,useFactory:ZV,deps:[[new dt,_m]]},XV={provide:hi,deps:[[new dt,_m]]};function eL(n){return(e,t)=>{let r=t.get(pr);He("angularfire",di.full,"core"),He("angularfire",di.full,"app"),He("angular",qD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ln(i)}}function mT(n,...e){return rn([JV,XV,{provide:_m,useFactory:eL(n),multi:!0,deps:[we,ft,xs,...e]}])}var yT=mt(ym,!0);function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kT=OT,FT=new Fn("auth","Firebase",OT());var Ql=new Er("@firebase/auth");function tL(n,...e){Ql.logLevel<=ce.WARN&&Ql.warn(`Auth (${br}): ${n}`,...e)}function zl(n,...e){Ql.logLevel<=ce.ERROR&&Ql.error(`Auth (${br}): ${n}`,...e)}function Ar(n,...e){throw Bm(n,...e)}function fi(n,...e){return Bm(n,...e)}function VT(n,e,t){let r=Object.assign(Object.assign({},kT()),{[e]:t});return new Fn("auth","Firebase",r).create(e,{appName:n.name})}function Sr(n){return VT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return FT.create(n,...e)}function W(n,e,...t){if(!n)throw Bm(e,...t)}function Un(n){let e="INTERNAL ASSERTION FAILED: "+n;throw zl(e),new Error(e)}function Rr(n,e){n||Un(e)}function Dm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nL(){return vT()==="http:"||vT()==="https:"}function vT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function rL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nL()||Qb()||"connection"in navigator)?navigator.onLine:!0}function iL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var pi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rr(t>e,"Short delay should be less than long delay!"),this.isMobile=Wb()||Yb()}get(){return rL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $m(n,e){Rr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Yl=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var sL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var oL=new pi(3e4,6e4);function Fa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function mi(s,o,c,u){return w(this,arguments,function*(n,e,t,r,i={}){return LT(n,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ta(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:y},l);return Kb()||(I.referrerPolicy="no-referrer"),Yl.fetch()(jT(n,n.config.apiHost,t,p),I)}))})}function LT(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},sL),e);try{let i=new Cm(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ql(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ql(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw ql(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw VT(n,h,l);Ar(n,h)}}catch(i){if(i instanceof Dt)throw i;Ar(n,"network-request-failed",{message:String(i)})}})}function UT(s,o,c,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield mi(n,e,t,r,i);return"mfaPendingCredential"in l&&Ar(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function jT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?$m(n.config,i):`${n.config.apiScheme}://${i}`}function aL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Cm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),oL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ql(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=fi(n,e,r);return i.customData._tokenResponse=t,i}function _T(n){return n!==void 0&&n.enterprise!==void 0}var bm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function cL(n,e){return w(this,null,function*(){return mi(n,"GET","/v2/recaptchaConfig",Fa(n,e))})}function uL(n,e){return w(this,null,function*(){return mi(n,"POST","/v1/accounts:delete",e)})}function BT(n,e){return w(this,null,function*(){return mi(n,"POST","/v1/accounts:lookup",e)})}function Na(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hm(n,e=!1){return w(this,null,function*(){let t=gt(n),r=yield t.getIdToken(e),i=qm(r);W(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Na(Im(i.auth_time)),issuedAtTime:Na(Im(i.iat)),expirationTime:Na(Im(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Im(n){return Number(n)*1e3}function qm(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jg(t);return i?JSON.parse(i):(zl("Failed to decode base64 JWT payload"),null)}catch(i){return zl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IT(n){let e=qm(n);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pa(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Dt&&lL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function lL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Tm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Oa=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Na(this.lastLoginAt),this.creationTime=Na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zl(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Pa(n,BT(t,{idToken:r}));W(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$T(s.providerUserInfo):[],c=dL(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Oa(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function zm(n){return w(this,null,function*(){let e=gt(n);yield Zl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function dL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $T(n){return n.map(e=>{var{providerId:t}=e,r=qh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hL(n,e){return w(this,null,function*(){let t=yield LT(n,{},()=>w(this,null,function*(){let r=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=jT(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Yl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function fL(n,e){return w(this,null,function*(){return mi(n,"POST","/v2/accounts:revokeToken",Fa(n,e))})}var xa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){W(e.length!==0,"internal-error");let t=IT(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield hL(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Un("not implemented")}};function Tr(n,e){W(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ps=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=qh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield Pa(this,this.stsTokenManager.getToken(this.auth,e));return W(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Hm(this,e)}reload(){return zm(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Zl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(cn(this.auth.app))return Promise.reject(Sr(this.auth));let e=yield this.getIdToken();return yield Pa(this,uL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=t.photoURL)!==null&&o!==void 0?o:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:re,isAnonymous:Ae,providerData:Q,stsTokenManager:D}=t;W(q&&D,e,"internal-error");let m=xa.fromJSON(this.name,D);W(typeof q=="string",e,"internal-error"),Tr(p,e.name),Tr(y,e.name),W(typeof re=="boolean",e,"internal-error"),W(typeof Ae=="boolean",e,"internal-error"),Tr(I,e.name),Tr(S,e.name),Tr(N,e.name),Tr(M,e.name),Tr(F,e.name),Tr(H,e.name);let v=new n({uid:q,auth:e,email:y,emailVerified:re,displayName:p,isAnonymous:Ae,photoURL:S,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:F,lastLoginAt:H});return Q&&Array.isArray(Q)&&(v.providerData=Q.map(E=>Object.assign({},E))),M&&(v._redirectEventId=M),v}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new xa;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?$T(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new xa;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Oa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var wT=new Map;function jn(n){Rr(n instanceof Function,"Expected a class definition");let e=wT.get(n);return e?(Rr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wT.set(n,e),e)}var pL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Sm=pL;function Gl(n,e,t){return`firebase:${n}:${e}:${t}`}var Jl=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gl("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(jn(Sm),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||jn(Sm),o=Gl(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(o);if(h){let p=Ps._fromJSON(e,h);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function ET(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function HT(n=ze()){return/firefox\//i.test(n)}function qT(n=ze()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(n=ze()){return/crios\//i.test(n)}function GT(n=ze()){return/iemobile/i.test(n)}function WT(n=ze()){return/android/i.test(n)}function KT(n=ze()){return/blackberry/i.test(n)}function QT(n=ze()){return/webos/i.test(n)}function Gm(n=ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gL(n=ze()){var e;return Gm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mL(){return Zb()&&document.documentMode===10}function YT(n=ze()){return Gm(n)||WT(n)||QT(n)||KT(n)||/windows phone/i.test(n)||GT(n)}function ZT(n,e=[]){let t;switch(n){case"Browser":t=ET(ze());break;case"Worker":t=`${ET(ze())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${br}/${r}`}var Am=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function yL(t){return w(this,arguments,function*(n,e={}){return mi(n,"GET","/v2/passwordPolicy",Fa(n,e))})}var vL=6,Rm=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:vL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Mm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xl(this),this.idTokenSubscription=new Xl(this),this.beforeStateQueue=new Am(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jn(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield BT(this,{idToken:e}),r=yield Ps._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(cn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Zl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(cn(this.app))return Promise.reject(Sr(this));let t=e?gt(e):null;return t&&W(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return cn(this.app)?Promise.reject(Sr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return cn(this.app)?Promise.reject(Sr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(jn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield yL(this),t=new Rm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield fL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&jn(e)||this._popupRedirectResolver;W(t,this,"argument-error"),this.redirectPersistenceManager=yield Jl.create(this,[jn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&tL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ks(n){return gt(n)}var Xl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tT(t=>this.observer=t)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var od={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _L(n){od=n}function JT(n){return od.loadJS(n)}function IL(){return od.recaptchaEnterpriseScript}function wL(){return od.gapiScript}function XT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var EL="recaptcha-enterprise",DL="NO_RECAPTCHA",Nm=class{constructor(e){this.type=EL,this.auth=ks(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){cL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new bm(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;_T(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(DL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!t&&_T(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=IL();u.length!==0&&(u+=c),JT(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function DT(n,e,t,r=!1){return w(this,null,function*(){let i=new Nm(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function CL(n,e,t,r){return w(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield DT(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield DT(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function Wm(n,e){let t=Ra(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(ci(s,e??{}))return i;Ar(i,"already-initialized")}return t.initialize({options:e})}function bL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Km(n,e,t){let r=ks(n);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=e0(e),{host:o,port:c}=TL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SL()}function e0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TL(n){let e=e0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:CT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:CT(o)}}}function CT(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function SL(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ed=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,t){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};function wm(n,e){return w(this,null,function*(){return UT(n,"POST","/v1/accounts:signInWithIdp",Fa(n,e))})}var td=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var xm=class extends td{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function AL(n,e){return w(this,null,function*(){return UT(n,"POST","/v1/accounts:signUp",Fa(n,e))})}var Os=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let s=yield Ps._fromIdTokenResponse(e,r,i),o=bT(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=bT(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function bT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Pm=class n extends Dt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function t0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pm._fromErrorAndOperation(n,s,e,r):s})}function RL(n,e,t=!1){return w(this,null,function*(){let r=yield Pa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Os._forOperation(n,"link",r)})}function ML(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(cn(r.app))return Promise.reject(Sr(r));let i="reauthenticate";try{let s=yield Pa(n,t0(r,i,e,n),t);W(s.idToken,r,"internal-error");let o=qm(s.idToken);W(o,r,"internal-error");let{sub:c}=o;return W(n.uid===c,r,"user-mismatch"),Os._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ar(r,"user-mismatch"),s}})}function NL(n,e,t=!1){return w(this,null,function*(){if(cn(n.app))return Promise.reject(Sr(n));let r="signIn",i=yield t0(n,r,e),s=yield Os._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function xL(n){return w(this,null,function*(){let e=ks(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Qm(n,e,t){return w(this,null,function*(){if(cn(n.app))return Promise.reject(Sr(n));let r=ks(n),o=yield CL(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&xL(n),u}),c=yield Os._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Ym(n,e,t,r){return gt(n).onIdTokenChanged(e,t,r)}function Zm(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}var nd="__sak";var rd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var PL=1e3,OL=10,kL=(()=>{class n extends rd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);mL()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,OL):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},PL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield Zn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield Zn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield Zn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),n0=kL;var FL=(()=>{class n extends rd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Jm=FL;function VL(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var LL=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield VL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function r0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Om=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=r0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function un(){return window}function UL(n){un().location.href=n}function i0(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}function jL(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function BL(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $L(){return i0()?self:null}var s0="firebaseLocalStorageDb",HL=1,id="firebaseLocalStorage",o0="fbase_key",gi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ad(n,e){return n.transaction([id],e?"readwrite":"readonly").objectStore(id)}function qL(){let n=indexedDB.deleteDatabase(s0);return new gi(n).toPromise()}function km(){let n=indexedDB.open(s0,HL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(id,{keyPath:o0})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(id)?e(r):(r.close(),yield qL(),e(yield km()))}))})}function TT(n,e,t){return w(this,null,function*(){let r=ad(n,!0).put({[o0]:e,value:t});return new gi(r).toPromise()})}function zL(n,e){return w(this,null,function*(){let t=ad(n,!1).get(e),r=yield new gi(t).toPromise();return r===void 0?null:r.value})}function ST(n,e){let t=ad(n,!0).delete(e);return new gi(t).toPromise()}var GL=800,WL=3,KL=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield km(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>WL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return i0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=LL._getInstance($L()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield jL(),!this.activeServiceWorker)return;this.sender=new Om(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||BL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield km();return yield TT(t,nd,"1"),yield ST(t,nd),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>TT(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>zL(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>ST(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(s=>{let o=ad(s,!1).getAll();return new gi(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),GL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),a0=KL;var GW=XT("rcb"),WW=new pi(3e4,6e4);function QL(n,e){return e?jn(e):(W(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ka=class extends ed{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wm(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function YL(n){return NL(n.auth,new ka(n),n.bypassAuthState)}function ZL(n){let{auth:e,user:t}=n;return W(t,e,"internal-error"),ML(t,new ka(n),n.bypassAuthState)}function JL(n){return w(this,null,function*(){let{auth:e,user:t}=n;return W(t,e,"internal-error"),RL(t,new ka(n),n.bypassAuthState)})}var Fm=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YL;case"linkViaPopup":case"linkViaRedirect":return JL;case"reauthViaPopup":case"reauthViaRedirect":return ZL;default:Ar(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var KW=new pi(2e3,1e4);var XL="pendingRedirect",Wl=new Map,Vm=class n extends Fm{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Wl.get(this.auth._key());if(!e){try{let r=(yield eU(this.resolver,this.auth))?yield Zn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Zn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Zn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function eU(n,e){return w(this,null,function*(){let t=rU(e),r=nU(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function tU(n,e){Wl.set(n._key(),e)}function nU(n){return jn(n._redirectPersistence)}function rU(n){return Gl(XL,n.config.apiKey,n.name)}function iU(n,e,t=!1){return w(this,null,function*(){if(cn(n.app))return Promise.reject(Sr(n));let r=ks(n),i=QL(r,e),o=yield new Vm(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var sU=10*60*1e3,Lm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!c0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sU&&this.cachedEventUids.clear(),this.cachedEventUids.has(AT(e))}saveEventToCache(e){this.cachedEventUids.add(AT(e)),this.lastProcessedEventTime=Date.now()}};function AT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function c0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function oU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c0(n);default:return!1}}function aU(t){return w(this,arguments,function*(n,e={}){return mi(n,"GET","/v1/projects",e)})}var cU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uU=/^https?/;function lU(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield aU(n);for(let t of e)try{if(dU(t))return}catch{}Ar(n,"unauthorized-domain")})}function dU(n){let e=Dm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!uU.test(t))return!1;if(cU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var hU=new pi(3e4,6e4);function RT(){let n=un().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fU(n){return new Promise((e,t)=>{var r,i,s;function o(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),t(fi(n,"network-request-failed"))},timeout:hU.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=un().gapi)===null||s===void 0)&&s.load)o();else{let c=XT("iframefcb");return un()[c]=()=>{gapi.load?o():t(fi(n,"network-request-failed"))},JT(`${wL()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Kl=null,e})}var Kl=null;function pU(n){return Kl=Kl||fU(n),Kl}var gU=new pi(5e3,15e3),mU="__/auth/iframe",yU="emulator/auth/iframe",vU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IU(n){let e=n.config;W(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?$m(e,yU):`https://${n.config.authDomain}/${mU}`,r={apiKey:e.apiKey,appName:n.name,v:br},i=_U.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ta(r).slice(1)}`}function wU(n){return w(this,null,function*(){let e=yield pU(n),t=un().gapi;return W(t,n,"internal-error"),e.open({where:document.body,url:IU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vU,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=fi(n,"network-request-failed"),c=un().setTimeout(()=>{s(o)},gU.get());function u(){un().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var EU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DU=500,CU=600,bU="_blank",TU="http://localhost",sd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function SU(n,e,t,r=DU,i=CU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},EU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ze().toLowerCase();t&&(c=zT(l)?bU:t),HT(l)&&(e=e||TU,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[I,S])=>`${y}${I}=${S},`,"");if(gL(l)&&c!=="_self")return AU(e||"",c),new sd(null);let p=window.open(e||"",c,h);W(p,n,"popup-blocked");try{p.focus()}catch{}return new sd(p)}function AU(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var RU="__/auth/handler",MU="emulator/auth/handler",NU=encodeURIComponent("fac");function MT(n,e,t,r,i,s){return w(this,null,function*(){W(n.config.authDomain,n,"auth-domain-config-required"),W(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:br,eventId:i};if(e instanceof td){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",eT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof xm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield n._getAppCheckToken(),l=u?`#${NU}=${encodeURIComponent(u)}`:"";return`${xU(n)}?${Ta(c).slice(1)}${l}`})}function xU({config:n}){return n.emulator?$m(n,MU):`https://${n.authDomain}/${RU}`}var Em="webStorageSupport",Um=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jm,this._completeRedirectFn=iU,this._overrideRedirectResult=tU}_openPopup(e,t,r,i){return w(this,null,function*(){var s;Rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield MT(e,t,r,Dm(),i);return SU(e,o,r0())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield MT(e,t,r,Dm(),i);return UL(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Rr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield wU(e),r=new Lm(e);return t.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Em,{type:Em},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Em];o!==void 0&&t(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YT()||qT()||Gm()}},u0=Um;var NT="@firebase/auth",xT="1.7.9";var jm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OU(n){Cr(new Ft("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(n)},l=new Mm(r,i,s,u);return bL(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new Ft("auth-internal",e=>{let t=ks(e.getProvider("auth").getImmediate());return(r=>new jm(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(NT,xT,PU(n)),He(NT,xT,"esm2017")}var kU=5*60,FU=tm("authIdTokenMaxAge")||kU,PT=null,VU=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>FU)return;let i=t?.token;PT!==i&&(PT=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Xm(n=Rs()){let e=Ra(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Wm(n,{popupRedirectResolver:u0,persistence:[a0,n0,Jm]}),r=tm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=VU(s.toString());Zm(t,o,()=>o(t.currentUser)),Ym(t,c=>o(c))}}let i=Xg("auth");return i&&Km(t,`http://${i}`),t}function LU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_L({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=fi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",LU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OU("Browser");var l0="auth",yi=class{constructor(e){return e}},Va=class{constructor(){return Ma(l0)}};var ey=new j("angularfire2.auth-instances");function Nj(n,e){let t=$l(l0,n,e);return t&&new yi(t)}function xj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yi(r)}}var Pj={provide:Va,deps:[[new dt,ey]]},Oj={provide:yi,useFactory:Nj,deps:[[new dt,ey],Ln]};function d0(n,...e){return He("angularfire",di.full,"auth"),rn([Oj,Pj,{provide:ey,useFactory:xj(n),multi:!0,deps:[we,ft,xs,hi,[new dt,Ns],...e]}])}var h0=mt(Qm,!0);var f0=mt(Xm,!0);var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g0={};var Mr,ty;(function(){var n;function e(D,m){function v(){}v.prototype=m.prototype,D.D=m.prototype,D.prototype=new v,D.prototype.constructor=D,D.C=function(E,C,T){for(var _=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)_[yn-2]=arguments[yn];return m.prototype[C].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,v){v||(v=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(C=0;16>C;++C)E[C]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=D.g[0],v=D.g[1],C=D.g[2];var T=D.g[3],_=m+(T^v&(C^T))+E[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=T+(C^m&(v^C))+E[1]+3905402710&4294967295,T=m+(_<<12&4294967295|_>>>20),_=C+(v^T&(m^v))+E[2]+606105819&4294967295,C=T+(_<<17&4294967295|_>>>15),_=v+(m^C&(T^m))+E[3]+3250441966&4294967295,v=C+(_<<22&4294967295|_>>>10),_=m+(T^v&(C^T))+E[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(C^m&(v^C))+E[5]+1200080426&4294967295,T=m+(_<<12&4294967295|_>>>20),_=C+(v^T&(m^v))+E[6]+2821735955&4294967295,C=T+(_<<17&4294967295|_>>>15),_=v+(m^C&(T^m))+E[7]+4249261313&4294967295,v=C+(_<<22&4294967295|_>>>10),_=m+(T^v&(C^T))+E[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(C^m&(v^C))+E[9]+2336552879&4294967295,T=m+(_<<12&4294967295|_>>>20),_=C+(v^T&(m^v))+E[10]+4294925233&4294967295,C=T+(_<<17&4294967295|_>>>15),_=v+(m^C&(T^m))+E[11]+2304563134&4294967295,v=C+(_<<22&4294967295|_>>>10),_=m+(T^v&(C^T))+E[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(C^m&(v^C))+E[13]+4254626195&4294967295,T=m+(_<<12&4294967295|_>>>20),_=C+(v^T&(m^v))+E[14]+2792965006&4294967295,C=T+(_<<17&4294967295|_>>>15),_=v+(m^C&(T^m))+E[15]+1236535329&4294967295,v=C+(_<<22&4294967295|_>>>10),_=m+(C^T&(v^C))+E[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^C&(m^v))+E[6]+3225465664&4294967295,T=m+(_<<9&4294967295|_>>>23),_=C+(m^v&(T^m))+E[11]+643717713&4294967295,C=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(C^T))+E[0]+3921069994&4294967295,v=C+(_<<20&4294967295|_>>>12),_=m+(C^T&(v^C))+E[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^C&(m^v))+E[10]+38016083&4294967295,T=m+(_<<9&4294967295|_>>>23),_=C+(m^v&(T^m))+E[15]+3634488961&4294967295,C=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(C^T))+E[4]+3889429448&4294967295,v=C+(_<<20&4294967295|_>>>12),_=m+(C^T&(v^C))+E[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^C&(m^v))+E[14]+3275163606&4294967295,T=m+(_<<9&4294967295|_>>>23),_=C+(m^v&(T^m))+E[3]+4107603335&4294967295,C=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(C^T))+E[8]+1163531501&4294967295,v=C+(_<<20&4294967295|_>>>12),_=m+(C^T&(v^C))+E[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^C&(m^v))+E[2]+4243563512&4294967295,T=m+(_<<9&4294967295|_>>>23),_=C+(m^v&(T^m))+E[7]+1735328473&4294967295,C=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(C^T))+E[12]+2368359562&4294967295,v=C+(_<<20&4294967295|_>>>12),_=m+(v^C^T)+E[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^C)+E[8]+2272392833&4294967295,T=m+(_<<11&4294967295|_>>>21),_=C+(T^m^v)+E[11]+1839030562&4294967295,C=T+(_<<16&4294967295|_>>>16),_=v+(C^T^m)+E[14]+4259657740&4294967295,v=C+(_<<23&4294967295|_>>>9),_=m+(v^C^T)+E[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^C)+E[4]+1272893353&4294967295,T=m+(_<<11&4294967295|_>>>21),_=C+(T^m^v)+E[7]+4139469664&4294967295,C=T+(_<<16&4294967295|_>>>16),_=v+(C^T^m)+E[10]+3200236656&4294967295,v=C+(_<<23&4294967295|_>>>9),_=m+(v^C^T)+E[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^C)+E[0]+3936430074&4294967295,T=m+(_<<11&4294967295|_>>>21),_=C+(T^m^v)+E[3]+3572445317&4294967295,C=T+(_<<16&4294967295|_>>>16),_=v+(C^T^m)+E[6]+76029189&4294967295,v=C+(_<<23&4294967295|_>>>9),_=m+(v^C^T)+E[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^C)+E[12]+3873151461&4294967295,T=m+(_<<11&4294967295|_>>>21),_=C+(T^m^v)+E[15]+530742520&4294967295,C=T+(_<<16&4294967295|_>>>16),_=v+(C^T^m)+E[2]+3299628645&4294967295,v=C+(_<<23&4294967295|_>>>9),_=m+(C^(v|~T))+E[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~C))+E[7]+1126891415&4294967295,T=m+(_<<10&4294967295|_>>>22),_=C+(m^(T|~v))+E[14]+2878612391&4294967295,C=T+(_<<15&4294967295|_>>>17),_=v+(T^(C|~m))+E[5]+4237533241&4294967295,v=C+(_<<21&4294967295|_>>>11),_=m+(C^(v|~T))+E[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~C))+E[3]+2399980690&4294967295,T=m+(_<<10&4294967295|_>>>22),_=C+(m^(T|~v))+E[10]+4293915773&4294967295,C=T+(_<<15&4294967295|_>>>17),_=v+(T^(C|~m))+E[1]+2240044497&4294967295,v=C+(_<<21&4294967295|_>>>11),_=m+(C^(v|~T))+E[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~C))+E[15]+4264355552&4294967295,T=m+(_<<10&4294967295|_>>>22),_=C+(m^(T|~v))+E[6]+2734768916&4294967295,C=T+(_<<15&4294967295|_>>>17),_=v+(T^(C|~m))+E[13]+1309151649&4294967295,v=C+(_<<21&4294967295|_>>>11),_=m+(C^(v|~T))+E[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~C))+E[11]+3174756917&4294967295,T=m+(_<<10&4294967295|_>>>22),_=C+(m^(T|~v))+E[2]+718787259&4294967295,C=T+(_<<15&4294967295|_>>>17),_=v+(T^(C|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var v=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=v;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var v=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=v&255,v/=256;for(this.u(D),D=Array(16),m=v=0;4>m;++m)for(var E=0;32>E;E+=8)D[v++]=this.g[m]>>>E&255;return D};function s(D,m){var v=c;return Object.prototype.hasOwnProperty.call(v,D)?v[D]:v[D]=m(D)}function o(D,m){this.h=m;for(var v=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==m||(v[C]=T,E=!1)}this.g=v}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(l(-D));for(var m=[],v=1,E=0;D>=v;E++)m[E]=D/v|0,v*=4294967296;return new o(m,0)}function h(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return M(h(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),_=parseInt(D.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(_))):(E=E.j(v),E=E.add(l(_)))}return E}var p=u(0),y=u(1),I=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-M(this).m();for(var D=0,m=1,v=0;v<this.g.length;v++){var E=this.i(v);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+M(this).toString(D);for(var m=l(Math.pow(D,6)),v=this,E="";;){var C=re(v,m).g;v=F(v,C.j(m));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(D);if(v=C,S(v))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}n.l=function(D){return D=F(this,D),N(D)?-1:S(D)?0:1};function M(D){for(var m=D.g.length,v=[],E=0;E<m;E++)v[E]=~D.g[E];return new o(v,~D.h).add(y)}n.abs=function(){return N(this)?M(this):this},n.add=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),_=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=_>>>16,T&=65535,_&=65535,v[C]=_<<16|T}return new o(v,v[v.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(M(m))}n.j=function(D){if(S(this)||S(D))return p;if(N(this))return N(D)?M(this).j(M(D)):M(M(this).j(D));if(N(D))return M(this.j(M(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,v=[],E=0;E<2*m;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,_=this.i(E)&65535,yn=D.i(C)>>>16,co=D.i(C)&65535;v[2*E+2*C]+=_*co,H(v,2*E+2*C),v[2*E+2*C+1]+=T*co,H(v,2*E+2*C+1),v[2*E+2*C+1]+=_*yn,H(v,2*E+2*C+1),v[2*E+2*C+2]+=T*yn,H(v,2*E+2*C+2)}for(E=0;E<m;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=m;E<2*m;E++)v[E]=0;return new o(v,0)};function H(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function q(D,m){this.g=D,this.h=m}function re(D,m){if(S(m))throw Error("division by zero");if(S(D))return new q(p,p);if(N(D))return m=re(M(D),m),new q(M(m.g),M(m.h));if(N(m))return m=re(D,M(m)),new q(M(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,E=m;0>=E.l(D);)v=Ae(v),E=Ae(E);var C=Q(v,1),T=Q(E,1);for(E=Q(E,2),v=Q(v,2);!S(E);){var _=T.add(E);0>=_.l(D)&&(C=C.add(v),T=_),E=Q(E,1),v=Q(v,1)}return m=F(D,C.j(m)),new q(C,m)}for(C=p;0<=D.l(m);){for(v=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(v),_=T.j(m);N(_)||0<_.l(D);)v-=E,T=l(v),_=T.j(m);S(T)&&(T=y),C=C.add(T),D=F(D,_)}return new q(C,D)}n.A=function(D){return re(this,D).h},n.and=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)&D.i(E);return new o(v,this.h&D.h)},n.or=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)|D.i(E);return new o(v,this.h|D.h)},n.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)^D.i(E);return new o(v,this.h^D.h)};function Ae(D){for(var m=D.g.length+1,v=[],E=0;E<m;E++)v[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(v,D.h)}function Q(D,m){var v=m>>5;m%=32;for(var E=D.g.length-v,C=[],T=0;T<E;T++)C[T]=0<m?D.i(T+v)>>>m|D.i(T+v+1)<<32-m:D.i(T+v);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ty=g0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Mr=g0.Integer=o}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bn={};var ny,Fj,Fs,ry,La,ud,iy,sy,oy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in f))break e;f=f[b]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var f=0,g=!1,b={next:function(){if(!g&&f<a.length){var A=f++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,f){return f})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function y(a,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function I(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,b,A){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,P)}}function N(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function M(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=a.length||0,A=g.length||0;a.length=b+A;for(let P=0;P<A;P++)a[b+P]=g[P]}else a.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(a){return/^[\s\xa0]*$/.test(a)}function q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function re(a){return re[" "](a),a}re[" "]=function(){};var Ae=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Q(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function m(a){let d={};for(let f in a)d[f]=a[f];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)a[f]=g[f];for(let A=0;A<v.length;A++)f=v[A],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function C(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=eh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,f){let g=co.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var co=new F(()=>new wA,a=>a.reset());class wA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let uo,lo=!1,eh=new yn,p_=()=>{let a=c.Promise.resolve(void 0);uo=()=>{a.then(EA)}};var EA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){T(f)}var d=co;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}lo=!1};function Wn(){this.s=this.s,this.C=this.C}Wn.prototype.s=!1,Wn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var DA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function ho(a,d){if(Xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ae){e:{try{re(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:CA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ho.aa.h.call(this)}}S(ho,Xe);var CA={2:"touch",3:"pen",4:"mouse"};ho.prototype.h=function(){ho.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var fo="closure_listenable_"+(1e6*Math.random()|0),bA=0;function TA(a,d,f,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++bA,this.da=this.fa=!1}function ac(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function cc(a){this.src=a,this.g={},this.h=0}cc.prototype.add=function(a,d,f,g,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=nh(a,d,g,b);return-1<P?(d=a[P],f||(d.fa=!1)):(d=new TA(d,this.src,A,!!g,b),d.fa=f,a.push(d)),d};function th(a,d){var f=d.type;if(f in a.g){var g=a.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(ac(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function nh(a,d,f,g){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var rh="closure_lm_"+(1e6*Math.random()|0),ih={};function g_(a,d,f,g,b){if(g&&g.once)return y_(a,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)g_(a,d[A],f,g,b);return null}return f=ch(f),a&&a[fo]?a.K(d,f,l(g)?!!g.capture:!!g,b):m_(a,d,f,!1,g,b)}function m_(a,d,f,g,b,A){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,Ee=oh(a);if(Ee||(a[rh]=Ee=new cc(a)),f=Ee.add(d,f,g,P,A),f.proxy)return f;if(g=SA(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)DA||(b=P),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(__(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function SA(){function a(f){return d.call(a.src,a.listener,f)}let d=AA;return a}function y_(a,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)y_(a,d[A],f,g,b);return null}return f=ch(f),a&&a[fo]?a.L(d,f,l(g)?!!g.capture:!!g,b):m_(a,d,f,!0,g,b)}function v_(a,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)v_(a,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=ch(f),a&&a[fo]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],f=nh(A,f,g,b),-1<f&&(ac(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=oh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=nh(d,f,g,b)),(f=-1<a?d[a]:null)&&sh(f))}function sh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[fo])th(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(__(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=oh(d))?(th(f,a),f.h==0&&(f.src=null,d[rh]=null)):ac(a)}}}function __(a){return a in ih?ih[a]:ih[a]="on"+a}function AA(a,d){if(a.da)a=!0;else{d=new ho(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&sh(a),a=f.call(g,d)}return a}function oh(a){return a=a[rh],a instanceof cc?a:null}var ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function ch(a){return typeof a=="function"?a:(a[ah]||(a[ah]=function(d){return a.handleEvent(d)}),a[ah])}function et(){Wn.call(this),this.i=new cc(this),this.M=this,this.F=null}S(et,Wn),et.prototype[fo]=!0,et.prototype.removeEventListener=function(a,d,f,g){v_(this,a,d,f,g)};function ot(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Xe(d,a);else if(d instanceof Xe)d.target=d.target||a;else{var b=d;d=new Xe(g,a),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];b=uc(P,g,!0,d)&&b}if(P=d.g=a,b=uc(P,g,!0,d)&&b,b=uc(P,g,!1,d)&&b,f)for(A=0;A<f.length;A++)P=d.g=f[A],b=uc(P,g,!1,d)&&b}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)ac(f[g]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},et.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function uc(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Ee=P.listener,We=P.ha||P.src;P.fa&&th(a.i,P),b=Ee.call(We,g)!==!1&&b}}return b&&!g.defaultPrevented}function I_(a,d,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function w_(a){a.g=I_(()=>{a.g=null,a.i&&(a.i=!1,w_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class RA extends Wn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:w_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(a){Wn.call(this),this.h=a,this.g={}}S(po,Wn);var E_=[];function D_(a){Q(a.g,function(d,f){this.g.hasOwnProperty(f)&&sh(d)},a),a.g={}}po.prototype.N=function(){po.aa.N.call(this),D_(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uh=c.JSON.stringify,MA=c.JSON.parse,NA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function lh(){}lh.prototype.h=null;function C_(a){return a.h||(a.h=a.i())}function b_(){}var go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dh(){Xe.call(this,"d")}S(dh,Xe);function hh(){Xe.call(this,"c")}S(hh,Xe);var Fr={},T_=null;function lc(){return T_=T_||new et}Fr.La="serverreachability";function S_(a){Xe.call(this,Fr.La,a)}S(S_,Xe);function mo(a){let d=lc();ot(d,new S_(d))}Fr.STAT_EVENT="statevent";function A_(a,d){Xe.call(this,Fr.STAT_EVENT,a),this.stat=d}S(A_,Xe);function at(a){let d=lc();ot(d,new A_(d,a))}Fr.Ma="timingevent";function R_(a,d){Xe.call(this,Fr.Ma,a),this.size=d}S(R_,Xe);function yo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function xA(a,d,f,g,b,A){a.info(function(){if(a.g)if(A)for(var P="",Ee=A.split("&"),We=0;We<Ee.length;We++){var ge=Ee[We].split("=");if(1<ge.length){var tt=ge[0];ge=ge[1];var nt=tt.split("_");P=2<=nt.length&&nt[1]=="type"?P+(tt+"="+ge+"&"):P+(tt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+P})}function PA(a,d,f,g,b,A,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+P})}function Ai(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+kA(a,f)+(g?" "+g:"")})}function OA(a,d){a.info(function(){return"TIMEOUT: "+d})}vo.prototype.info=function(){};function kA(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return uh(f)}catch{return d}}var dc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},M_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fh;function hc(){}S(hc,lh),hc.prototype.g=function(){return new XMLHttpRequest},hc.prototype.i=function(){return{}},fh=new hc;function Kn(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new N_}function N_(){this.i=null,this.g="",this.h=!1}var x_={},ph={};function gh(a,d,f){a.L=1,a.v=mc(vn(d)),a.m=f,a.P=!0,P_(a,null)}function P_(a,d){a.F=Date.now(),fc(a),a.A=vn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),W_(f.i,"t",g),a.C=0,f=a.j.J,a.h=new N_,a.g=dI(a.j,f?d:null,!a.m),0<a.O&&(a.M=new RA(y(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(E_[0]=b.toString()),b=E_);for(var A=0;A<b.length;A++){var P=g_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),mo(),xA(a.i,a.u,a.A,a.l,a.R,a.m)}Kn.prototype.ca=function(a){a=a.target;let d=this.M;d&&_n(a)==3?d.j():this.Y(a)},Kn.prototype.Y=function(a){try{if(a==this.g)e:{let nt=_n(this.g);var d=this.g.Ba();let Ni=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||eI(this.g)))){this.J||nt!=4||d==7||(d==8||0>=Ni?mo(3):mo(2)),mh(this);var f=this.g.Z();this.X=f;t:if(O_(this)){var g=eI(this.g);a="";var b=g.length,A=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),_o(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,PA(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,We=this.g;if((Ee=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ee)){var ge=Ee;break t}}ge=null}if(f=ge)Ai(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yh(this,f);else{this.o=!1,this.s=3,at(12),Vr(this),_o(this);break e}}if(this.P){f=!0;let Vt;for(;!this.J&&this.C<P.length;)if(Vt=FA(this,P),Vt==ph){nt==4&&(this.s=4,at(14),f=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==x_){this.s=4,at(15),Ai(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Ai(this.i,this.l,Vt,null),yh(this,Vt);if(O_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||P.length!=0||this.h.h||(this.s=1,at(16),f=!1),this.o=this.o&&f,!f)Ai(this.i,this.l,P,"[Invalid Chunked Response]"),Vr(this),_o(this);else if(0<P.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Dh(tt),tt.M=!0,at(11))}}else Ai(this.i,this.l,P,null),yh(this,P);nt==4&&Vr(this),this.o&&!this.J&&(nt==4?aI(this.j,this):(this.o=!1,fc(this)))}else XA(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Vr(this),_o(this)}}}catch{}finally{}};function O_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function FA(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?ph:(f=Number(d.substring(f,g)),isNaN(f)?x_:(g+=1,g+f>d.length?ph:(d=d.slice(g,g+f),a.C=g+f,d)))}Kn.prototype.cancel=function(){this.J=!0,Vr(this)};function fc(a){a.S=Date.now()+a.I,k_(a,a.I)}function k_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=yo(y(a.ba,a),d)}function mh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Kn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(OA(this.i,this.A),this.L!=2&&(mo(),at(17)),Vr(this),this.s=2,_o(this)):k_(this,this.S-a)};function _o(a){a.j.G==0||a.J||aI(a.j,a)}function Vr(a){mh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,D_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function yh(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||vh(f.h,a))){if(!a.K&&vh(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)wc(f),_c(f);else break e;Eh(f),at(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=yo(y(f.Za,f),6e3));if(1>=L_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ur(f,11)}else if((a.K||f.g==a)&&wc(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let tt=ge[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=ge[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let Ni=ge[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(g=1.5*Ni,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Vt=a.g;if(Vt){let Dc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dc){var A=g.h;A.g||Dc.indexOf("spdy")==-1&&Dc.indexOf("quic")==-1&&Dc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(_h(A,A.h),A.h=null))}if(g.D){let Ch=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ch&&(g.ya=Ch,Ce(g.I,g.D,Ch))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=a;if(g.qa=lI(g,g.J?g.ia:null,g.W),P.K){U_(g.h,P);var Ee=P,We=g.L;We&&(Ee.I=We),Ee.B&&(mh(Ee),fc(Ee)),g.g=P}else sI(g);0<f.i.length&&Ic(f)}else ge[0]!="stop"&&ge[0]!="close"||Ur(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Ur(f,7):wh(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}mo(4)}catch{}}var VA=class{constructor(a,d){this.g=a,this.map=d}};function F_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function V_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function L_(a){return a.h?1:a.g?a.g.size:0}function vh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function _h(a,d){a.g?a.g.add(d):a.h=d}function U_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}F_.prototype.cancel=function(){if(this.i=j_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function j_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return N(a.i)}function LA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function UA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function B_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=UA(a),g=LA(a),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],a)}var $_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jA(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),b=null;if(0<=g){var A=a[f].substring(0,g);b=a[f].substring(g+1)}else A=a[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Lr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Lr){this.h=a.h,pc(this,a.j),this.o=a.o,this.g=a.g,gc(this,a.s),this.l=a.l;var d=a.i,f=new Eo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),H_(this,f),this.m=a.m}else a&&(d=String(a).match($_))?(this.h=!1,pc(this,d[1]||"",!0),this.o=Io(d[2]||""),this.g=Io(d[3]||"",!0),gc(this,d[4]),this.l=Io(d[5]||"",!0),H_(this,d[6]||"",!0),this.m=Io(d[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}Lr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(wo(d,q_,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(wo(d,q_,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(wo(f,f.charAt(0)=="/"?HA:$A,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",wo(f,zA)),a.join("")};function vn(a){return new Lr(a)}function pc(a,d,f){a.j=f?Io(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function gc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function H_(a,d,f){d instanceof Eo?(a.i=d,GA(a.i,a.h)):(f||(d=wo(d,qA)),a.i=new Eo(d,a.h))}function Ce(a,d,f){a.i.set(d,f)}function mc(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Io(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wo(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,BA),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function BA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var q_=/[#\/\?@]/g,$A=/[#\?:]/g,HA=/[#\?]/g,qA=/[#\?@]/g,zA=/#/g;function Eo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Qn(a){a.g||(a.g=new Map,a.h=0,a.i&&jA(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Eo.prototype,n.add=function(a,d){Qn(this),this.i=null,a=Ri(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function z_(a,d){Qn(a),d=Ri(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function G_(a,d){return Qn(a),d=Ri(a,d),a.g.has(d)}n.forEach=function(a,d){Qn(this),this.g.forEach(function(f,g){f.forEach(function(b){a.call(d,b,g,this)},this)},this)},n.na=function(){Qn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=a[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(a){Qn(this);let d=[];if(typeof a=="string")G_(this,a)&&(d=d.concat(this.g.get(Ri(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return Qn(this),this.i=null,a=Ri(this,a),G_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function W_(a,d,f){z_(a,d),0<f.length&&(a.i=null,a.g.set(Ri(a,d),N(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=A;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),a.push(b)}}return this.i=a.join("&")};function Ri(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function GA(a,d){d&&!a.j&&(Qn(a),a.i=null,a.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(z_(this,g),W_(this,b,f))},a)),a.j=d}function WA(a,d){let f=new vo;if(c.Image){let g=new Image;g.onload=I(Yn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Yn,f,"TestLoadImage: error",!1,d,g),g.onabort=I(Yn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Yn,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function KA(a,d){let f=new vo,g=new AbortController,b=setTimeout(()=>{g.abort(),Yn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Yn(f,"TestPingServer: ok",!0,d):Yn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Yn(f,"TestPingServer: error",!1,d)})}function Yn(a,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function QA(){this.g=new NA}function YA(a,d,f){let g=f||"";try{B_(a,function(b,A){let P=b;l(b)&&(P=uh(b)),d.push(g+A+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Do(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Do,lh),Do.prototype.g=function(){return new yc(this.l,this.j)},Do.prototype.i=function(a){return function(){return a}}({});function yc(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(yc,et),n=yc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,bo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;K_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function K_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Co(this):bo(this),this.readyState==3&&K_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Co(this))},n.Qa=function(a){this.g&&(this.response=a,Co(this))},n.ga=function(){this.g&&Co(this)};function Co(a){a.readyState=4,a.l=null,a.j=null,a.v=null,bo(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function bo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Q_(a){let d="";return Q(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Ih(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Q_(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ce(a,d,f))}function Re(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Re,et);var ZA=/^https?$/i,JA=["POST","PUT"];n=Re.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fh.g(),this.v=this.o?C_(this.o):C_(fh),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){Y_(this,A);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(JA,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{X_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){Y_(this,A)}};function Y_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Z_(a),vc(a)}function Z_(a){a.A||(a.A=!0,ot(a,"complete"),ot(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ot(this,"complete"),ot(this,"abort"),vc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vc(this,!0)),Re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?J_(this):this.bb())},n.bb=function(){J_(this)};function J_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)I_(a.Ea,0,a);else if(ot(a,"readystatechange"),_n(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var b=String(a.D).match($_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!ZA.test(b?b.toLowerCase():"")}f=g}if(f)ot(a,"complete"),ot(a,"success");else{a.m=6;try{var A=2<_n(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",Z_(a)}}finally{vc(a)}}}}function vc(a,d){if(a.g){X_(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ot(a,"ready");try{f.onreadystatechange=g}catch{}}}function X_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),MA(d)}};function eI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function XA(a){let d={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(H(a[g]))continue;var f=C(a[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function tI(a){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=To("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=To("baseRetryDelayMs",5e3,a),this.cb=To("retryDelaySeedMs",1e4,a),this.Wa=To("forwardChannelMaxRetries",2,a),this.wa=To("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new F_(a&&a.concurrentRequestLimit),this.Da=new QA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tI.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){at(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=lI(this,null,this.W),Ic(this)};function wh(a){if(nI(a),a.G==3){var d=a.U++,f=vn(a.I);if(Ce(f,"SID",a.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),So(a,f),d=new Kn(a,a.j,d),d.L=2,d.v=mc(vn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=dI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),fc(d)}uI(a)}function _c(a){a.g&&(Dh(a),a.g.cancel(),a.g=null)}function nI(a){_c(a),a.u&&(c.clearTimeout(a.u),a.u=null),wc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ic(a){if(!V_(a.h)&&!a.s){a.s=!0;var d=a.Ga;uo||p_(),lo||(uo(),lo=!0),eh.add(d,a),a.B=0}}function eR(a,d){return L_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=yo(y(a.Ga,a,d),cI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Kn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=iI(this,b,d),f=vn(this.I),Ce(f,"RID",a),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),So(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Q_(A)))+"&"+d:this.m&&Ih(f,this.m,A)),_h(this.h,b),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),b.T=!0,gh(b,f,null)):gh(b,f,d),this.G=2}}else this.G==3&&(a?rI(this,a):this.i.length==0||V_(this.h)||rI(this))};function rI(a,d){var f;d?f=d.l:f=a.U++;let g=vn(a.I);Ce(g,"SID",a.K),Ce(g,"RID",f),Ce(g,"AID",a.T),So(a,g),a.m&&a.o&&Ih(g,a.m,a.o),f=new Kn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=iI(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),_h(a.h,f),gh(f,g,d)}function So(a,d){a.H&&Q(a.H,function(f,g){Ce(d,g,f)}),a.l&&B_({},function(f,g){Ce(d,g,f)})}function iI(a,d,f){f=Math.min(a.i.length,f);var g=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=b[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ee=!0;for(let We=0;We<f;We++){let ge=b[We].g,tt=b[We].map;if(ge-=A,0>ge)A=Math.max(0,b[We].g-100),Ee=!1;else try{YA(tt,P,"req"+ge+"_")}catch{g&&g(tt)}}if(Ee){g=P.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function sI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;uo||p_(),lo||(uo(),lo=!0),eh.add(d,a),a.v=0}}function Eh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=yo(y(a.Fa,a),cI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,oI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=yo(y(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),_c(this),oI(this))};function Dh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function oI(a){a.g=new Kn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=vn(a.qa);Ce(d,"RID","rpc"),Ce(d,"SID",a.K),Ce(d,"AID",a.T),Ce(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(d,"TO",a.ja),Ce(d,"TYPE","xmlhttp"),So(a,d),a.m&&a.o&&Ih(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=mc(vn(d)),f.m=null,f.P=!0,P_(f,a)}n.Za=function(){this.C!=null&&(this.C=null,_c(this),Eh(this),at(19))};function wc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function aI(a,d){var f=null;if(a.g==d){wc(a),Dh(a),a.g=null;var g=2}else if(vh(a.h,d))f=d.D,U_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=lc(),ot(g,new R_(g,f)),Ic(a)}else sI(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&eR(a,d)||g==2&&Eh(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:Ur(a,5);break;case 4:Ur(a,10);break;case 3:Ur(a,6);break;default:Ur(a,2)}}}function cI(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Ur(a,d){if(a.j.info("Error code "+d),d==2){var f=y(a.fb,a),g=a.Xa;let b=!g;g=new Lr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pc(g,"https"),mc(g),b?WA(g.toString(),f):KA(g.toString(),f)}else at(2);a.G=0,a.l&&a.l.sa(d),uI(a),nI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function uI(a){if(a.G=0,a.ka=[],a.l){let d=j_(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function lI(a,d,f){var g=f instanceof Lr?vn(f):new Lr(f);if(g.g!="")d&&(g.g=d+"."+g.g),gc(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Lr(null);g&&pc(A,g),d&&(A.g=d),b&&gc(A,b),f&&(A.l=f),g=A}return f=a.D,d=a.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",a.la),So(a,g),g}function dI(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Re(new Do({eb:f})):new Re(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hI(){}n=hI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ec(){}Ec.prototype.g=function(a,d){return new yt(a,d)};function yt(a,d){et.call(this),this.g=new tI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!H(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Mi(this)}S(yt,et),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){wh(this.g)},yt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=uh(a),a=f);d.i.push(new VA(d.Ya++,a)),d.G==3&&Ic(d)},yt.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,yt.aa.N.call(this)};function fI(a){dh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(fI,dh);function pI(){hh.call(this),this.status=1}S(pI,hh);function Mi(a){this.g=a}S(Mi,hI),Mi.prototype.ua=function(){ot(this.g,"a")},Mi.prototype.ta=function(a){ot(this.g,new fI(a))},Mi.prototype.sa=function(a){ot(this.g,new pI)},Mi.prototype.ra=function(){ot(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,oy=Bn.createWebChannelTransport=function(){return new Ec},sy=Bn.getStatEventTarget=function(){return lc()},iy=Bn.Event=Fr,ud=Bn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dc.NO_ERROR=0,dc.TIMEOUT=8,dc.HTTP_ERROR=6,La=Bn.ErrorCode=dc,M_.COMPLETE="complete",ry=Bn.EventType=M_,b_.EventType=go,go.OPEN="a",go.CLOSE="b",go.ERROR="c",go.MESSAGE="d",et.prototype.listen=et.prototype.K,Fs=Bn.WebChannel=b_,Fj=Bn.FetchXmlHttpFactory=Do,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,ny=Bn.XhrIo=Re}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});var m0="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var so="10.14.0";var Ii=new Er("@firebase/firestore");function Ua(){return Ii.logLevel}function L(n,...e){if(Ii.logLevel<=ce.DEBUG){let t=e.map(Gv);Ii.debug(`Firestore (${so}): ${n}`,...t)}}function $n(n,...e){if(Ii.logLevel<=ce.ERROR){let t=e.map(Gv);Ii.error(`Firestore (${so}): ${n}`,...t)}}function qs(n,...e){if(Ii.logLevel<=ce.WARN){let t=e.map(Gv);Ii.warn(`Firestore (${so}): ${n}`,...t)}}function Gv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function z(n="Unexpected state"){let e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+n;throw $n(e),new Error(e)}function Ie(n,e){n||z()}function K(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Dt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var pd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ge.UNAUTHENTICATED))}shutdown(){}},hy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},fy=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new pd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Ge(e)}},py=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new py(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},my=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ie(this.o===void 0);let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string"),this.R=t.token,new my(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Vj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var gd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Vj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function me(n,e){return n<e?-1:n>e?1:0}function zs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Je=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Je(0,0))}static max(){return new n(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var md=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(),r===void 0?r=e.length-t:r>e.length-t&&z(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Se=class n extends md{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Lj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class n extends md{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Lj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new V(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new V(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var $=class n{constructor(e){this.path=e}static fromPath(e){return new n(Se.fromString(e))}static fromName(e){return new n(Se.fromString(e).popFirst(5))}static empty(){return new n(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Se(e.slice()))}};var vy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};vy.UNKNOWN_ID=-1;function Uj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Je(t+1,0):new Je(t,r));return new wi(i,$.empty(),e)}function jj(n){return new wi(n.readTime,n.key,-1)}var wi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),$.empty(),-1)}static max(){return new n(X.max(),$.empty(),-1)}};function Bj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$.comparator(n.documentKey,e.documentKey),t!==0?t:me(n.largestBatchId,e.largestBatchId))}var $j="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_y=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function rc(n){return w(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==$j)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(h=>{o[l]=h,++c,c===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function Hj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ic(n){return n.name==="IndexedDbTransactionError"}var Y0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Hd(n){return n==null}function za(n){return n===0&&1/n==-1/0}function qj(n){return typeof n=="number"&&Number.isInteger(n)&&!za(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var zj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],G6=[...zj,"documentOverlays"],Gj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wj=Gj,Kj=[...Wj,"indexConfiguration","indexState","indexEntries"];var W6=[...Kj,"globals"];function y0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Z0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ne=class n{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,t,r,i,s){return this}insert(e,t,r){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class n{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yd(this.data.getIterator())}getIteratorFrom(e){return new yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class n{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new n([])}unionWith(e){let t=new it(Ct.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var vd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vd("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var Qj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(n){if(Ie(!!n),typeof n=="string"){let e=0,t=Qj.exec(n);if(Ie(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pr(n){return typeof n=="string"?st.fromBase64String(n):st.fromUint8Array(n)}function Wv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Kv(n){let e=n.mapValue.fields.__previous_value__;return Wv(e)?Kv(e):e}function Ga(n){let e=Hn(n.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}var Iy=class{constructor(e,t,r,i,s,o,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},_d=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ei(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wv(n)?4:X0(n)?9007199254740991:J0(n)?10:11:z()}function mn(n,e){if(n===e)return!0;let t=Ei(n);if(t!==Ei(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ga(n).isEqual(Ga(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Hn(i.timestampValue),c=Hn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Pr(i.bytesValue).isEqual(Pr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Te(i.geoPointValue.latitude)===Te(s.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Te(i.integerValue)===Te(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Te(i.doubleValue),c=Te(s.doubleValue);return o===c?za(o)===za(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return zs(n.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(y0(o)!==y0(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!mn(o[u],c[u])))return!1;return!0}(n,e);default:return z()}}function Wa(n,e){return(n.values||[]).find(t=>mn(t,e))!==void 0}function Gs(n,e){if(n===e)return 0;let t=Ei(n),r=Ei(e);if(t!==r)return me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return me(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Te(s.integerValue||s.doubleValue),u=Te(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return v0(n.timestampValue,e.timestampValue);case 4:return v0(Ga(n),Ga(e));case 5:return me(n.stringValue,e.stringValue);case 6:return function(s,o){let c=Pr(s),u=Pr(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=me(c[l],u[l]);if(h!==0)return h}return me(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=me(Te(s.latitude),Te(o.latitude));return c!==0?c:me(Te(s.longitude),Te(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _0(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,h;let p=s.fields||{},y=o.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=(u=y.value)===null||u===void 0?void 0:u.arrayValue,N=me(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:_0(I,S)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ld.mapValue&&o===ld.mapValue)return 0;if(s===ld.mapValue)return 1;if(o===ld.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=me(u[p],h[p]);if(y!==0)return y;let I=Gs(c[u[p]],l[h[p]]);if(I!==0)return I}return me(u.length,h.length)}(n.mapValue,e.mapValue);default:throw z()}}function v0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return me(n,e);let t=Hn(n),r=Hn(e),i=me(t.seconds,r.seconds);return i!==0?i:me(t.nanos,r.nanos)}function _0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Gs(t[i],r[i]);if(s)return s}return me(t.length,r.length)}function Ws(n){return wy(n)}function wy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Hn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=wy(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${wy(t.fields[o])}`;return i+"}"}(n.mapValue):z()}function I0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ey(n){return!!n&&"integerValue"in n}function Qv(n){return!!n&&"arrayValue"in n}function w0(n){return!!n&&"nullValue"in n}function E0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hd(n){return!!n&&"mapValue"in n}function J0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ba(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ba(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ba(n.arrayValue.values[t]);return e}return Object.assign({},n)}function X0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Gt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(t)}setAll(e){let t=Ct.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Ba(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oo(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ba(this.value))}};function eS(n){let e=[];return oo(n.fields,(t,r)=>{let i=new Ct([t]);if(hd(r)){let s=eS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}var Wt=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),Gt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),Gt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),Gt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ks=class{constructor(e,t){this.position=e,this.inclusive=t}};function D0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),t.key):r=Gs(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function C0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mn(n.position[t],e.position[t]))return!1;return!0}var Qs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Yj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Id=class{},Ue=class n extends Id{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Cy(e,t,r):t==="array-contains"?new Sy(e,r):t==="in"?new Ay(e,r):t==="not-in"?new Ry(e,r):t==="array-contains-any"?new My(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new by(e,r):new Ty(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Gs(t,this.value)):t!==null&&Ei(this.value)===Ei(t)&&this.matchesComparison(Gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kt=class n extends Id{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return tS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tS(n){return n.op==="and"}function nS(n){return Zj(n)&&tS(n)}function Zj(n){for(let e of n.filters)if(e instanceof Kt)return!1;return!0}function Dy(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+Ws(n.value);if(nS(n))return n.filters.map(e=>Dy(e)).join(",");{let e=n.filters.map(t=>Dy(t)).join(",");return`${n.op}(${e})`}}function rS(n,e){return n instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(n,e):n instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&rS(o,i.filters[c]),!0):!1}(n,e):void z()}function iS(n){return n instanceof Ue?function(t){return`${t.field.canonicalString()} ${t.op} ${Ws(t.value)}`}(n):n instanceof Kt?function(t){return t.op.toString()+" {"+t.getFilters().map(iS).join(" ,")+"}"}(n):"Filter"}var Cy=class extends Ue{constructor(e,t,r){super(e,t,r),this.key=$.fromName(r.referenceValue)}matches(e){let t=$.comparator(e.key,this.key);return this.matchesComparison(t)}},by=class extends Ue{constructor(e,t){super(e,"in",t),this.keys=sS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Ty=class extends Ue{constructor(e,t){super(e,"not-in",t),this.keys=sS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function sS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$.fromName(r.referenceValue))}var Sy=class extends Ue{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Qv(t)&&Wa(t.arrayValue,this.value)}},Ay=class extends Ue{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Wa(this.value.arrayValue,t)}},Ry=class extends Ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Wa(this.value.arrayValue,t)}},My=class extends Ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Qv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}};var Ny=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function b0(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Ny(n,e,t,r,i,s,o)}function Yv(n){let e=K(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ws(r)).join(",")),e.ue=t}return e.ue}function Zv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C0(n.startAt,e.startAt)&&C0(n.endAt,e.endAt)}function xy(n){return $.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Di=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Jj(n,e,t,r,i,s,o,c){return new Di(n,e,t,r,i,s,o,c)}function oS(n){return new Di(n)}function T0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function aS(n){return n.collectionGroup!==null}function $a(n){let e=K(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new it(Ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Qs(s,r))}),t.has(Ct.keyField().canonicalString())||e.ce.push(new Qs(Ct.keyField(),r))}return e.ce}function pn(n){let e=K(n);return e.le||(e.le=Xj(e,$a(n))),e.le}function Xj(n,e){if(n.limitType==="F")return b0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Qs(i.field,s)});let t=n.endAt?new Ks(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ks(n.startAt.position,n.startAt.inclusive):null;return b0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Py(n,e){let t=n.filters.concat([e]);return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Oy(n,e,t){return new Di(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qd(n,e){return Zv(pn(n),pn(e))&&n.limitType===e.limitType}function cS(n){return`${Yv(pn(n))}|lt:${n.limitType}`}function Vs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>iS(i)).join(", ")}]`),Hd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ws(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ws(i)).join(",")),`Target(${r})`}(pn(n))}; limitType=${n.limitType})`}function zd(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of $a(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=D0(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,$a(r),i)||r.endAt&&!function(o,c,u){let l=D0(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,$a(r),i))}(n,e)}function e2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uS(n){return(e,t)=>{let r=!1;for(let i of $a(n)){let s=t2(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function t2(n,e,t){let r=n.field.isKeyField()?$.comparator(e.key,t.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Gs(u,l):z()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}var Or=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Z0(this.inner)}size(){return this.innerSize}};var n2=new Ne($.comparator);function qn(){return n2}var lS=new Ne($.comparator);function ja(...n){let e=lS;for(let t of n)e=e.insert(t.key,t);return e}function dS(n){let e=lS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vi(){return Ha()}function hS(){return Ha()}function Ha(){return new Or(n=>n.toString(),(n,e)=>n.isEqual(e))}var r2=new Ne($.comparator),i2=new it($.comparator);function ue(...n){let e=i2;for(let t of n)e=e.add(t);return e}var s2=new it(me);function o2(){return s2}function Jv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:za(e)?"-0":e}}function fS(n){return{integerValue:""+n}}function a2(n,e){return qj(e)?fS(e):Jv(n,e)}var Ys=class{constructor(){this._=void 0}};function c2(n,e,t){return n instanceof Zs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wv(s)&&(s=Kv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Ci?gS(n,e):n instanceof bi?mS(n,e):function(i,s){let o=pS(i,s),c=S0(o)+S0(i.Pe);return Ey(o)&&Ey(i.Pe)?fS(c):Jv(i.serializer,c)}(n,e)}function u2(n,e,t){return n instanceof Ci?gS(n,e):n instanceof bi?mS(n,e):t}function pS(n,e){return n instanceof Js?function(r){return Ey(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Zs=class extends Ys{},Ci=class extends Ys{constructor(e){super(),this.elements=e}};function gS(n,e){let t=yS(e);for(let r of n.elements)t.some(i=>mn(i,r))||t.push(r);return{arrayValue:{values:t}}}var bi=class extends Ys{constructor(e){super(),this.elements=e}};function mS(n,e){let t=yS(e);for(let r of n.elements)t=t.filter(i=>!mn(i,r));return{arrayValue:{values:t}}}var Js=class extends Ys{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function S0(n){return Te(n.integerValue||n.doubleValue)}function yS(n){return Qv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function l2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ci&&i instanceof Ci||r instanceof bi&&i instanceof bi?zs(r.elements,i.elements,mn):r instanceof Js&&i instanceof Js?mn(r.Pe,i.Pe):r instanceof Zs&&i instanceof Zs}(n.transform,e.transform)}var ky=class{constructor(e,t){this.version=e,this.transformResults=t}},Nr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xs=class{};function vS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wd(n.key,Nr.none()):new Ti(n.key,n.data,Nr.none());{let t=n.data,r=Gt.empty(),i=new it(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zn(n.key,r,new dn(i.toArray()),Nr.none())}}function d2(n,e,t){n instanceof Ti?function(i,s,o){let c=i.value.clone(),u=R0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof zn?function(i,s,o){if(!fd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=R0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(_S(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function qa(n,e,t,r){return n instanceof Ti?function(s,o,c,u){if(!fd(s.precondition,o))return c;let l=s.value.clone(),h=M0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof zn?function(s,o,c,u){if(!fd(s.precondition,o))return c;let l=M0(s.fieldTransforms,u,o),h=o.data;return h.setAll(_S(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,c){return fd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function h2(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=pS(r.transform,i||null);s!=null&&(t===null&&(t=Gt.empty()),t.set(r.field,s))}return t||null}function A0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zs(r,i,(s,o)=>l2(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ti=class extends Xs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zn=class extends Xs{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function _S(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function R0(n,e,t){let r=new Map;Ie(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,u2(o,c,t[i]))}return r}function M0(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,c2(s,o,e))}return r}var wd=class extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fy=class extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&d2(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=qa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=qa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=hS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let u=vS(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(t,r)=>A0(t,r))&&zs(this.baseMutations,e.baseMutations,(t,r)=>A0(t,r))}},Ly=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length);let i=function(){return r2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Uy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ve,fe;function f2(n){switch(n){default:return z();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function IS(n){if(n===void 0)return $n("GRPC error has no .code"),R.UNKNOWN;switch(n){case Ve.OK:return R.OK;case Ve.CANCELLED:return R.CANCELLED;case Ve.UNKNOWN:return R.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return R.INTERNAL;case Ve.UNAVAILABLE:return R.UNAVAILABLE;case Ve.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ve.NOT_FOUND:return R.NOT_FOUND;case Ve.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ve.ABORTED:return R.ABORTED;case Ve.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ve.DATA_LOSS:return R.DATA_LOSS;default:return z()}}(fe=Ve||(Ve={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var N0=null;function p2(){return new TextEncoder}var g2=new Mr([4294967295,4294967295],0);function x0(n){let e=p2().encode(n),t=new ty;return t.update(e),new Uint8Array(t.digest())}function P0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([t,r],0),new Mr([i,s],0)]}var By=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _i(`Invalid padding: ${t}`);if(r<0)throw new _i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _i(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _i(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Mr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Mr.fromNumber(r)));return i.compare(g2)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=x0(e),[r,i]=P0(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=x0(e),[r,i]=P0(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_i=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ed=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Ne(me),qn(),ue())}},Ka=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var $s=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Dd=class{constructor(e,t){this.targetId=e,this.me=t}},Cd=class{constructor(e,t,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},bd=class{constructor(){this.fe=0,this.ge=k0(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),t=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:z()}}),new Ka(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=k0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},$y=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=qn(),this.qe=O0(),this.Qe=new Ne(me)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(xy(s))if(r===0){let o=new $(s.path);this.Ue(t,o,Wt.newNoDocument(o,X.min()))}else Ie(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}N0?.et(function(h,p,y,I,S){var N,M,F,H,q,re;let Ae={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Q=p.unchangedNames;return Q&&(Ae.bloomFilter={applied:S===0,hashCount:(N=Q?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(F=(M=Q?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(re=(q=Q?.bits)===null||q===void 0?void 0:q.padding)!==null&&re!==void 0?re:0,mightContain:D=>{var m;return(m=I?.mightContain(D))!==null&&m!==void 0&&m}}),Ae}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=Pr(r).toUint8Array()}catch(u){if(u instanceof vd)return qs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new By(o,i,s)}catch(u){return qs(u instanceof _i?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&xy(c.target)){let u=new $(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Wt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Ed(e,t,this.Qe,this.ke,r);return this.ke=qn(),this.qe=O0(),this.Qe=new Ne(me),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new bd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new it(me),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function O0(){return new Ne($.comparator)}function k0(){return new Ne($.comparator)}var m2={asc:"ASCENDING",desc:"DESCENDING"},y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v2={and:"AND",or:"OR"},Hy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function qy(n,e){return n.useProto3Json||Hd(e)?e:{value:e}}function Td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _2(n,e){return Td(n,e.toTimestamp())}function gn(n){return Ie(!!n),X.fromTimestamp(function(t){let r=Hn(t);return new Je(r.seconds,r.nanos)}(n))}function Xv(n,e){return zy(n,e).canonicalString()}function zy(n,e){let t=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ES(n){let e=Se.fromString(n);return Ie(SS(e)),e}function Gy(n,e){return Xv(n.databaseId,e.path)}function ay(n,e){let t=ES(e);if(t.get(1)!==n.databaseId.projectId)throw new V(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $(CS(t))}function DS(n,e){return Xv(n.databaseId,e)}function I2(n){let e=ES(n);return e.length===4?Se.emptyPath():CS(e)}function Wy(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CS(n){return Ie(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function F0(n,e,t){return{name:Gy(n,e),fields:t.value.mapValue.fields}}function w2(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string"),st.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array),st.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let h=l.code===void 0?R.UNKNOWN:IS(l.code);return new V(h,l.message||"")}(o);t=new Cd(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ay(n,r.document.name),s=gn(r.document.updateTime),o=r.document.createTime?gn(r.document.createTime):X.min(),c=new Gt({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,s,o,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new $s(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ay(n,r.document),s=r.readTime?gn(r.readTime):X.min(),o=Wt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new $s([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ay(n,r.document),s=r.removedTargetIds||[];t=new $s([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new jy(i,s),c=r.targetId;t=new Dd(c,o)}}return t}function E2(n,e){let t;if(e instanceof Ti)t={update:F0(n,e.key,e.value)};else if(e instanceof wd)t={delete:Gy(n,e.key)};else if(e instanceof zn)t={update:F0(n,e.key,e.data),updateMask:N2(e.fieldMask)};else{if(!(e instanceof Fy))return z();t={verify:Gy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Zs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ci)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Js)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw z()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:z()}(n,e.precondition)),t}function D2(n,e){return n&&n.length>0?(Ie(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?gn(i.updateTime):gn(s);return o.isEqual(X.min())&&(o=gn(s)),new ky(o,i.transformResults||[])}(t,e))):[]}function C2(n,e){return{documents:[DS(n,e.path)]}}function b2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DS(n,i);let s=function(l){if(l.length!==0)return TS(Kt.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:Ls(y.field),direction:A2(y.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=qy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function T2(n){let e=I2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ie(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){let y=bS(p);return y instanceof Kt&&nS(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(y=>function(S){return new Qs(Us(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Hd(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,I=p.values||[];return new Ks(I,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,I=p.values||[];return new Ks(I,y)}(t.endAt)),Jj(e,i,o,s,c,"F",u,l)}function S2(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Us(t.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Us(t.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Us(t.unaryFilter.field);return Ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Us(t.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(n):n.fieldFilter!==void 0?function(t){return Ue.create(Us(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kt.create(t.compositeFilter.filters.map(r=>bS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(t.compositeFilter.op))}(n):z()}function A2(n){return m2[n]}function R2(n){return y2[n]}function M2(n){return v2[n]}function Ls(n){return{fieldPath:n.canonicalString()}}function Us(n){return Ct.fromServerFormat(n.fieldPath)}function TS(n){return n instanceof Ue?function(t){if(t.op==="=="){if(E0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NAN"}};if(w0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(E0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NAN"}};if(w0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(t.field),op:R2(t.op),value:t.value}}}(n):n instanceof Kt?function(t){let r=t.getFilters().map(i=>TS(i));return r.length===1?r[0]:{compositeFilter:{op:M2(t.op),filters:r}}}(n):z()}function N2(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Qa=class n{constructor(e,t,r,i,s=X.min(),o=X.min(),c=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ky=class{constructor(e){this.ct=e}};function x2(n){let e=T2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Oy(e,e.limit,"L"):e}var Sd=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),za(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Hn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Pr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?X0(e)?this.dt(t,Number.MAX_SAFE_INTEGER):J0(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):z()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Te(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),$.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Sd.vt=new Sd;var Qy=class{constructor(){this.un=new Yy}addToCollectionParentIndex(e,t){return this.un.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(wi.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Yy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(Se.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Se.comparator)).toArray()}};var Q6=new Uint8Array(0);var ln=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Ya=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Zy=class{constructor(){this.changes=new Or(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Xy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qa(r.mutation,i,dn.empty(),Je.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ja();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=qn(),o=Ha(),c=function(){return Ha()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof zn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),qa(h.mutation,l,h.mutation.getFieldMask(),Je.now())):o.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new Jy(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Ha(),i=new Ne((o,c)=>o-c),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||dn.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ue()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=hS();h.forEach(y=>{if(!s.has(y)){let I=vS(t.get(y),r.get(y));I!==null&&p.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):x.resolve(vi()),c=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:c,changes:dS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $(t)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=ja();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let l=function(p,y){return new Di(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Wt.newInvalidDocument(h)))});let c=ja();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&qa(h.mutation,l,dn.empty(),Je.now()),zd(t,l)&&(c=c.insert(u,l))}),c})}};var ev=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return x.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:gn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:x2(i.bundledQuery),readTime:gn(i.readTime)}}(t)),x.resolve()}};var tv=class{constructor(){this.overlays=new Ne($.comparator),this.Ir=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vi();return x.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=vi(),s=t.length+1,o=new $(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ne((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=vi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=vi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return x.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Uy(t,r));let s=this.Ir.get(t);s===void 0&&(s=ue(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var nv=class{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Za=class{constructor(){this.Tr=new it(Le.Er),this.dr=new it(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Le(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Le(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new $(new Se([])),r=new Le(t,e),i=new Le(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new $(new Se([])),r=new Le(t,e),i=new Le(t,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Le(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return $.comparator(e.key,t.key)||me(e.wr,t.wr)}static Ar(e,t){return me(e.wr,t.wr)||$.comparator(e.key,t.key)}};var rv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new it(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Vy(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Le(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,t){return x.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(me);return t.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new Le(new $(s),0),c=new it(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(t.mutations,i=>{let s=new Le(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Le(t,0),i=this.br.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var iv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ne($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=qn();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=qn(),o=t.path,c=new $(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Bj(jj(h),r)<=0||(i.has(h.key)||zd(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,t,r,i){z()}Or(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sv(this)}getSize(e){return x.resolve(this.size)}},sv=class extends Zy{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var ov=class{constructor(e){this.persistence=e,this.Nr=new Or(t=>Yv(t),Zv),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Za,this.targetCount=0,this.kr=Ya.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),x.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ya(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Kn(t),x.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Br.containsKey(t))}};var av=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Y0(0),this.Kr=!1,this.Kr=!0,this.$r=new nv,this.referenceDelegate=e(this),this.Ur=new ov(this),this.indexManager=new Qy,this.remoteDocumentCache=function(i){return new iv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ky(t),this.Gr=new ev(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new rv(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new cv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},cv=class extends _y{constructor(e){super(),this.currentSequenceNumber=e}},uv=class n{constructor(e){this.persistence=e,this.Jr=new Za,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw z()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),x.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,X.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return x.or([()=>x.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var lv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ue(),i=ue();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var dv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var hv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Jb()?8:Hj(ze())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new dv;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ua()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ua()<=ce.DEBUG&&L("QueryEngine","Query:",Vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ua()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(t))):x.resolve())}Yi(e,t){if(T0(t))return x.resolve(null);let r=pn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Oy(t,null,"F"),r=pn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,c);return this.ns(t,l,o,u.readTime)?this.Yi(e,Oy(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return T0(t)||i.isEqual(X.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?x.resolve(null):(Ua()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(t)),this.rs(e,o,t,Uj(i,-1)).next(c=>c))})}ts(e,t){let r=new it(uS(e));return t.forEach((i,s)=>{zd(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Ua()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Vs(t)),this.Ji.getDocumentsMatchingQuery(e,t,wi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var fv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ne(me),this._s=new Or(s=>Yv(s),Zv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function P2(n,e,t,r){return new fv(n,e,t,r)}function AS(n,e){return w(this,null,function*(){let t=K(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ue();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function O2(n,e){let t=K(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,y=p.keys(),I=x.resolve();return y.forEach(S=>{I=I.next(()=>h.getEntry(u,S)).next(N=>{let M=l.docVersions.get(S);Ie(M!==null),N.version.compareTo(M)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ue();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function RS(n){let e=K(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function k2(n,e){let t=K(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;c.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,h.addedDocuments,p)));let I=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(st.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(N,M,F){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(y,I,h)&&c.push(t.Ur.updateTargetData(s,I))});let u=qn(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),c.push(F2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(X.min())){let h=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(h)}return x.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.os=i,s))}function F2(n,e,t){let r=ue(),i=ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=qn();return t.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function V2(n,e){let t=K(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L2(n,e){let t=K(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Qa(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function pv(n,e,t){return w(this,null,function*(){let r=K(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ic(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function V0(n,e,t){let r=K(n),i=X.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=K(u),y=p._s.get(h);return y!==void 0?x.resolve(p.os.get(y)):p.Ur.getTargetData(l,h)}(r,o,pn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:X.min(),t?s:ue())).next(c=>(U2(r,e2(e),c),{documents:c,Ts:s})))}function U2(n,e,t){let r=n.us.get(e)||X.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Ad=class{constructor(){this.activeTargetIds=o2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gv=class{constructor(){this.so=new Ad,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ad,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mv=class{_o(e){}shutdown(){}};var Rd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var dd=null;function cy(){return dd===null?dd=function(){return 268435456+Math.round(2147483648*Math.random())}():dd++,"0x"+dd.toString(16)}var j2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var yv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var rt="WebChannelConnection",vv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=cy(),u=this.xo(t,r.toUriEncodedString());L("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,u,l,i).then(h=>(L("RestConnection",`Received RPC '${t}' ${c}: `,h),h),h=>{throw qs("RestConnection",`RPC '${t}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=j2[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=cy();return new Promise((o,c)=>{let u=new ny;u.setWithCredentials(!0),u.listenOnce(ry.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case La.NO_ERROR:let h=u.getResponseJson();L(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case La.TIMEOUT:L(rt,`RPC '${e}' ${s} timed out`),c(new V(R.DEADLINE_EXCEEDED,"Request time out"));break;case La.HTTP_ERROR:let p=u.getStatus();if(L(rt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(I.status);c(new V(S,I.message))}else c(new V(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new V(R.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{L(rt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(rt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=cy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oy(),c=sy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=s.join("");L(rt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),y=!1,I=!1,S=new yv({Io:M=>{I?L(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(L(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),L(rt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),N=(M,F,H)=>{M.listen(F,q=>{try{H(q)}catch(re){setTimeout(()=>{throw re},0)}})};return N(p,Fs.EventType.OPEN,()=>{I||(L(rt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,Fs.EventType.CLOSE,()=>{I||(I=!0,L(rt,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,Fs.EventType.ERROR,M=>{I||(I=!0,qs(rt,`RPC '${e}' stream ${i} transport errored:`,M),S.So(new V(R.UNAVAILABLE,"The operation could not be completed")))}),N(p,Fs.EventType.MESSAGE,M=>{var F;if(!I){let H=M.data[0];Ie(!!H);let q=H,re=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(re){L(rt,`RPC '${e}' stream ${i} received error:`,re);let Ae=re.status,Q=function(v){let E=Ve[v];if(E!==void 0)return IS(E)}(Ae),D=re.message;Q===void 0&&(Q=R.INTERNAL,D="Unknown error status: "+Ae+" with message "+re.message),I=!0,S.So(new V(Q,D)),p.close()}else L(rt,`RPC '${e}' stream ${i} received:`,H),S.bo(H)}}),N(c,iy.STAT_EVENT,M=>{M.stat===ud.PROXY?L(rt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===ud.NOPROXY&&L(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function uy(){return typeof document<"u"?document:null}function Gd(n){return new Hy(n,!0)}var Md=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Nd=class{constructor(e,t,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Md(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new V(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},_v=class extends Nd{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=w2(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?gn(o.readTime):X.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Wy(this.serializer),t.addTarget=function(s,o){let c,u=o.target;if(c=xy(u)?{documents:C2(s,u)}:{query:b2(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=wS(s,o.resumeToken);let l=qy(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(X.min())>0){c.readTime=Td(s,o.snapshotVersion.toTimestamp());let l=qy(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=S2(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Wy(this.serializer),t.removeTarget=e,this.a_(t)}},Iv=class extends Nd{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=D2(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Wy(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>E2(this.serializer,r))};this.a_(t)}};var wv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,zy(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(R.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,zy(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ev=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($n(t),this.D_=!1):L("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Dv=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Si(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=K(u);l.L_.add(4),yield sc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Wd(l)})}(this))}))}),this.q_=new Ev(r,i)}};function Wd(n){return w(this,null,function*(){if(Si(n))for(let e of n.B_)yield e(!0)})}function sc(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function MS(n,e){let t=K(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),r_(t)?n_(t):ao(t).r_()&&t_(t,e))}function e_(n,e){let t=K(n),r=ao(t);t.N_.delete(e),r.r_()&&NS(t,e),t.N_.size===0&&(r.r_()?r.o_():Si(t)&&t.q_.set("Unknown"))}function t_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ao(n).A_(e)}function NS(n,e){n.Q_.xe(e),ao(n).R_(e)}function n_(n){n.Q_=new $y({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ao(n).start(),n.q_.v_()}function r_(n){return Si(n)&&!ao(n).n_()&&n.N_.size>0}function Si(n){return K(n).L_.size===0}function xS(n){n.Q_=void 0}function B2(n){return w(this,null,function*(){n.q_.set("Online")})}function $2(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{t_(n,e)})})}function H2(n,e){return w(this,null,function*(){xS(n),r_(n)?(n.q_.M_(e),n_(n)):n.q_.set("Unknown")})}function q2(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof Cd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xd(n,r)}else if(e instanceof $s?n.Q_.Ke(e):e instanceof Dd?n.Q_.He(e):n.Q_.We(e),!t.isEqual(X.min()))try{let r=yield RS(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(st.EMPTY_BYTE_STRING,h.snapshotVersion)),NS(s,u);let p=new Qa(h.target,u,l,h.sequenceNumber);t_(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield xd(n,r)}})}function xd(n,e,t){return w(this,null,function*(){if(!ic(e))throw e;n.L_.add(1),yield sc(n),n.q_.set("Offline"),t||(t=()=>RS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Wd(n)}))})}function PS(n,e){return e().catch(t=>xd(n,t,e))}function Kd(n){return w(this,null,function*(){let e=K(n),t=kr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;z2(e);)try{let i=yield V2(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,G2(e,i)}catch(i){yield xd(e,i)}OS(e)&&kS(e)})}function z2(n){return Si(n)&&n.O_.length<10}function G2(n,e){n.O_.push(e);let t=kr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function OS(n){return Si(n)&&!kr(n).n_()&&n.O_.length>0}function kS(n){kr(n).start()}function W2(n){return w(this,null,function*(){kr(n).p_()})}function K2(n){return w(this,null,function*(){let e=kr(n);for(let t of n.O_)e.m_(t.mutations)})}function Q2(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=Ly.from(r,e,t);yield PS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Kd(n)})}function Y2(n,e){return w(this,null,function*(){e&&kr(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return f2(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();kr(r).s_(),yield PS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Kd(r)}})}(n,e)),OS(n)&&kS(n)})}function L0(n,e){return w(this,null,function*(){let t=K(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Si(t);t.L_.add(3),yield sc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Wd(t)})}function Z2(n,e){return w(this,null,function*(){let t=K(n);e?(t.L_.delete(2),yield Wd(t)):e||(t.L_.add(2),yield sc(t),t.q_.set("Unknown"))})}function ao(n){return n.K_||(n.K_=function(t,r,i){let s=K(t);return s.w_(),new _v(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:B2.bind(null,n),Ro:$2.bind(null,n),mo:H2.bind(null,n),d_:q2.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),r_(n)?n_(n):n.q_.set("Unknown")):(yield n.K_.stop(),xS(n))}))),n.K_}function kr(n){return n.U_||(n.U_=function(t,r,i){let s=K(t);return s.w_(),new Iv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:W2.bind(null,n),mo:Y2.bind(null,n),f_:K2.bind(null,n),g_:Q2.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield Kd(n)):(yield n.U_.stop(),n.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Cv=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function i_(n,e){if($n("AsyncQueue",`${e}: ${n}`),ic(n))return new V(R.UNAVAILABLE,`${e}: ${n}`);throw n}var Pd=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$.comparator(t.key,r.key):(t,r)=>$.comparator(t.key,r.key),this.keyedMap=ja(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Od=class{constructor(){this.W_=new Ne($.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):z():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},eo=class n{constructor(e,t,r,i,s,o,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,Pd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var bv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Tv=class{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=K(t),s=i.queries;i.queries=U0(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new V(R.ABORTED,"Firestore shutting down"))}};function U0(){return new Or(n=>cS(n),qd)}function J2(n,e){return w(this,null,function*(){let t=K(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new bv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=i_(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&s_(t)})}function X2(n,e){return w(this,null,function*(){let t=K(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function eB(n,e){let t=K(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&s_(t)}function tB(n,e,t){let r=K(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function s_(n){n.Y_.forEach(e=>{e.next()})}var Sv,j0;(j0=Sv||(Sv={})).ea="default",j0.Cache="cache";var Av=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sv.Cache}};var kd=class{constructor(e){this.key=e}},Fd=class{constructor(e){this.key=e}},Rv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=uS(e),this.Ra=new Pd(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Od,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),I=zd(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),M=!1;y&&I?y.data.isEqual(I.data)?S!==N&&(r.track({type:3,doc:I}),M=!0):this.ga(y,I)||(r.track({type:2,doc:I}),M=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),M=!0):y&&!I&&(r.track({type:1,doc:y}),M=!0,(u||l)&&(c=!0)),M&&(I?(o=o.add(I),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(I,S){let N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return N(I)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new eo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Od,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Fd(r))}),this.da.forEach(r=>{e.has(r)||t.push(new kd(r))}),t}ba(e){this.Ta=e.Ts,this.da=ue();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Mv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Nv=class{constructor(e){this.key=e,this.va=!1}},xv=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Or(c=>cS(c),qd),this.Ma=new Map,this.xa=new Set,this.Oa=new Ne($.comparator),this.Na=new Map,this.La=new Za,this.Ba={},this.ka=new Map,this.qa=Ya.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function nB(n,e,t=!0){return w(this,null,function*(){let r=BS(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield FS(r,e,t,!0),i})}function rB(n,e){return w(this,null,function*(){let t=BS(n);yield FS(t,e,!0,!1)})}function FS(n,e,t,r){return w(this,null,function*(){let i=yield L2(n.localStore,pn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield iB(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&MS(n.remoteStore,i),c})}function iB(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,y,I)=>function(N,M,F,H){return w(this,null,function*(){let q=M.view.ma(F);q.ns&&(q=yield V0(N.localStore,M.query,!1).then(({documents:D})=>M.view.ma(D,q)));let re=H&&H.targetChanges.get(M.targetId),Ae=H&&H.targetMismatches.get(M.targetId)!=null,Q=M.view.applyChanges(q,N.isPrimaryClient,re,Ae);return $0(N,M.targetId,Q.wa),Q.snapshot})}(n,p,y,I);let s=yield V0(n.localStore,e,!0),o=new Rv(e,s.Ts),c=o.ma(s.documents),u=Ka.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);$0(n,t,l.wa);let h=new Mv(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function sB(n,e,t){return w(this,null,function*(){let r=K(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!qd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&e_(r.remoteStore,i.targetId),Pv(r,i.targetId)}).catch(rc))):(Pv(r,i.targetId),yield pv(r.localStore,i.targetId,!0))})}function oB(n,e){return w(this,null,function*(){let t=K(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),e_(t.remoteStore,r.targetId))})}function aB(n,e,t){return w(this,null,function*(){let r=pB(n);try{let i=yield function(o,c){let u=K(o),l=Je.now(),h=c.reduce((I,S)=>I.add(S.key),ue()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=qn(),N=ue();return u.cs.getEntries(I,h).next(M=>{S=M,S.forEach((F,H)=>{H.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(M=>{p=M;let F=[];for(let H of c){let q=h2(H,p.get(H.key).overlayedDocument);q!=null&&F.push(new zn(H.key,q,eS(q.value.mapValue),Nr.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,c)}).next(M=>{y=M;let F=M.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(I,M.batchId,F)})}).then(()=>({batchId:y.batchId,changes:dS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ne(me)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,t),yield oc(r,i.changes),yield Kd(r.remoteStore)}catch(i){let s=i_(i,"Failed to persist write");t.reject(s)}})}function VS(n,e){return w(this,null,function*(){let t=K(n);try{let r=yield k2(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ie(o.va):i.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),yield oc(t,r,e)}catch(r){yield rc(r)}})}function B0(n,e,t){let r=K(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=K(o);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&s_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cB(n,e,t){return w(this,null,function*(){let r=K(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ne($.comparator);o=o.insert(s,Wt.newNoDocument(s,X.min()));let c=ue().add(s),u=new Ed(X.min(),new Map,new Ne(me),o,c);yield VS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),o_(r)}else yield pv(r.localStore,e,!1).then(()=>Pv(r,e,t)).catch(rc)})}function uB(n,e){return w(this,null,function*(){let t=K(n),r=e.batch.batchId;try{let i=yield O2(t.localStore,e);US(t,r,null),LS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield oc(t,i)}catch(i){yield rc(i)}})}function lB(n,e,t){return w(this,null,function*(){let r=K(n);try{let i=yield function(o,c){let u=K(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Ie(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);US(r,e,t),LS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield oc(r,i)}catch(i){yield rc(i)}})}function LS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function US(n,e,t){let r=K(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Pv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||jS(n,r)})}function jS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(e_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),o_(n))}function $0(n,e,t){for(let r of t)r instanceof kd?(n.La.addReference(r.key,e),dB(n,r)):r instanceof Fd?(L("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||jS(n,r.key)):z()}function dB(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(L("SyncEngine","New document in limbo: "+t),n.xa.add(r),o_(n))}function o_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new $(Se.fromString(e)),r=n.qa.next();n.Na.set(r,new Nv(t)),n.Oa=n.Oa.insert(t,r),MS(n.remoteStore,new Qa(pn(oS(t.path)),r,"TargetPurposeLimboResolution",Y0.oe))}}function oc(n,e,t){return w(this,null,function*(){let r=K(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=lv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=K(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.$i,I=>h.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>x.forEach(y.Ui,I=>h.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!ic(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let I=h.os.get(y),S=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(y,N)}}})}(r.localStore,s))})}function hB(n,e){return w(this,null,function*(){let t=K(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield AS(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new V(R.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oc(t,r.hs)}})}function fB(n,e){let t=K(n),r=t.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function BS(n){let e=K(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cB.bind(null,e),e.Ca.d_=eB.bind(null,e.eventManager),e.Ca.$a=tB.bind(null,e.eventManager),e}function pB(n){let e=K(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lB.bind(null,e),e}var H0=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Gd(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return P2(this.persistence,new hv,t.initialUser,this.serializer)}Ga(t){return new av(uv.Zr,this.serializer)}Wa(t){return new gv}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var gB=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>B0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hB.bind(null,this.syncEngine),yield Z2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Tv}()}createDatastore(t){let r=Gd(t.databaseInfo.databaseId),i=function(o){return new vv(o)}(t.databaseInfo);return function(o,c,u,l){return new wv(o,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,u){return new Dv(i,s,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>B0(this.syncEngine,r,0),function(){return Rd.D()?new Rd:new mv}())}createSyncEngine(t,r){return function(s,o,c,u,l,h,p){let y=new xv(s,o,c,u,l,h);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(s){return w(this,null,function*(){let o=K(s);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield sc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ov=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var kv=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=gd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=i_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ly(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield AS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function q0(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield mB(n);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>L0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>L0(e.remoteStore,i)),n._onlineComponents=e})}function mB(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ly(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;qs("Error using user provided cache. Falling back to memory cache: "+t),yield ly(n,new H0)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield ly(n,new H0);return n._offlineComponents})}function $S(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield q0(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield q0(n,new gB))),n._onlineComponents})}function yB(n){return $S(n).then(e=>e.syncEngine)}function vB(n){return w(this,null,function*(){let e=yield $S(n),t=e.eventManager;return t.onListen=nB.bind(null,e.syncEngine),t.onUnlisten=sB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oB.bind(null,e.syncEngine),t})}function _B(n,e,t={}){let r=new hn;return n.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,c,u,l){let h=new Ov({next:y=>{h.Za(),o.enqueueAndForget(()=>X2(s,p)),y.fromCache&&u.source==="server"?l.reject(new V(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Av(c,h,{includeMetadataChanges:!0,_a:!0});return J2(s,p)}(yield vB(n),n.asyncQueue,e,t,r)})),r.promise}function HS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var z0=new Map;function qS(n,e,t){if(!t)throw new V(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IB(n,e,t,r){if(e===!0&&r===!0)throw new V(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function G0(n){if(!$.isDocumentKey(n))throw new V(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W0(n){if($.isDocumentKey(n))throw new V(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":z()}function to(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Qd(n);throw new V(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Vd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},no=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dy;switch(r.type){case"firstParty":return new gy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=z0.get(t);r&&(L("ComponentProvider","Removing Datastore"),z0.delete(t),r.terminate())}(this),Promise.resolve()}};function zS(n,e,t,r={}){var i;let s=(n=to(n,no))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ge.MOCK_USER;else{c=Gb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(l)}n._authCredentials=new hy(new pd(c,u))}}var ro=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},bt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},xr=class n extends ro{constructor(e,t,r){super(e,t,oS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new $(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function GS(n,e,...t){if(n=gt(n),qS("collection","path",e),n instanceof no){let r=Se.fromString(e,...t);return W0(r),new xr(n,null,r)}{if(!(n instanceof bt||n instanceof xr))throw new V(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Se.fromString(e,...t));return W0(r),new xr(n.firestore,null,r)}}function a_(n,e,...t){if(n=gt(n),arguments.length===1&&(e=gd.newId()),qS("doc","path",e),n instanceof no){let r=Se.fromString(e,...t);return G0(r),new bt(n,null,new $(r))}{if(!(n instanceof bt||n instanceof xr))throw new V(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Se.fromString(e,...t));return G0(r),new bt(n.firestore,n instanceof xr?n.converter:null,new $(r))}}var Ld=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Md(this,"async_queue_retry"),this.Vu=()=>{let r=uy();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=uy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=uy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new hn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ic(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw $n("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Cv.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&z()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var io=class extends no{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ld,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ld(e),this._firestoreClient=void 0,yield e}})}};function WS(n,e){let t=typeof n=="object"?n:Rs(),r=typeof n=="string"?n:e||"(default)",i=Ra(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=zb("firestore");s&&zS(i,...s)}return i}function KS(n){if(n._terminated)throw new V(R.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wB(n),n._firestoreClient}function wB(n){var e,t,r;let i=n._freezeSettings(),s=function(c,u,l,h){return new Iy(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new kv(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var Ja=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(st.fromBase64String(e))}catch(t){throw new V(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ud=class{constructor(e){this._methodName=e}};var ec=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var tc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var EB=/^__.*__$/,Fv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ti(e,this.data,t,this.fieldTransforms)}};function QS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Vv=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QS(this.Cu)&&EB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Lv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gd(e)}Qu(e,t,r,i=!1){return new Vv({Cu:e,methodName:t,qu:r,path:Ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function c_(n){let e=n._freezeSettings(),t=Gd(n._databaseId);return new Lv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YS(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);XS("Data must be an object, but it was:",o,r);let c=ZS(r,o),u,l;if(s.merge)u=new dn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let y=CB(e,p,t);if(!o.contains(y))throw new V(R.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);TB(h,y)||h.push(y)}u=new dn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Fv(new Gt(c),u,l)}function DB(n,e,t,r=!1){return u_(t,n.Qu(r?4:3,e))}function u_(n,e){if(JS(n=gt(n)))return XS("Unsupported field value:",e,n),ZS(n,e);if(n instanceof Ud)return function(r,i){if(!QS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=u_(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Je.fromDate(r);return{timestampValue:Td(i.serializer,s)}}if(r instanceof Je){let s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(i.serializer,s)}}if(r instanceof ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:wS(i.serializer,r._byteString)};if(r instanceof bt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tc)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Jv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qd(r)}`)}(n,e)}function ZS(n,e){let t={};return Z0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,(r,i)=>{let s=u_(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function JS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof ec||n instanceof Ja||n instanceof bt||n instanceof Ud||n instanceof tc)}function XS(n,e,t){if(!JS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Qd(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function CB(n,e,t){if((e=gt(e))instanceof Xa)return e._internalPath;if(typeof e=="string")return eA(n,e);throw jd("Field path arguments must be of type string or ",n,!1,void 0,t)}var bB=new RegExp("[~\\*/\\[\\]]");function eA(n,e,t){if(e.search(bB)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xa(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jd(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(R.INVALID_ARGUMENT,c+n+u)}function TB(n,e){return n.some(t=>t.isEqual(e))}var Bd=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(l_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Uv=class extends Bd{data(){return super.data()}};function l_(n,e){return typeof e=="string"?eA(n,e):e instanceof Xa?e._internalPath:e._delegate._internalPath}function SB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nc=class{},jv=class extends nc{};function tA(n,e,...t){let r=[];e instanceof nc&&r.push(e),r=r.concat(t),function(s){let o=s.filter(u=>u instanceof Bv).length,c=s.filter(u=>u instanceof $d).length;if(o>1||o>0&&c>0)throw new V(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var $d=class n extends jv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return rA(e._query,t),new ro(e.firestore,e.converter,Py(e._query,t))}_parse(e){let t=c_(e.firestore);return function(s,o,c,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Q0(p,h);let I=[];for(let S of p)I.push(K0(u,s,S));y={arrayValue:{values:I}}}else y=K0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Q0(p,h),y=DB(c,o,p,h==="in"||h==="not-in");return Ue.create(l,h,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function nA(n,e,t){let r=e,i=l_("where",n);return $d._create(i,r,t)}var Bv=class n extends nc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Kt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let u of c)rA(o,u),o=Py(o,u)}(e._query,t),new ro(e.firestore,e.converter,Py(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function K0(n,e,t){if(typeof(t=gt(t))=="string"){if(t==="")throw new V(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aS(e)&&t.indexOf("/")!==-1)throw new V(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Se.fromString(t));if(!$.isDocumentKey(r))throw new V(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return I0(n,new $(r))}if(t instanceof bt)return I0(n,t._key);throw new V(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(t)}.`)}function Q0(n,e){if(!Array.isArray(n)||n.length===0)throw new V(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rA(n,e){let t=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new V(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var $v=class{convertValue(e,t="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw z()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return oo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Te(o.doubleValue));return new tc(s)}convertGeoPoint(e){return new ec(Te(e.latitude),Te(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Kv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){let t=Hn(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Se.fromString(e);Ie(SS(r));let i=new _d(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(t)||$n(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function iA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Bs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hv=class extends Bd{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(l_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Hs=class extends Hv{data(e={}){return super.data(e)}},qv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hs(this._firestore,this._userDataWriter,r.key,r,new Bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new Hs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bs(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Hs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bs(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:AB(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function AB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}var zv=class extends $v{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}};function sA(n){n=to(n,ro);let e=to(n.firestore,io),t=KS(e),r=new zv(e);return SB(n._query),_B(t,n._query).then(i=>new qv(e,r,n,i))}function oA(n,e,t){n=to(n,bt);let r=to(n.firestore,io),i=iA(n.converter,e,t);return cA(r,[YS(c_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Nr.none())])}function aA(n,e){let t=to(n.firestore,io),r=a_(n),i=iA(n.converter,e);return cA(t,[YS(c_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function cA(n,e){return function(r,i){let s=new hn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return aB(yield yB(r),i,s)})),s.promise}(KS(n),e)}(function(e,t=!0){(function(i){so=i})(br),Cr(new Ft("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new io(new fy(r.getProvider("auth-internal")),new yy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),He(m0,"4.7.3",e),He(m0,"4.7.3","esm2017")})();var Gn=class{constructor(e){return e}},uA="firestore",d_=class{constructor(){return Ma(uA)}};var h_=new j("angularfire2.firestore-instances");function RB(n,e){let t=$l(uA,n,e);return t&&new Gn(t)}function MB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Gn(r)}}var NB={provide:d_,deps:[[new dt,h_]]},xB={provide:Gn,useFactory:RB,deps:[[new dt,h_],Ln]};function lA(n,...e){return He("angularfire",di.full,"fst"),rn([xB,NB,{provide:h_,useFactory:MB(n),multi:!0,deps:[we,ft,xs,hi,[new dt,Va],[new dt,Ns],...e]}])}var dA=mt(aA,!0);var hA=mt(GS,!0);var fA=mt(a_,!0);var f_=mt(sA,!0);var pA=mt(WS,!0);var gA=mt(tA,!0);var mA=mt(oA,!0);var yA=mt(nA,!0);var Yd=class n{constructor(e,t){this.auth=e;this.firestore=t}registrarUsuario(e){return w(this,null,function*(){let o=e,{correo:t,contrase\u00F1a:r,tipoUsuario:i}=o,s=vI(o,["correo","contrase\xF1a","tipoUsuario"]);try{let u=(yield h0(this.auth,t,r)).user?.uid;if(u){let l=fA(this.firestore,`${i}/${u}`);yield mA(l,O({uid:u},s))}alert("Registro exitoso")}catch(c){console.error("Error en el registro:",c),alert("Error en el registro")}})}static \u0275fac=function(t){return new(t||n)(J(yi),J(Gn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var Zd=class n{constructor(e){this.firestore=e;this.especialidadesRef=hA(this.firestore,"especialidades")}especialidadesRef;obtenerEspecialidades(){return w(this,null,function*(){try{return(yield f_(this.especialidadesRef)).docs.map(t=>t.data().nombre)}catch(e){return console.error("Error obteniendo especialidades:",e),[]}})}agregarEspecialidad(e){return w(this,null,function*(){let t=gA(this.especialidadesRef,yA("nombre","==",e));if((yield f_(t)).empty)try{yield dA(this.especialidadesRef,{nombre:e}),console.log("Especialidad agregada:",e)}catch(i){console.error("Error al agregar especialidad:",i)}})}static \u0275fac=function(t){return new(t||n)(J(Gn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function kB(n,e){n&1&&(ve(0,"div")(1,"label"),be(2,"Obra Social:"),_e(),qe(3,"input",14),ve(4,"label"),be(5,"Im\xE1genes de Perfil:"),_e(),qe(6,"input",15),_e())}function FB(n,e){if(n&1&&(ve(0,"option",21),be(1),_e()),n&2){let t=e.$implicit;Nn("value",t),gr(),Op(t)}}function VB(n,e){n&1&&qe(0,"input",22)}function LB(n,e){if(n&1&&(ve(0,"div")(1,"label"),be(2,"Especialidad:"),_e(),ve(3,"select",16),Ko(4,FB,2,2,"option",17),ve(5,"option",18),be(6,"Otra"),_e()(),Ko(7,VB,1,0,"input",19),ve(8,"label"),be(9,"Imagen de perfil:"),_e(),qe(10,"input",20),_e()),n&2){let t=BD();gr(4),Nn("ngForOf",t.especialidades),gr(3),Nn("ngIf",t.otraEspecialidadSeleccionada)}}var Jd=class n{constructor(e,t,r){this.fb=e;this.servicioAuth=t;this.servicioEspecialidades=r;this.formularioRegistro=this.fb.group({tipoUsuario:["paciente",kt.required],nombre:["",kt.required],apellido:["",kt.required],edad:["",kt.required],dni:["",kt.required],correo:["",[kt.required,kt.email]],contrase\u00F1a:["",[kt.required,kt.minLength(6)]],obraSocial:[""],imagenesPerfil:[""],especialidad:[""],nuevaEspecialidad:[""],imagenPerfil:[""]})}formularioRegistro;especialidades=[];esPaciente=!1;esEspecialista=!1;otraEspecialidadSeleccionada=!1;ngOnInit(){this.cargarEspecialidades(),this.cambiarTipoUsuario()}cargarEspecialidades(){return w(this,null,function*(){this.especialidades=yield this.servicioEspecialidades.obtenerEspecialidades()})}cambiarTipoUsuario(){let e=this.formularioRegistro.get("tipoUsuario")?.value;this.esPaciente=e==="paciente",this.esEspecialista=e==="especialista",this.otraEspecialidadSeleccionada=!1,this.formularioRegistro.get("especialidad")?.valueChanges.subscribe(t=>{this.otraEspecialidadSeleccionada=t==="Otra"})}alEnviar(){return w(this,null,function*(){if(this.formularioRegistro.valid){let e=this.formularioRegistro.value;this.otraEspecialidadSeleccionada&&e.nuevaEspecialidad&&(yield this.servicioEspecialidades.agregarEspecialidad(e.nuevaEspecialidad),e.especialidad=e.nuevaEspecialidad),yield this.servicioAuth.registrarUsuario(e)}})}static \u0275fac=function(t){return new(t||n)(ne(jb),ne(Yd),ne(Zd))};static \u0275cmp=dr({type:n,selectors:[["app-register"]],standalone:!0,features:[vr],decls:37,vars:4,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],["formControlName","tipoUsuario",3,"change"],["value","paciente"],["value","especialista"],["value","admin"],["type","text","formControlName","nombre","required",""],["type","text","formControlName","apellido","required",""],["type","number","formControlName","edad","required",""],["type","text","formControlName","dni","required",""],["type","email","formControlName","correo","required",""],["type","password","formControlName","contrase\xF1a","required",""],[4,"ngIf"],["type","submit",3,"disabled"],["type","text","formControlName","obraSocial"],["type","file","formControlName","imagenesPerfil","multiple",""],["formControlName","especialidad"],[3,"value",4,"ngFor","ngForOf"],["value","Otra"],["type","text","placeholder","Ingrese nueva especialidad","formControlName","nuevaEspecialidad",4,"ngIf"],["type","file","formControlName","imagenPerfil"],[3,"value"],["type","text","placeholder","Ingrese nueva especialidad","formControlName","nuevaEspecialidad"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"h2"),be(2,"Registro de Usuarios"),_e(),ve(3,"form",1),pt("ngSubmit",function(){return r.alEnviar()}),ve(4,"div")(5,"label"),be(6,"Tipo de usuario:"),_e(),ve(7,"select",2),pt("change",function(){return r.cambiarTipoUsuario()}),ve(8,"option",3),be(9,"Paciente"),_e(),ve(10,"option",4),be(11,"Especialista"),_e(),ve(12,"option",5),be(13,"Admin"),_e()()(),ve(14,"div")(15,"label"),be(16,"Nombre:"),_e(),qe(17,"input",6),ve(18,"label"),be(19,"Apellido:"),_e(),qe(20,"input",7),ve(21,"label"),be(22,"Edad:"),_e(),qe(23,"input",8),ve(24,"label"),be(25,"DNI:"),_e(),qe(26,"input",9),ve(27,"label"),be(28,"Email:"),_e(),qe(29,"input",10),ve(30,"label"),be(31,"Contrase\xF1a:"),_e(),qe(32,"input",11),_e(),Ko(33,kB,7,0,"div",12)(34,LB,11,2,"div",12),ve(35,"button",13),be(36,"Registrar"),_e()()()),t&2&&(gr(3),Nn("formGroup",r.formularioRegistro),gr(30),Nn("ngIf",r.esPaciente),gr(),Nn("ngIf",r.esEspecialista),gr(),Nn("disabled",r.formularioRegistro.invalid))},dependencies:[Bp,uC,lC,Bb,Ob,Vb,Ub,Pl,zg,kl,Ab,Rb,Kg,Gg,Wg],styles:[".register-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;padding:20px;background-color:#f5f5f5;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{color:#007acc;text-align:center}label[_ngcontent-%COMP%]{font-weight:700;color:#555}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ddd;border-radius:4px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007acc;color:#fff;font-weight:700;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}button[_ngcontent-%COMP%]:hover:enabled{background-color:#005b9e}"]})};var _A=[{path:"home",component:wl},{path:"register",component:Jd},{path:"",redirectTo:"/home",pathMatch:"full"}];var IA={providers:[YD({eventCoalescing:!0}),nb(_A),mT(()=>yT({projectId:"clinica-especialista-c2249",appId:"1:976905366152:web:20de079495a386a022cd3d",storageBucket:"clinica-especialista-c2249.firebasestorage.app",apiKey:"AIzaSyDJGCagdN6PtL1b0x56JydPThHSk39-vIA",authDomain:"clinica-especialista-c2249.firebaseapp.com",messagingSenderId:"976905366152"})),d0(()=>f0()),lA(()=>pA())]};var Xd=class n{title="clinica-especialista";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=dr({type:n,selectors:[["app-root"]],standalone:!0,features:[vr],decls:1,vars:0,template:function(t,r){t&1&&qe(0,"router-outlet")},dependencies:[Rg]})};_C(Xd,IA).catch(n=>console.error(n));
