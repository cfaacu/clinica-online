var pN=Object.create;var yv=Object.defineProperty,mN=Object.defineProperties,gN=Object.getOwnPropertyDescriptor,vN=Object.getOwnPropertyDescriptors,yN=Object.getOwnPropertyNames,FI=Object.getOwnPropertySymbols,LI=Object.getPrototypeOf,UI=Object.prototype.hasOwnProperty,_N=Object.prototype.propertyIsEnumerable,wN=Reflect.get;var VI=(n,e,t)=>e in n?yv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,K=(n,e)=>{for(var t in e||={})UI.call(e,t)&&VI(n,t,e[t]);if(FI)for(var t of FI(e))_N.call(e,t)&&VI(n,t,e[t]);return n},Ee=(n,e)=>mN(n,vN(e));var EN=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var bN=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yN(e))!UI.call(n,i)&&i!==t&&yv(n,i,{get:()=>e[i],enumerable:!(r=gN(e,i))||r.enumerable});return n};var IN=(n,e,t)=>(t=n!=null?pN(LI(n)):{},bN(e||!n||!n.__esModule?yv(t,"default",{value:n,enumerable:!0}):t,n));var Ao=(n,e,t)=>wN(LI(n),t,e);var T=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(d){i(d)}},s=l=>{try{a(t.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var ux=EN((fi,Hw)=>{"use strict";(function(n,e){typeof fi=="object"&&typeof Hw<"u"?Hw.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(fi,function(){"use strict";function n(u,h,y){if(typeof u=="function"?u===h:u.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(u,h){if(h.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(u,h){return u.get(n(u,h))}function r(u,h,y){e(u,h),h.set(u,y)}function i(u,h,y){return u.set(n(u,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=u=>new Promise(h=>{if(!u)return h();let y=window.scrollX,C=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,C)}),d="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((u,h)=>(u[h]=d+h,u),{}),S=["success","warning","info","question","error"].reduce((u,h)=>(u[h]=d+h,u),{}),k="SweetAlert2:",$=u=>u.charAt(0).toUpperCase()+u.slice(1),V=u=>{console.warn(`${k} ${typeof u=="object"?u.join(" "):u}`)},W=u=>{console.error(`${k} ${u}`)},re=[],te=u=>{re.includes(u)||(re.push(u),V(u))},se=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;te(`"${u}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},De=u=>typeof u=="function"?u():u,ce=u=>u&&typeof u.toPromise=="function",R=u=>ce(u)?u.toPromise():Promise.resolve(u),D=u=>u&&Promise.resolve(u)===u,x=()=>document.body.querySelector(`.${m.container}`),P=u=>{let h=x();return h?h.querySelector(u):null},N=u=>P(`.${u}`),O=()=>N(m.popup),M=()=>N(m.icon),pr=()=>N(m["icon-content"]),lo=()=>N(m.title),El=()=>N(m["html-container"]),uo=()=>N(m.image),Di=()=>N(m["progress-steps"]),ho=()=>N(m["validation-message"]),Bn=()=>P(`.${m.actions} .${m.confirm}`),fo=()=>P(`.${m.actions} .${m.cancel}`),mn=()=>P(`.${m.actions} .${m.deny}`),Zt=()=>N(m["input-label"]),po=()=>P(`.${m.loader}`),mr=()=>N(m.actions),jd=()=>N(m.footer),$r=()=>N(m["timer-progress-bar"]),bl=()=>N(m.close),Xg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,mo=()=>{let u=O();if(!u)return[];let h=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((J,Ae)=>{let Be=parseInt(J.getAttribute("tabindex")||"0"),wt=parseInt(Ae.getAttribute("tabindex")||"0");return Be>wt?1:Be<wt?-1:0}),C=u.querySelectorAll(Xg),U=Array.from(C).filter(J=>J.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(U))].filter(J=>sn(J))},go=()=>$n(document.body,m.shown)&&!$n(document.body,m["toast-shown"])&&!$n(document.body,m["no-backdrop"]),vo=()=>{let u=O();return u?$n(u,m.toast):!1},Il=()=>{let u=O();return u?u.hasAttribute("data-loading"):!1},on=(u,h)=>{if(u.textContent="",h){let C=new DOMParser().parseFromString(h,"text/html"),U=C.querySelector("head");U&&Array.from(U.childNodes).forEach(Ae=>{u.appendChild(Ae)});let J=C.querySelector("body");J&&Array.from(J.childNodes).forEach(Ae=>{Ae instanceof HTMLVideoElement||Ae instanceof HTMLAudioElement?u.appendChild(Ae.cloneNode(!0)):u.appendChild(Ae)})}},$n=(u,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let C=0;C<y.length;C++)if(!u.classList.contains(y[C]))return!1;return!0},Bd=(u,h)=>{Array.from(u.classList).forEach(y=>{!Object.values(m).includes(y)&&!Object.values(S).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&u.classList.remove(y)})},gn=(u,h,y)=>{if(Bd(u,h),!h.customClass)return;let C=h.customClass[y];if(C){if(typeof C!="string"&&!C.forEach){V(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof C}"`);return}Ne(u,C)}},Sa=(u,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return u.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return u.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return u.querySelector(`.${m.popup} > .${m.radio} input:checked`)||u.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return u.querySelector(`.${m.popup} > .${m.range} input`);default:return u.querySelector(`.${m.popup} > .${m.input}`)}},Cl=u=>{if(u.focus(),u.type!=="file"){let h=u.value;u.value="",u.value=h}},Tl=(u,h,y)=>{!u||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(C=>{Array.isArray(u)?u.forEach(U=>{y?U.classList.add(C):U.classList.remove(C)}):y?u.classList.add(C):u.classList.remove(C)}))},Ne=(u,h)=>{Tl(u,h,!0)},Hn=(u,h)=>{Tl(u,h,!1)},Hr=(u,h)=>{let y=Array.from(u.children);for(let C=0;C<y.length;C++){let U=y[C];if(U instanceof HTMLElement&&$n(U,h))return U}},gr=(u,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?u.style.setProperty(h,typeof y=="number"?`${y}px`:y):u.style.removeProperty(h)},bt=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";u&&(u.style.display=h)},Ot=u=>{u&&(u.style.display="none")},kt=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";u&&new MutationObserver(()=>{qr(u,u.innerHTML,h)}).observe(u,{childList:!0,subtree:!0})},Jt=(u,h,y,C)=>{let U=u.querySelector(h);U&&U.style.setProperty(y,C)},qr=function(u,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?bt(u,y):Ot(u)},sn=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),$d=()=>!sn(Bn())&&!sn(mn())&&!sn(fo()),Hd=u=>u.scrollHeight>u.clientHeight,yo=u=>{let h=window.getComputedStyle(u),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),C=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||C>0},Da=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=$r();y&&sn(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${u/1e3}s linear`,y.style.width="0%"},10))},qd=()=>{let u=$r();if(!u)return;let h=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";let y=parseInt(window.getComputedStyle(u).width),C=h/y*100;u.style.width=`${C}%`},Sl=()=>typeof window>"u"||typeof document>"u",ev=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),tv=()=>{let u=x();return u?(u.remove(),Hn([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},vr=()=>{s.currentInstance.resetValidationMessage()},zd=()=>{let u=O(),h=Hr(u,m.input),y=Hr(u,m.file),C=u.querySelector(`.${m.range} input`),U=u.querySelector(`.${m.range} output`),J=Hr(u,m.select),Ae=u.querySelector(`.${m.checkbox} input`),Be=Hr(u,m.textarea);h.oninput=vr,y.onchange=vr,J.onchange=vr,Ae.onchange=vr,Be.oninput=vr,C.oninput=()=>{vr(),U.value=C.value},C.onchange=()=>{vr(),U.value=C.value}},Gd=u=>typeof u=="string"?document.querySelector(u):u,ps=u=>{let h=O();h.setAttribute("role",u.toast?"alert":"dialog"),h.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||h.setAttribute("aria-modal","true")},Dl=u=>{window.getComputedStyle(u).direction==="rtl"&&Ne(x(),m.rtl)},Al=u=>{let h=tv();if(Sl()){W("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=m.container,h&&Ne(y,m["no-transition"]),on(y,ev);let C=Gd(u.target);C.appendChild(y),ps(u),Dl(C),zd()},yr=(u,h)=>{u instanceof HTMLElement?h.appendChild(u):typeof u=="object"?Wd(u,h):u&&on(h,u)},Wd=(u,h)=>{u.jquery?Aa(h,u):on(h,u.toString())},Aa=(u,h)=>{if(u.textContent="",0 in h)for(let y=0;y in h;y++)u.appendChild(h[y].cloneNode(!0));else u.appendChild(h.cloneNode(!0))},Kd=(u,h)=>{let y=mr(),C=po();!y||!C||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Ot(y):bt(y),gn(y,h,"actions"),ms(y,C,h),on(C,h.loaderHtml||""),gn(C,h,"loader"))};function ms(u,h,y){let C=Bn(),U=mn(),J=fo();!C||!U||!J||(qt(C,"confirm",y),qt(U,"deny",y),qt(J,"cancel",y),Qd(C,U,J,y),y.reverseButtons&&(y.toast?(u.insertBefore(J,C),u.insertBefore(U,C)):(u.insertBefore(J,h),u.insertBefore(U,h),u.insertBefore(C,h))))}function Qd(u,h,y,C){if(!C.buttonsStyling){Hn([u,h,y],m.styled);return}Ne([u,h,y],m.styled),C.confirmButtonColor&&(u.style.backgroundColor=C.confirmButtonColor,Ne(u,m["default-outline"])),C.denyButtonColor&&(h.style.backgroundColor=C.denyButtonColor,Ne(h,m["default-outline"])),C.cancelButtonColor&&(y.style.backgroundColor=C.cancelButtonColor,Ne(y,m["default-outline"]))}function qt(u,h,y){let C=$(h);qr(u,y[`show${C}Button`],"inline-block"),on(u,y[`${h}ButtonText`]||""),u.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),u.className=m[h],gn(u,y,`${h}Button`)}let Yd=(u,h)=>{let y=bl();y&&(on(y,h.closeButtonHtml||""),gn(y,h,"closeButton"),qr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},gs=(u,h)=>{let y=x();y&&(vs(y,h.backdrop),nv(y,h.position),rv(y,h.grow),gn(y,h,"container"))};function vs(u,h){typeof h=="string"?u.style.background=h:h||Ne([document.documentElement,document.body],m["no-backdrop"])}function nv(u,h){h&&(h in m?Ne(u,m[h]):(V('The "position" parameter is not valid, defaulting to "center"'),Ne(u,m.center)))}function rv(u,h){h&&Ne(u,m[`grow-${h}`])}var ze={innerParams:new WeakMap,domCache:new WeakMap};let iv=["input","file","range","select","radio","checkbox","textarea"],ov=(u,h)=>{let y=O();if(!y)return;let C=ze.innerParams.get(u),U=!C||h.input!==C.input;iv.forEach(J=>{let Ae=Hr(y,m[J]);Ae&&(xl(J,h.inputAttributes),Ae.className=m[J],U&&Ot(Ae))}),h.input&&(U&&xa(h),Ma(h))},xa=u=>{if(!u.input)return;if(!ut[u.input]){W(`Unexpected type of input! Expected ${Object.keys(ut).join(" | ")}, got "${u.input}"`);return}let h=Ml(u.input);if(!h)return;let y=ut[u.input](h,u);bt(h),u.inputAutoFocus&&setTimeout(()=>{Cl(y)})},Zd=u=>{for(let h=0;h<u.attributes.length;h++){let y=u.attributes[h].name;["id","type","value","style"].includes(y)||u.removeAttribute(y)}},xl=(u,h)=>{let y=O();if(!y)return;let C=Sa(y,u);if(C){Zd(C);for(let U in h)C.setAttribute(U,h[U])}},Ma=u=>{if(!u.input)return;let h=Ml(u.input);h&&gn(h,u,"input")},Xn=(u,h)=>{!u.placeholder&&h.inputPlaceholder&&(u.placeholder=h.inputPlaceholder)},_o=(u,h,y)=>{if(y.inputLabel){let C=document.createElement("label"),U=m["input-label"];C.setAttribute("for",u.id),C.className=U,typeof y.customClass=="object"&&Ne(C,y.customClass.inputLabel),C.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",C)}},Ml=u=>{let h=O();if(h)return Hr(h,m[u]||m.input)},wo=(u,h)=>{["string","number"].includes(typeof h)?u.value=`${h}`:D(h)||V(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},ut={};ut.text=ut.email=ut.password=ut.number=ut.tel=ut.url=ut.search=ut.date=ut["datetime-local"]=ut.time=ut.week=ut.month=(u,h)=>(wo(u,h.inputValue),_o(u,u,h),Xn(u,h),u.type=h.input,u),ut.file=(u,h)=>(_o(u,u,h),Xn(u,h),u),ut.range=(u,h)=>{let y=u.querySelector("input"),C=u.querySelector("output");return wo(y,h.inputValue),y.type=h.input,wo(C,h.inputValue),_o(y,u,h),u},ut.select=(u,h)=>{if(u.textContent="",h.inputPlaceholder){let y=document.createElement("option");on(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,u.appendChild(y)}return _o(u,u,h),u},ut.radio=u=>(u.textContent="",u),ut.checkbox=(u,h)=>{let y=Sa(O(),"checkbox");y.value="1",y.checked=!!h.inputValue;let C=u.querySelector("span");return on(C,h.inputPlaceholder||h.inputLabel),y},ut.textarea=(u,h)=>{wo(u,h.inputValue),Xn(u,h),_o(u,u,h);let y=C=>parseInt(window.getComputedStyle(C).marginLeft)+parseInt(window.getComputedStyle(C).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let C=parseInt(window.getComputedStyle(O()).width),U=()=>{if(!document.body.contains(u))return;let J=u.offsetWidth+y(u);J>C?O().style.width=`${J}px`:gr(O(),"width",h.width)};new MutationObserver(U).observe(u,{attributes:!0,attributeFilter:["style"]})}}),u};let Jd=(u,h)=>{let y=El();y&&(kt(y),gn(y,h,"htmlContainer"),h.html?(yr(h.html,y),bt(y,"block")):h.text?(y.textContent=h.text,bt(y,"block")):Ot(y),ov(u,h))},Xd=(u,h)=>{let y=jd();y&&(kt(y),qr(y,h.footer,"block"),h.footer&&yr(h.footer,y),gn(y,h,"footer"))},sv=(u,h)=>{let y=ze.innerParams.get(u),C=M();if(C){if(y&&h.icon===y.icon){zr(C,h),ys(C,h);return}if(!h.icon&&!h.iconHtml){Ot(C);return}if(h.icon&&Object.keys(S).indexOf(h.icon)===-1){W(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Ot(C);return}bt(C),zr(C,h),ys(C,h),Ne(C,h.showClass&&h.showClass.icon)}},ys=(u,h)=>{for(let[y,C]of Object.entries(S))h.icon!==y&&Hn(u,C);Ne(u,h.icon&&S[h.icon]),Pl(u,h),eh(),gn(u,h,"icon")},eh=()=>{let u=O();if(!u)return;let h=window.getComputedStyle(u).getPropertyValue("background-color"),y=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let C=0;C<y.length;C++)y[C].style.backgroundColor=h},Rl=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,_s=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,zr=(u,h)=>{if(!h.icon&&!h.iconHtml)return;let y=u.innerHTML,C="";h.iconHtml?C=th(h.iconHtml):h.icon==="success"?(C=Rl,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?C=_s:h.icon&&(C=th({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==C.trim()&&on(u,C)},Pl=(u,h)=>{if(h.iconColor){u.style.color=h.iconColor,u.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Jt(u,y,"background-color",h.iconColor);Jt(u,".swal2-success-ring","border-color",h.iconColor)}},th=u=>`<div class="${m["icon-content"]}">${u}</div>`,nh=(u,h)=>{let y=uo();if(y){if(!h.imageUrl){Ot(y);return}bt(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),gr(y,"width",h.imageWidth),gr(y,"height",h.imageHeight),y.className=m.image,gn(y,h,"image")}},rh=(u,h)=>{let y=x(),C=O();if(!(!y||!C)){if(h.toast){gr(y,"width",h.width),C.style.width="100%";let U=po();U&&C.insertBefore(U,M())}else gr(C,"width",h.width);gr(C,"padding",h.padding),h.color&&(C.style.color=h.color),h.background&&(C.style.background=h.background),Ot(ho()),ih(C,h)}},ih=(u,h)=>{let y=h.showClass||{};u.className=`${m.popup} ${sn(u)?y.popup:""}`,h.toast?(Ne([document.documentElement,document.body],m["toast-shown"]),Ne(u,m.toast)):Ne(u,m.modal),gn(u,h,"popup"),typeof h.customClass=="string"&&Ne(u,h.customClass),h.icon&&Ne(u,m[`icon-${h.icon}`])},Nl=(u,h)=>{let y=Di();if(!y)return;let{progressSteps:C,currentProgressStep:U}=h;if(!C||C.length===0||U===void 0){Ot(y);return}bt(y),y.textContent="",U>=C.length&&V("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.forEach((J,Ae)=>{let Be=Ol(J);if(y.appendChild(Be),Ae===U&&Ne(Be,m["active-progress-step"]),Ae!==C.length-1){let wt=oh(h);y.appendChild(wt)}})},Ol=u=>{let h=document.createElement("li");return Ne(h,m["progress-step"]),on(h,u),h},oh=u=>{let h=document.createElement("li");return Ne(h,m["progress-step-line"]),u.progressStepsDistance&&gr(h,"width",u.progressStepsDistance),h},sh=(u,h)=>{let y=lo();y&&(kt(y),qr(y,h.title||h.titleText,"block"),h.title&&yr(h.title,y),h.titleText&&(y.innerText=h.titleText),gn(y,h,"title"))},ah=(u,h)=>{rh(u,h),gs(u,h),Nl(u,h),sv(u,h),nh(u,h),sh(u,h),Yd(u,h),Jd(u,h),Kd(u,h),Xd(u,h);let y=O();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},av=()=>sn(O()),kl=()=>{var u;return(u=Bn())===null||u===void 0?void 0:u.click()},ch=()=>{var u;return(u=mn())===null||u===void 0?void 0:u.click()},cv=()=>{var u;return(u=fo())===null||u===void 0?void 0:u.click()},Rn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),er=u=>{u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},Ra=(u,h,y)=>{er(u),h.toast||(u.keydownHandler=C=>Pa(h,C,y),u.keydownTarget=h.keydownListenerCapture?window:O(),u.keydownListenerCapture=h.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},Eo=(u,h)=>{var y;let C=mo();if(C.length){u=u+h,u===C.length?u=0:u===-1&&(u=C.length-1),C[u].focus();return}(y=O())===null||y===void 0||y.focus()},Fl=["ArrowRight","ArrowDown"],ot=["ArrowLeft","ArrowUp"],Pa=(u,h,y)=>{u&&(h.isComposing||h.keyCode===229||(u.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?ws(h,u):h.key==="Tab"?Es(h):[...Fl,...ot].includes(h.key)?lv(h.key):h.key==="Escape"&&lh(h,u,y)))},ws=(u,h)=>{if(!De(h.allowEnterKey))return;let y=Sa(O(),h.input);if(u.target&&y&&u.target instanceof HTMLElement&&u.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;kl(),u.preventDefault()}},Es=u=>{let h=u.target,y=mo(),C=-1;for(let U=0;U<y.length;U++)if(h===y[U]){C=U;break}u.shiftKey?Eo(C,-1):Eo(C,1),u.stopPropagation(),u.preventDefault()},lv=u=>{let h=mr(),y=Bn(),C=mn(),U=fo();if(!h||!y||!C||!U)return;let J=[y,C,U];if(document.activeElement instanceof HTMLElement&&!J.includes(document.activeElement))return;let Ae=Fl.includes(u)?"nextElementSibling":"previousElementSibling",Be=document.activeElement;if(Be){for(let wt=0;wt<h.children.length;wt++){if(Be=Be[Ae],!Be)return;if(Be instanceof HTMLButtonElement&&sn(Be))break}Be instanceof HTMLButtonElement&&Be.focus()}},lh=(u,h,y)=>{De(h.allowEscapeKey)&&(u.preventDefault(),y(Rn.esc))};var bo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let uv=()=>{let u=x();Array.from(document.body.children).forEach(y=>{y.contains(u)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},uh=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},dh=typeof window<"u"&&!!window.GestureEvent,bs=()=>{if(dh&&!$n(document.body,m.iosfix)){let u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,Ne(document.body,m.iosfix),Gr()}},Gr=()=>{let u=x();if(!u)return;let h;u.ontouchstart=y=>{h=hh(y)},u.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},hh=u=>{let h=u.target,y=x(),C=El();return!y||!C||fh(u)||ph(u)?!1:h===y||!Hd(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Hd(C)&&C.contains(h))},fh=u=>u.touches&&u.touches.length&&u.touches[0].touchType==="stylus",ph=u=>u.touches&&u.touches.length>1,Io=()=>{if($n(document.body,m.iosfix)){let u=parseInt(document.body.style.top,10);Hn(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},dv=()=>{let u=document.createElement("div");u.className=m["scrollbar-measure"],document.body.appendChild(u);let h=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),h},Co=null,hv=u=>{Co===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(Co=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Co+dv()}px`)},Wr=()=>{Co!==null&&(document.body.style.paddingRight=`${Co}px`,Co=null)};function mh(u,h,y,C){vo()?dt(u,C):(l(y).then(()=>dt(u,C)),er(s)),dh?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),go()&&(Wr(),Io(),uh()),fv()}function fv(){Hn([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function Pn(u){u=Is(u);let h=bo.swalPromiseResolve.get(this),y=Na(this);this.isAwaitingPromise?u.isDismissed||(_r(this),h(u)):y&&h(u)}let Na=u=>{let h=O();if(!h)return!1;let y=ze.innerParams.get(u);if(!y||$n(h,y.hideClass.popup))return!1;Hn(h,y.showClass.popup),Ne(h,y.hideClass.popup);let C=x();return Hn(C,y.showClass.backdrop),Ne(C,y.hideClass.backdrop),gh(u,h,y),!0};function Vl(u){let h=bo.swalPromiseReject.get(this);_r(this),h&&h(u)}let _r=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,ze.innerParams.get(u)||u._destroy())},Is=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),gh=(u,h,y)=>{var C;let U=x(),J=yo(h);typeof y.willClose=="function"&&y.willClose(h),(C=s.eventEmitter)===null||C===void 0||C.emit("willClose",h),J?Ll(u,h,U,y.returnFocus,y.didClose):mh(u,U,y.returnFocus,y.didClose)},Ll=(u,h,y,C,U)=>{s.swalCloseEventFinishedCallback=mh.bind(null,u,y,C,U);let J=function(Ae){if(Ae.target===h){var Be;(Be=s.swalCloseEventFinishedCallback)===null||Be===void 0||Be.call(s),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",J),h.removeEventListener("transitionend",J)}};h.addEventListener("animationend",J),h.addEventListener("transitionend",J)},dt=(u,h)=>{setTimeout(()=>{var y;typeof h=="function"&&h.bind(u.params)(),(y=s.eventEmitter)===null||y===void 0||y.emit("didClose"),u._destroy&&u._destroy()})},To=u=>{let h=O();if(h||new Rh,h=O(),!h)return;let y=po();vo()?Ot(M()):pv(h,u),bt(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},pv=(u,h)=>{let y=mr(),C=po();!y||!C||(!h&&sn(Bn())&&(h=Bn()),bt(y),h&&(Ot(h),C.setAttribute("data-button-to-replace",h.className),y.insertBefore(C,h)),Ne([u,y],m.loading))},vh=(u,h)=>{h.input==="select"||h.input==="radio"?wr(u,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(ce(h.inputValue)||D(h.inputValue))&&(To(Bn()),Eh(u,h))},yh=(u,h)=>{let y=u.getInput();if(!y)return null;switch(h.input){case"checkbox":return _h(y);case"radio":return Oa(y);case"file":return wh(y);default:return h.inputAutoTrim?y.value.trim():y.value}},_h=u=>u.checked?1:0,Oa=u=>u.checked?u.value:null,wh=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,wr=(u,h)=>{let y=O();if(!y)return;let C=U=>{h.input==="select"?mv(y,Ts(U),h):h.input==="radio"&&Cs(y,Ts(U),h)};ce(h.inputOptions)||D(h.inputOptions)?(To(Bn()),R(h.inputOptions).then(U=>{u.hideLoading(),C(U)})):typeof h.inputOptions=="object"?C(h.inputOptions):W(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Eh=(u,h)=>{let y=u.getInput();y&&(Ot(y),R(h.inputValue).then(C=>{y.value=h.input==="number"?`${parseFloat(C)||0}`:`${C}`,bt(y),y.focus(),u.hideLoading()}).catch(C=>{W(`Error in inputValue promise: ${C}`),y.value="",bt(y),y.focus(),u.hideLoading()}))};function mv(u,h,y){let C=Hr(u,m.select);if(!C)return;let U=(J,Ae,Be)=>{let wt=document.createElement("option");wt.value=Be,on(wt,Ae),wt.selected=ka(Be,y.inputValue),J.appendChild(wt)};h.forEach(J=>{let Ae=J[0],Be=J[1];if(Array.isArray(Be)){let wt=document.createElement("optgroup");wt.label=Ae,wt.disabled=!1,C.appendChild(wt),Be.forEach(Ua=>U(wt,Ua[1],Ua[0]))}else U(C,Be,Ae)}),C.focus()}function Cs(u,h,y){let C=Hr(u,m.radio);if(!C)return;h.forEach(J=>{let Ae=J[0],Be=J[1],wt=document.createElement("input"),Ua=document.createElement("label");wt.type="radio",wt.name=m.radio,wt.value=Ae,ka(Ae,y.inputValue)&&(wt.checked=!0);let vv=document.createElement("span");on(vv,Be),vv.className=m.label,Ua.appendChild(wt),Ua.appendChild(vv),C.appendChild(Ua)});let U=C.querySelectorAll("input");U.length&&U[0].focus()}let Ts=u=>{let h=[];return u instanceof Map?u.forEach((y,C)=>{let U=y;typeof U=="object"&&(U=Ts(U)),h.push([C,U])}):Object.keys(u).forEach(y=>{let C=u[y];typeof C=="object"&&(C=Ts(C)),h.push([y,C])}),h},ka=(u,h)=>!!h&&h.toString()===u.toString(),Fa=u=>{let h=ze.innerParams.get(u);u.disableButtons(),h.input?Ih(u,"confirm"):Ss(u,!0)},bh=u=>{let h=ze.innerParams.get(u);u.disableButtons(),h.returnInputValueOnDeny?Ih(u,"deny"):Ai(u,!1)},Va=(u,h)=>{u.disableButtons(),h(Rn.cancel)},Ih=(u,h)=>{let y=ze.innerParams.get(u);if(!y.input){W(`The "input" parameter is needed to be set when using returnInputValueOn${$(h)}`);return}let C=u.getInput(),U=yh(u,y);y.inputValidator?Ch(u,U,h):C&&!C.checkValidity()?(u.enableButtons(),u.showValidationMessage(y.validationMessage||C.validationMessage)):h==="deny"?Ai(u,U):Ss(u,U)},Ch=(u,h,y)=>{let C=ze.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>R(C.inputValidator(h,C.validationMessage))).then(J=>{u.enableButtons(),u.enableInput(),J?u.showValidationMessage(J):y==="deny"?Ai(u,h):Ss(u,h)})},Ai=(u,h)=>{let y=ze.innerParams.get(u||void 0);y.showLoaderOnDeny&&To(mn()),y.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preDeny(h,y.validationMessage))).then(U=>{U===!1?(u.hideLoading(),_r(u)):u.close({isDenied:!0,value:typeof U>"u"?h:U})}).catch(U=>jl(u||void 0,U))):u.close({isDenied:!0,value:h})},Ul=(u,h)=>{u.close({isConfirmed:!0,value:h})},jl=(u,h)=>{u.rejectPromise(h)},Ss=(u,h)=>{let y=ze.innerParams.get(u||void 0);y.showLoaderOnConfirm&&To(),y.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preConfirm(h,y.validationMessage))).then(U=>{sn(ho())||U===!1?(u.hideLoading(),_r(u)):Ul(u,typeof U>"u"?h:U)}).catch(U=>jl(u||void 0,U))):Ul(u,h)};function So(){let u=ze.innerParams.get(this);if(!u)return;let h=ze.domCache.get(this);Ot(h.loader),vo()?u.icon&&bt(M()):Th(h),Hn([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Th=u=>{let h=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));h.length?bt(h[0],"inline-block"):$d()&&Ot(u.actions)};function Ds(){let u=ze.innerParams.get(this),h=ze.domCache.get(this);return h?Sa(h.popup,u.input):null}function Bl(u,h,y){let C=ze.domCache.get(u);h.forEach(U=>{C[U].disabled=y})}function $l(u,h){let y=O();if(!(!y||!u))if(u.type==="radio"){let C=y.querySelectorAll(`[name="${m.radio}"]`);for(let U=0;U<C.length;U++)C[U].disabled=h}else u.disabled=h}function Kr(){Bl(this,["confirmButton","denyButton","cancelButton"],!1)}function Hl(){Bl(this,["confirmButton","denyButton","cancelButton"],!0)}function ql(){$l(this.getInput(),!1)}function zl(){$l(this.getInput(),!0)}function Gl(u){let h=ze.domCache.get(this),y=ze.innerParams.get(this);on(h.validationMessage,u),h.validationMessage.className=m["validation-message"],y.customClass&&y.customClass.validationMessage&&Ne(h.validationMessage,y.customClass.validationMessage),bt(h.validationMessage);let C=this.getInput();C&&(C.setAttribute("aria-invalid","true"),C.setAttribute("aria-describedby",m["validation-message"]),Cl(C),Ne(C,m.inputerror))}function As(){let u=ze.domCache.get(this);u.validationMessage&&Ot(u.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Hn(h,m.inputerror))}let Ft={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Sh=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Dh={allowEnterKey:void 0},Do=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=u=>Object.prototype.hasOwnProperty.call(Ft,u),f=u=>Sh.indexOf(u)!==-1,g=u=>Dh[u],b=u=>{c(u)||V(`Unknown parameter "${u}"`)},F=u=>{Do.includes(u)&&V(`The parameter "${u}" is incompatible with toasts`)},j=u=>{let h=g(u);h&&se(u,h)},Y=u=>{u.backdrop===!1&&u.allowOutsideClick&&V('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in u)b(h),u.toast&&F(h),j(h)};function et(u){let h=O(),y=ze.innerParams.get(this);if(!h||$n(h,y.hideClass.popup)){V("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let C=zt(u),U=Object.assign({},y,C);ah(this,U),ze.innerParams.set(this,U),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}let zt=u=>{let h={};return Object.keys(u).forEach(y=>{f(y)?h[y]=u[y]:V(`Invalid parameter to update: ${y}`)}),h};function Ue(){let u=ze.domCache.get(this),h=ze.innerParams.get(this);if(!h){Gt(this);return}u.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),Xt(this)}let Xt=u=>{Gt(u),delete u.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Gt=u=>{u.isAwaitingPromise?(Qr(ze,u),u.isAwaitingPromise=!0):(Qr(bo,u),Qr(ze,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},Qr=(u,h)=>{for(let y in u)u[y].delete(h)};var qn=Object.freeze({__proto__:null,_destroy:Ue,close:Pn,closeModal:Pn,closePopup:Pn,closeToast:Pn,disableButtons:Hl,disableInput:zl,disableLoading:So,enableButtons:Kr,enableInput:ql,getInput:Ds,handleAwaitingPromise:_r,hideLoading:So,rejectPromise:Vl,resetValidationMessage:As,showValidationMessage:Gl,update:et});let La=(u,h,y)=>{u.toast?Wl(u,h,y):(AP(h),xP(h),MP(u,h,y))},Wl=(u,h,y)=>{h.popup.onclick=()=>{u&&(DP(u)||u.timer||u.input)||y(Rn.close)}},DP=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton),Ah=!1,AP=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(h){u.container.onmouseup=()=>{},h.target===u.container&&(Ah=!0)}}},xP=u=>{u.container.onmousedown=h=>{h.target===u.container&&h.preventDefault(),u.popup.onmouseup=function(y){u.popup.onmouseup=()=>{},(y.target===u.popup||y.target instanceof HTMLElement&&u.popup.contains(y.target))&&(Ah=!0)}}},MP=(u,h,y)=>{h.container.onclick=C=>{if(Ah){Ah=!1;return}C.target===h.container&&De(u.allowOutsideClick)&&y(Rn.backdrop)}},RP=u=>typeof u=="object"&&u.jquery,xI=u=>u instanceof Element||RP(u),PP=u=>{let h={};return typeof u[0]=="object"&&!xI(u[0])?Object.assign(h,u[0]):["title","html","icon"].forEach((y,C)=>{let U=u[C];typeof U=="string"||xI(U)?h[y]=U:U!==void 0&&W(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof U}`)}),h};function NP(){for(var u=arguments.length,h=new Array(u),y=0;y<u;y++)h[y]=arguments[y];return new this(...h)}function OP(u){class h extends this{_main(C,U){return super._main(C,Object.assign({},u,U))}}return h}let kP=()=>s.timeout&&s.timeout.getTimerLeft(),MI=()=>{if(s.timeout)return qd(),s.timeout.stop()},RI=()=>{if(s.timeout){let u=s.timeout.start();return Da(u),u}},FP=()=>{let u=s.timeout;return u&&(u.running?MI():RI())},VP=u=>{if(s.timeout){let h=s.timeout.increase(u);return Da(h,!0),h}},LP=()=>!!(s.timeout&&s.timeout.isRunning()),PI=!1,gv={};function UP(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";gv[u]=this,PI||(document.body.addEventListener("click",jP),PI=!0)}let jP=u=>{for(let h=u.target;h&&h!==document;h=h.parentNode)for(let y in gv){let C=h.getAttribute(y);if(C){gv[y].fire({template:C});return}}};class BP{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let C=this._getHandlersByEventName(h);C.includes(y)||C.push(y)}once(h,y){var C=this;let U=function(){C.removeListener(h,U);for(var J=arguments.length,Ae=new Array(J),Be=0;Be<J;Be++)Ae[Be]=arguments[Be];y.apply(C,Ae)};this.on(h,U)}emit(h){for(var y=arguments.length,C=new Array(y>1?y-1:0),U=1;U<y;U++)C[U-1]=arguments[U];this._getHandlersByEventName(h).forEach(J=>{try{J.apply(this,C)}catch(Ae){console.error(Ae)}})}removeListener(h,y){let C=this._getHandlersByEventName(h),U=C.indexOf(y);U>-1&&C.splice(U,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new BP;var $P=Object.freeze({__proto__:null,argsToParams:PP,bindClickHandler:UP,clickCancel:cv,clickConfirm:kl,clickDeny:ch,enableLoading:To,fire:NP,getActions:mr,getCancelButton:fo,getCloseButton:bl,getConfirmButton:Bn,getContainer:x,getDenyButton:mn,getFocusableElements:mo,getFooter:jd,getHtmlContainer:El,getIcon:M,getIconContent:pr,getImage:uo,getInputLabel:Zt,getLoader:po,getPopup:O,getProgressSteps:Di,getTimerLeft:kP,getTimerProgressBar:$r,getTitle:lo,getValidationMessage:ho,increaseTimer:VP,isDeprecatedParameter:g,isLoading:Il,isTimerRunning:LP,isUpdatableParameter:f,isValidParameter:c,isVisible:av,mixin:OP,off:(u,h)=>{if(!u){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(u,h):s.eventEmitter.removeAllListeners(u)},on:(u,h)=>{s.eventEmitter.on(u,h)},once:(u,h)=>{s.eventEmitter.once(u,h)},resumeTimer:RI,showLoading:To,stopTimer:MI,toggleTimer:FP});class HP{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let NI=["swal-title","swal-html","swal-footer"],qP=u=>{let h=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!h)return{};let y=h.content;return JP(y),Object.assign(zP(y),GP(y),WP(y),KP(y),QP(y),YP(y),ZP(y,NI))},zP=u=>{let h={};return Array.from(u.querySelectorAll("swal-param")).forEach(C=>{xs(C,["name","value"]);let U=C.getAttribute("name"),J=C.getAttribute("value");!U||!J||(typeof Ft[U]=="boolean"?h[U]=J!=="false":typeof Ft[U]=="object"?h[U]=JSON.parse(J):h[U]=J)}),h},GP=u=>{let h={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(C=>{let U=C.getAttribute("name"),J=C.getAttribute("value");!U||!J||(h[U]=new Function(`return ${J}`)())}),h},WP=u=>{let h={};return Array.from(u.querySelectorAll("swal-button")).forEach(C=>{xs(C,["type","color","aria-label"]);let U=C.getAttribute("type");!U||!["confirm","cancel","deny"].includes(U)||(h[`${U}ButtonText`]=C.innerHTML,h[`show${$(U)}Button`]=!0,C.hasAttribute("color")&&(h[`${U}ButtonColor`]=C.getAttribute("color")),C.hasAttribute("aria-label")&&(h[`${U}ButtonAriaLabel`]=C.getAttribute("aria-label")))}),h},KP=u=>{let h={},y=u.querySelector("swal-image");return y&&(xs(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},QP=u=>{let h={},y=u.querySelector("swal-icon");return y&&(xs(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},YP=u=>{let h={},y=u.querySelector("swal-input");y&&(xs(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let C=Array.from(u.querySelectorAll("swal-input-option"));return C.length&&(h.inputOptions={},C.forEach(U=>{xs(U,["value"]);let J=U.getAttribute("value");if(!J)return;let Ae=U.innerHTML;h.inputOptions[J]=Ae})),h},ZP=(u,h)=>{let y={};for(let C in h){let U=h[C],J=u.querySelector(U);J&&(xs(J,[]),y[U.replace(/^swal-/,"")]=J.innerHTML.trim())}return y},JP=u=>{let h=NI.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(y=>{let C=y.tagName.toLowerCase();h.includes(C)||V(`Unrecognized element <${C}>`)})},xs=(u,h)=>{Array.from(u.attributes).forEach(y=>{h.indexOf(y.name)===-1&&V([`Unrecognized attribute "${y.name}" on <${u.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},OI=10,XP=u=>{let h=x(),y=O();typeof u.willOpen=="function"&&u.willOpen(y),s.eventEmitter.emit("willOpen",y);let U=window.getComputedStyle(document.body).overflowY;nN(h,y,u),setTimeout(()=>{eN(h,y)},OI),go()&&(tN(h,u.scrollbarPadding,U),uv()),!vo()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(()=>u.didOpen(y)),s.eventEmitter.emit("didOpen",y),Hn(h,m["no-transition"])},xh=u=>{let h=O();if(u.target!==h)return;let y=x();h.removeEventListener("animationend",xh),h.removeEventListener("transitionend",xh),y.style.overflowY="auto"},eN=(u,h)=>{yo(h)?(u.style.overflowY="hidden",h.addEventListener("animationend",xh),h.addEventListener("transitionend",xh)):u.style.overflowY="auto"},tN=(u,h,y)=>{bs(),h&&y!=="hidden"&&hv(y),setTimeout(()=>{u.scrollTop=0})},nN=(u,h,y)=>{Ne(u,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),bt(h,"grid"),setTimeout(()=>{Ne(h,y.showClass.popup),h.style.removeProperty("opacity")},OI)):bt(h,"grid"),Ne([document.documentElement,document.body],m.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ne([document.documentElement,document.body],m["height-auto"])};var kI={email:(u,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(u,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function rN(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=kI.email),u.input==="url"&&(u.inputValidator=kI.url))}function iN(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(V('Target parameter is not valid, defaulting to "body"'),u.target="body")}function oN(u){rN(u),u.showLoaderOnConfirm&&!u.preConfirm&&V(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),iN(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),Al(u)}let Yr;var Mh=new WeakMap;class At{constructor(){if(r(this,Mh,void 0),typeof window>"u")return;Yr=this;for(var h=arguments.length,y=new Array(h),C=0;C<h;C++)y[C]=arguments[C];let U=Object.freeze(this.constructor.argsToParams(y));this.params=U,this.isAwaitingPromise=!1,i(Mh,this,this._main(Yr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Y(Object.assign({},y,h)),s.currentInstance){let J=bo.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Ae}=s.currentInstance;s.currentInstance._destroy(),Ae||J({isDismissed:!0}),go()&&uh()}s.currentInstance=Yr;let C=aN(h,y);oN(C),Object.freeze(C),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let U=cN(Yr);return ah(Yr,C),ze.innerParams.set(Yr,C),sN(Yr,U,C)}then(h){return t(Mh,this).then(h)}finally(h){return t(Mh,this).finally(h)}}let sN=(u,h,y)=>new Promise((C,U)=>{let J=Ae=>{u.close({isDismissed:!0,dismiss:Ae})};bo.swalPromiseResolve.set(u,C),bo.swalPromiseReject.set(u,U),h.confirmButton.onclick=()=>{Fa(u)},h.denyButton.onclick=()=>{bh(u)},h.cancelButton.onclick=()=>{Va(u,J)},h.closeButton.onclick=()=>{J(Rn.close)},La(y,h,J),Ra(s,y,J),vh(u,y),XP(y),lN(s,y,J),uN(h,y),setTimeout(()=>{h.container.scrollTop=0})}),aN=(u,h)=>{let y=qP(u),C=Object.assign({},Ft,h,y,u);return C.showClass=Object.assign({},Ft.showClass,C.showClass),C.hideClass=Object.assign({},Ft.hideClass,C.hideClass),C.animation===!1&&(C.showClass={backdrop:"swal2-noanimation"},C.hideClass={}),C},cN=u=>{let h={popup:O(),container:x(),actions:mr(),confirmButton:Bn(),denyButton:mn(),cancelButton:fo(),loader:po(),closeButton:bl(),validationMessage:ho(),progressSteps:Di()};return ze.domCache.set(u,h),h},lN=(u,h,y)=>{let C=$r();Ot(C),h.timer&&(u.timeout=new HP(()=>{y("timer"),delete u.timeout},h.timer),h.timerProgressBar&&(bt(C),gn(C,h,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&Da(h.timer)})))},uN=(u,h)=>{if(!h.toast){if(!De(h.allowEnterKey)){se("allowEnterKey"),fN();return}dN(u)||hN(u,h)||Eo(-1,1)}},dN=u=>{let h=Array.from(u.popup.querySelectorAll("[autofocus]"));for(let y of h)if(y instanceof HTMLElement&&sn(y))return y.focus(),!0;return!1},hN=(u,h)=>h.focusDeny&&sn(u.denyButton)?(u.denyButton.focus(),!0):h.focusCancel&&sn(u.cancelButton)?(u.cancelButton.focus(),!0):h.focusConfirm&&sn(u.confirmButton)?(u.confirmButton.focus(),!0):!1,fN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let u=new Date,h=localStorage.getItem("swal-initiation");h?(u.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${u}`)}At.prototype.disableButtons=Hl,At.prototype.enableButtons=Kr,At.prototype.getInput=Ds,At.prototype.disableInput=zl,At.prototype.enableInput=ql,At.prototype.hideLoading=So,At.prototype.disableLoading=So,At.prototype.showValidationMessage=Gl,At.prototype.resetValidationMessage=As,At.prototype.close=Pn,At.prototype.closePopup=Pn,At.prototype.closeModal=Pn,At.prototype.closeToast=Pn,At.prototype.rejectPromise=Vl,At.prototype.update=et,At.prototype._destroy=Ue,Object.assign(At,$P),Object.keys(qn).forEach(u=>{At[u]=function(){return Yr&&Yr[u]?Yr[u](...arguments):null}}),At.DismissReason=Rn,At.version="11.14.5";let Rh=At;return Rh.default=Rh,Rh});typeof fi<"u"&&fi.Sweetalert2&&(fi.swal=fi.sweetAlert=fi.Swal=fi.SweetAlert=fi.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function jI(n,e){return Object.is(n,e)}var Wt=null,Ph=!1,Nh=1,xi=Symbol("SIGNAL");function Ge(n){let e=Wt;return Wt=n,e}function BI(){return Wt}var Ql={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ev(n){if(Ph)throw new Error("");if(Wt===null)return;Wt.consumerOnSignalRead(n);let e=Wt.nextProducerIndex++;if(Vh(Wt),e<Wt.producerNode.length&&Wt.producerNode[e]!==n&&Kl(Wt)){let t=Wt.producerNode[e];Fh(t,Wt.producerIndexOfThis[e])}Wt.producerNode[e]!==n&&(Wt.producerNode[e]=n,Wt.producerIndexOfThis[e]=Kl(Wt)?zI(n,Wt,e):0),Wt.producerLastReadVersion[e]=n.version}function CN(){Nh++}function $I(n){if(!(Kl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Nh)){if(!n.producerMustRecompute(n)&&!Iv(n)){n.dirty=!1,n.lastCleanEpoch=Nh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Nh}}function HI(n){if(n.liveConsumerNode===void 0)return;let e=Ph;Ph=!0;try{for(let t of n.liveConsumerNode)t.dirty||TN(t)}finally{Ph=e}}function qI(){return Wt?.consumerAllowSignalWrites!==!1}function TN(n){n.dirty=!0,HI(n),n.consumerMarkedDirty?.(n)}function kh(n){return n&&(n.nextProducerIndex=0),Ge(n)}function bv(n,e){if(Ge(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Kl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Fh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Iv(n){Vh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||($I(t),r!==t.version))return!0}return!1}function Cv(n){if(Vh(n),Kl(n))for(let e=0;e<n.producerNode.length;e++)Fh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function zI(n,e,t){if(GI(n),n.liveConsumerNode.length===0&&WI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=zI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Fh(n,e){if(GI(n),n.liveConsumerNode.length===1&&WI(n))for(let r=0;r<n.producerNode.length;r++)Fh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Vh(i),i.producerIndexOfThis[r]=e}}function Kl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Vh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function GI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function WI(n){return n.producerNode!==void 0}function KI(n){let e=Object.create(SN);e.computation=n;let t=()=>{if($I(e),Ev(e),e.value===Oh)throw e.error;return e.value};return t[xi]=e,t}var _v=Symbol("UNSET"),wv=Symbol("COMPUTING"),Oh=Symbol("ERRORED"),SN=Ee(K({},Ql),{value:_v,dirty:!0,error:null,equal:jI,producerMustRecompute(n){return n.value===_v||n.value===wv},producerRecomputeValue(n){if(n.value===wv)throw new Error("Detected cycle in computations.");let e=n.value;n.value=wv;let t=kh(n),r;try{r=n.computation()}catch(i){r=Oh,n.error=i}finally{bv(n,t)}if(e!==_v&&e!==Oh&&r!==Oh&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function DN(){throw new Error}var QI=DN;function YI(){QI()}function ZI(n){QI=n}var AN=null;function JI(n){let e=Object.create(eC);e.value=n;let t=()=>(Ev(e),e.value);return t[xi]=e,t}function Tv(n,e){qI()||YI(),n.equal(n.value,e)||(n.value=e,xN(n))}function XI(n,e){qI()||YI(),Tv(n,e(n.value))}var eC=Ee(K({},Ql),{equal:jI,value:void 0});function xN(n){n.version++,CN(),HI(n),AN?.()}function be(n){return typeof n=="function"}function ja(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Lh=ja(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ms(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var It=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(be(r))try{r()}catch(o){e=o instanceof Lh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tC(o)}catch(s){e=e??[],s instanceof Lh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ms(t,e)}remove(e){let{_finalizers:t}=this;t&&Ms(t,e),e instanceof n&&e._removeParent(this)}};It.EMPTY=(()=>{let n=new It;return n.closed=!0,n})();var Sv=It.EMPTY;function Uh(n){return n instanceof It||n&&"closed"in n&&be(n.remove)&&be(n.add)&&be(n.unsubscribe)}function tC(n){be(n)?n():n.unsubscribe()}var Er={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ba={setTimeout(n,e,...t){let{delegate:r}=Ba;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ba;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jh(n){Ba.setTimeout(()=>{let{onUnhandledError:e}=Er;if(e)e(n);else throw n})}function Yl(){}var nC=Dv("C",void 0,void 0);function rC(n){return Dv("E",void 0,n)}function iC(n){return Dv("N",n,void 0)}function Dv(n,e,t){return{kind:n,value:e,error:t}}var Rs=null;function $a(n){if(Er.useDeprecatedSynchronousErrorHandling){let e=!Rs;if(e&&(Rs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Rs;if(Rs=null,t)throw r}}else n()}function oC(n){Er.useDeprecatedSynchronousErrorHandling&&Rs&&(Rs.errorThrown=!0,Rs.error=n)}var Ps=class extends It{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uh(e)&&e.add(this)):this.destination=PN}static create(e,t,r){return new Ha(e,t,r)}next(e){this.isStopped?xv(iC(e),this):this._next(e)}error(e){this.isStopped?xv(rC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xv(nC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MN=Function.prototype.bind;function Av(n,e){return MN.call(n,e)}var Mv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Bh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Bh(r)}else Bh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Bh(t)}}},Ha=class extends Ps{constructor(e,t,r){super();let i;if(be(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Er.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Av(e.next,o),error:e.error&&Av(e.error,o),complete:e.complete&&Av(e.complete,o)}):i=e}this.destination=new Mv(i)}};function Bh(n){Er.useDeprecatedSynchronousErrorHandling?oC(n):jh(n)}function RN(n){throw n}function xv(n,e){let{onStoppedNotification:t}=Er;t&&Ba.setTimeout(()=>t(n,e))}var PN={closed:!0,next:Yl,error:RN,complete:Yl};var qa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zn(n){return n}function Rv(...n){return Pv(n)}function Pv(n){return n.length===0?zn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var $e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ON(t)?t:new Ha(t,r,i);return $a(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=sC(r),new r((i,o)=>{let s=new Ha({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[qa](){return this}pipe(...t){return Pv(t)(this)}toPromise(t){return t=sC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function sC(n){var e;return(e=n??Er.Promise)!==null&&e!==void 0?e:Promise}function NN(n){return n&&be(n.next)&&be(n.error)&&be(n.complete)}function ON(n){return n&&n instanceof Ps||NN(n)&&Uh(n)}function Nv(n){return be(n?.lift)}function He(n){return e=>{if(Nv(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(n,e,t,r,i){return new Ov(n,e,t,r,i)}var Ov=class extends Ps{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function za(){return He((n,e)=>{let t=null;n._refCount++;let r=Oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ga=class extends $e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Nv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new It;let t=this.getSubject();e.add(this.source.subscribe(Oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=It.EMPTY)}return e}refCount(){return za()(this)}};var aC=ja(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var an=(()=>{class n extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new $h(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new aC}next(t){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Sv:(this.currentObservers=null,o.push(t),new It(()=>{this.currentObservers=null,Ms(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new $e;return t.source=this,t}}return n.create=(e,t)=>new $h(e,t),n})(),$h=class extends an{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Sv}};var Kt=class extends an{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kv={now(){return(kv.delegate||Date).now()},delegate:void 0};var Hh=class extends It{constructor(e,t){super()}schedule(e,t=0){return this}};var Zl={setInterval(n,e,...t){let{delegate:r}=Zl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Zl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Wa=class extends Hh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Zl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Zl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ms(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ka=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ka.now=kv.now;var Qa=class extends Ka{constructor(e,t=Ka.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Fv=new Qa(Wa);var qh=class extends Wa{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var zh=class extends Qa{};var Vv=new zh(qh);var Gn=new $e(n=>n.complete());function cC(n){return n&&be(n.schedule)}function lC(n){return n[n.length-1]}function Gh(n){return be(lC(n))?n.pop():void 0}function xo(n){return cC(lC(n))?n.pop():void 0}function Lv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(n,e||[])).next())})}function uC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ns(n){return this instanceof Ns?(this.v=n,this):new Ns(n)}function hC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(S){return function(k){return Promise.resolve(k).then(S,m)}}function a(S,k){r[S]&&(i[S]=function($){return new Promise(function(V,W){o.push([S,$,V,W])>1||l(S,$)})},k&&(i[S]=k(i[S])))}function l(S,k){try{d(r[S](k))}catch($){I(o[0][3],$)}}function d(S){S.value instanceof Ns?Promise.resolve(S.value.v).then(p,m):I(o[0][2],S)}function p(S){l("next",S)}function m(S){l("throw",S)}function I(S,k){S(k),o.shift(),o.length&&l(o[0][0],o[0][1])}}function fC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uC=="function"?uC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Wh=n=>n&&typeof n.length=="number"&&typeof n!="function";function Kh(n){return be(n?.then)}function Qh(n){return be(n[qa])}function Yh(n){return Symbol.asyncIterator&&be(n?.[Symbol.asyncIterator])}function Zh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jh=kN();function Xh(n){return be(n?.[Jh])}function ef(n){return hC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ns(t.read());if(i)return yield Ns(void 0);yield yield Ns(r)}}finally{t.releaseLock()}})}function tf(n){return be(n?.getReader)}function Vt(n){if(n instanceof $e)return n;if(n!=null){if(Qh(n))return FN(n);if(Wh(n))return VN(n);if(Kh(n))return LN(n);if(Yh(n))return pC(n);if(Xh(n))return UN(n);if(tf(n))return jN(n)}throw Zh(n)}function FN(n){return new $e(e=>{let t=n[qa]();if(be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VN(n){return new $e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function LN(n){return new $e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jh)})}function UN(n){return new $e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function pC(n){return new $e(e=>{BN(n,e).catch(t=>e.error(t))})}function jN(n){return pC(ef(n))}function BN(n,e){var t,r,i,o;return dC(this,void 0,void 0,function*(){try{for(t=fC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Nn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Mo(n,e=0){return He((t,r)=>{t.subscribe(Oe(r,i=>Nn(r,n,()=>r.next(i),e),()=>Nn(r,n,()=>r.complete(),e),i=>Nn(r,n,()=>r.error(i),e)))})}function Ro(n,e=0){return He((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function mC(n,e){return Vt(n).pipe(Ro(e),Mo(e))}function gC(n,e){return Vt(n).pipe(Ro(e),Mo(e))}function vC(n,e){return new $e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function yC(n,e){return new $e(t=>{let r;return Nn(t,e,()=>{r=n[Jh](),Nn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}function nf(n,e){if(!n)throw new Error("Iterable cannot be null");return new $e(t=>{Nn(t,e,()=>{let r=n[Symbol.asyncIterator]();Nn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function _C(n,e){return nf(ef(n),e)}function wC(n,e){if(n!=null){if(Qh(n))return mC(n,e);if(Wh(n))return vC(n,e);if(Kh(n))return gC(n,e);if(Yh(n))return nf(n,e);if(Xh(n))return yC(n,e);if(tf(n))return _C(n,e)}throw Zh(n)}function je(n,e){return e?wC(n,e):Vt(n)}function Ce(...n){let e=xo(n);return je(n,e)}function Ya(n,e){let t=be(n)?n:()=>n,r=i=>i.error(t());return new $e(e?i=>e.schedule(r,0,i):r)}function Uv(n){return!!n&&(n instanceof $e||be(n.lift)&&be(n.subscribe))}var Mi=ja(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function me(n,e){return He((t,r)=>{let i=0;t.subscribe(Oe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:$N}=Array;function HN(n,e){return $N(e)?n(...e):n(e)}function rf(n){return me(e=>HN(n,e))}var{isArray:qN}=Array,{getPrototypeOf:zN,prototype:GN,keys:WN}=Object;function of(n){if(n.length===1){let e=n[0];if(qN(e))return{args:e,keys:null};if(KN(e)){let t=WN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function KN(n){return n&&typeof n=="object"&&zN(n)===GN}function sf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function af(...n){let e=xo(n),t=Gh(n),{args:r,keys:i}=of(n);if(r.length===0)return je([],e);let o=new $e(QN(r,e,i?s=>sf(i,s):zn));return t?o.pipe(rf(t)):o}function QN(n,e,t=zn){return r=>{EC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)EC(e,()=>{let d=je(n[l],e),p=!1;d.subscribe(Oe(r,m=>{o[l]=m,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function EC(n,e,t){n?Nn(t,n,e):e()}function bC(n,e,t,r,i,o,s,a){let l=[],d=0,p=0,m=!1,I=()=>{m&&!l.length&&!d&&e.complete()},S=$=>d<r?k($):l.push($),k=$=>{o&&e.next($),d++;let V=!1;Vt(t($,p++)).subscribe(Oe(e,W=>{i?.(W),o?S(W):e.next(W)},()=>{V=!0},void 0,()=>{if(V)try{for(d--;l.length&&d<r;){let W=l.shift();s?Nn(e,s,()=>k(W)):k(W)}I()}catch(W){e.error(W)}}))};return n.subscribe(Oe(e,S,()=>{m=!0,I()})),()=>{a?.()}}function Qt(n,e,t=1/0){return be(e)?Qt((r,i)=>me((o,s)=>e(r,o,i,s))(Vt(n(r,i))),t):(typeof e=="number"&&(t=e),He((r,i)=>bC(r,i,n,t)))}function jv(n=1/0){return Qt(zn,n)}function IC(){return jv(1)}function Za(...n){return IC()(je(n,xo(n)))}function cf(n){return new $e(e=>{Vt(n()).subscribe(e)})}function Bv(...n){let e=Gh(n),{args:t,keys:r}=of(n),i=new $e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let m=!1;Vt(t[p]).subscribe(Oe(o,I=>{m||(m=!0,d--),a[p]=I},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?sf(r,a):a),o.complete())}))}});return e?i.pipe(rf(e)):i}function br(n,e){return He((t,r)=>{let i=0;t.subscribe(Oe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Po(n){return He((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Oe(t,void 0,void 0,s=>{o=Vt(n(s,Po(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function CC(n,e,t,r,i){return(o,s)=>{let a=t,l=e,d=0;o.subscribe(Oe(s,p=>{let m=d++;l=a?n(l,p,m):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Ja(n,e){return be(e)?Qt(n,e,1):Qt(n,1)}function No(n){return He((e,t)=>{let r=!1;e.subscribe(Oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ri(n){return n<=0?()=>Gn:He((e,t)=>{let r=0;e.subscribe(Oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $v(n){return me(()=>n)}function lf(n=YN){return He((e,t)=>{let r=!1;e.subscribe(Oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function YN(){return new Mi}function Jl(n){return He((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Zr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?br((i,o)=>n(i,o,r)):zn,Ri(1),t?No(e):lf(()=>new Mi))}function Xa(n){return n<=0?()=>Gn:He((e,t)=>{let r=[];e.subscribe(Oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hv(n,e){let t=arguments.length>=2;return r=>r.pipe(n?br((i,o)=>n(i,o,r)):zn,Xa(1),t?No(e):lf(()=>new Mi))}function qv(n,e){return He(CC(n,e,arguments.length>=2,!0))}function zv(...n){let e=xo(n);return He((t,r)=>{(e?Za(n,t,e):Za(n,t)).subscribe(r)})}function Ir(n,e){return He((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Oe(r,l=>{i?.unsubscribe();let d=0,p=o++;Vt(n(l,p)).subscribe(i=Oe(r,m=>r.next(e?e(l,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Gv(n){return He((e,t)=>{Vt(n).subscribe(Oe(t,()=>t.complete(),Yl)),!t.closed&&e.subscribe(t)})}function Yt(n,e,t){let r=be(n)||e||t?{next:n,error:e,complete:t}:n;return r?He((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Oe(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):zn}var uT="https://g.co/ng/security#xss",de=class extends Error{constructor(e,t){super(Qy(e,t)),this.code=e}};function Qy(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function du(n){return{toString:n}.toString()}var uf="__parameters__";function ZN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function dT(n,e,t){return du(()=>{let r=ZN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,p){let m=l.hasOwnProperty(uf)?l[uf]:Object.defineProperty(l,uf,{value:[]})[uf];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Xl=globalThis;function st(n){for(let e in n)if(n[e]===st)return e;throw Error("Could not find renamed property on target object.")}function JN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Cn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Cn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function TC(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var XN=st({__forward_ref__:st});function kn(n){return n.__forward_ref__=kn,n.toString=function(){return Cn(this())},n}function In(n){return hT(n)?n():n}function hT(n){return typeof n=="function"&&n.hasOwnProperty(XN)&&n.__forward_ref__===kn}function ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jo(n){return{providers:n.providers||[],imports:n.imports||[]}}function qf(n){return SC(n,pT)||SC(n,mT)}function fT(n){return qf(n)!==null}function SC(n,e){return n.hasOwnProperty(e)?n[e]:null}function eO(n){let e=n&&(n[pT]||n[mT]);return e||null}function DC(n){return n&&(n.hasOwnProperty(AC)||n.hasOwnProperty(tO))?n[AC]:null}var pT=st({\u0275prov:st}),AC=st({\u0275inj:st}),mT=st({ngInjectableDef:st}),tO=st({ngInjectorDef:st}),ue=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gT(n){return n&&!!n.\u0275providers}var nO=st({\u0275cmp:st}),rO=st({\u0275dir:st}),iO=st({\u0275pipe:st}),oO=st({\u0275mod:st}),_f=st({\u0275fac:st}),nu=st({__NG_ELEMENT_ID__:st}),xC=st({__NG_ENV_ID__:st});function Pi(n){return typeof n=="string"?n:n==null?"":String(n)}function sO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Pi(n)}function aO(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new de(-200,n)}function Yy(n,e){throw new de(-201,!1)}var xe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(xe||{}),ay;function vT(){return ay}function On(n){let e=ay;return ay=n,e}function yT(n,e,t){let r=qf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&xe.Optional)return null;if(e!==void 0)return e;Yy(n,"Injector")}var cO={},ru=cO,cy="__NG_DI_FLAG__",wf="ngTempTokenPath",lO="ngTokenPath",uO=/\n/gm,dO="\u0275",MC="__source",rc;function hO(){return rc}function Oo(n){let e=rc;return rc=n,e}function fO(n,e=xe.Default){if(rc===void 0)throw new de(-203,!1);return rc===null?yT(n,void 0,e):rc.get(n,e&xe.Optional?null:void 0,e)}function le(n,e=xe.Default){return(vT()||fO)(In(n),e)}function Z(n,e=xe.Default){return le(n,zf(e))}function zf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ly(n){let e=[];for(let t=0;t<n.length;t++){let r=In(n[t]);if(Array.isArray(r)){if(r.length===0)throw new de(900,!1);let i,o=xe.Default;for(let s=0;s<r.length;s++){let a=r[s],l=pO(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(le(i,o))}else e.push(le(r))}return e}function _T(n,e){return n[cy]=e,n.prototype[cy]=e,n}function pO(n){return n[cy]}function mO(n,e,t,r){let i=n[wf];throw e[MC]&&i.unshift(e[MC]),n.message=gO(`
`+n.message,i,t,r),n[lO]=i,n[wf]=null,n}function gO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==dO?n.slice(2):n;let i=Cn(e);if(Array.isArray(e))i=e.map(Cn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Cn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(uO,`
  `)}`}var Ut=_T(dT("Optional"),8);var wT=_T(dT("SkipSelf"),4);function Fs(n,e){let t=n.hasOwnProperty(_f);return t?n[_f]:null}function Zy(n,e){n.forEach(t=>Array.isArray(t)?Zy(t,e):e(t))}function ET(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ef(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function yO(n,e,t){let r=hu(n,e);return r>=0?n[r|1]=t:(r=~r,vO(n,r,e,t)),r}function Wv(n,e){let t=hu(n,e);if(t>=0)return n[t|1]}function hu(n,e){return _O(n,e,1)}function _O(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var oc={},tr=[],sc=new ue(""),bT=new ue("",-1),IT=new ue(""),bf=class{get(e,t=ru){if(t===ru){let r=new Error(`NullInjectorError: No provider for ${Cn(e)}!`);throw r.name="NullInjectorError",r}return t}},CT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(CT||{}),ei=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ei||{}),Vo=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Vo||{});function wO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function uy(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];bO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function EO(n){return n===3||n===4||n===6}function bO(n){return n.charCodeAt(0)===64}function iu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?RC(n,t,i,null,e[++r]):RC(n,t,i,null,null))}}return n}function RC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var TT="ng-template";function IO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Jy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Jy(n){return n.type===4&&n.value!==TT}function CO(n,e,t){let r=n.type===4&&!t?TT:n.value;return e===r}function TO(n,e,t){let r=4,i=n.attrs,o=i!==null?AO(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Cr(r)&&!Cr(l))return!1;if(s&&Cr(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!CO(n,l,t)||l===""&&e.length===1){if(Cr(r))return!1;s=!0}}else if(r&8){if(i===null||!IO(n,i,l,t)){if(Cr(r))return!1;s=!0}}else{let d=e[++a],p=SO(l,i,Jy(n),t);if(p===-1){if(Cr(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(Cr(r))return!1;s=!0}}}}return Cr(r)||s}function Cr(n){return(n&1)===0}function SO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xO(e,n)}function DO(n,e,t=!1){for(let r=0;r<e.length;r++)if(TO(n,e[r],t))return!0;return!1}function AO(n){for(let e=0;e<n.length;e++){let t=n[e];if(EO(t))return e}return n.length}function xO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function PC(n,e){return n?":not("+e.trim()+")":e}function MO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Cr(s)&&(e+=PC(o,i),i=""),r=s,o=o||!Cr(r);t++}return i!==""&&(e+=PC(o,i)),e}function RO(n){return n.map(MO).join(",")}function PO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:e,classes:t}}function ve(n){return du(()=>{let e=MT(n),t=Ee(K({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===CT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ei.Emulated,styles:n.styles||tr,_:null,schemas:n.schemas||null,tView:null,id:""});RT(t);let r=n.dependencies;return t.directiveDefs=OC(r,!1),t.pipeDefs=OC(r,!0),t.id=kO(t),t})}function NO(n){return Vs(n)||ST(n)}function OO(n){return n!==null}function Bo(n){return du(()=>({type:n.type,bootstrap:n.bootstrap||tr,declarations:n.declarations||tr,imports:n.imports||tr,exports:n.exports||tr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function NC(n,e){if(n==null)return oc;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Vo.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Vo.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ct(n){return du(()=>{let e=MT(n);return RT(e),e})}function gc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Vs(n){return n[nO]||null}function ST(n){return n[rO]||null}function DT(n){return n[iO]||null}function AT(n){let e=Vs(n)||ST(n)||DT(n);return e!==null?e.standalone:!1}function xT(n,e){let t=n[oO]||null;if(!t&&e===!0)throw new Error(`Type ${Cn(n)} does not have '\u0275mod' property.`);return t}function MT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||oc,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||tr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NC(n.inputs,e),outputs:NC(n.outputs),debugInfo:null}}function RT(n){n.features?.forEach(e=>e(n))}function OC(n,e){if(!n)return null;let t=e?DT:NO;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(OO)}function kO(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function or(n){return{\u0275providers:n}}function FO(...n){return{\u0275providers:PT(!0,n),\u0275fromNgModule:!0}}function PT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Zy(e,s=>{let a=s;dy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&NT(i,o),t}function NT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Xy(i,o=>{e(o,r)})}}function dy(n,e,t,r){if(n=In(n),!n)return!1;let i=null,o=DC(n),s=!o&&Vs(n);if(!o&&!s){let l=n.ngModule;if(o=DC(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)dy(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Zy(o.imports,p=>{dy(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&NT(d,e)}if(!a){let d=Fs(i)||(()=>new i);e({provide:i,useFactory:d,deps:tr},i),e({provide:IT,useValue:i,multi:!0},i),e({provide:sc,useValue:()=>le(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=n;Xy(l,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function Xy(n,e){for(let t of n)gT(t)&&(t=t.\u0275providers),Array.isArray(t)?Xy(t,e):e(t)}var VO=st({provide:String,useValue:st});function OT(n){return n!==null&&typeof n=="object"&&VO in n}function LO(n){return!!(n&&n.useExisting)}function UO(n){return!!(n&&n.useFactory)}function ac(n){return typeof n=="function"}function jO(n){return!!n.useClass}var Gf=new ue(""),pf={},BO={},Kv;function e0(){return Kv===void 0&&(Kv=new bf),Kv}var ir=class{},ou=class extends ir{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fy(e,s=>this.processProvider(s)),this.records.set(bT,ec(void 0,this)),i.has("environment")&&this.records.set(ir,ec(void 0,this));let o=this.records.get(Gf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IT,tr,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Oo(this),r=On(void 0),i;try{return e()}finally{Oo(t),On(r)}}get(e,t=ru,r=xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xC))return e[xC](this);r=zf(r);let i,o=Oo(this),s=On(void 0);try{if(!(r&xe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=GO(e)&&qf(e);d&&this.injectableDefInScope(d)?l=ec(hy(e),pf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&xe.Self?e0():this.parent;return t=r&xe.Optional&&t===ru?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[wf]=a[wf]||[]).unshift(Cn(e)),o)throw a;return mO(a,e,"R3InjectorError",this.source)}else throw a}finally{On(s),Oo(o)}}resolveInjectorInitializers(){let e=Ge(null),t=Oo(this),r=On(void 0),i;try{let o=this.get(sc,tr,xe.Self);for(let s of o)s()}finally{Oo(t),On(r),Ge(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Cn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(e){e=In(e);let t=ac(e)?e:In(e&&e.provide),r=HO(e);if(!ac(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ec(void 0,pf,!0),i.factory=()=>ly(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ge(null);try{return t.value===pf&&(t.value=BO,t.value=t.factory()),typeof t.value=="object"&&t.value&&zO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=In(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hy(n){let e=qf(n),t=e!==null?e.factory:Fs(n);if(t!==null)return t;if(n instanceof ue)throw new de(204,!1);if(n instanceof Function)return $O(n);throw new de(204,!1)}function $O(n){if(n.length>0)throw new de(204,!1);let t=eO(n);return t!==null?()=>t.factory(n):()=>new n}function HO(n){if(OT(n))return ec(void 0,n.useValue);{let e=kT(n);return ec(e,pf)}}function kT(n,e,t){let r;if(ac(n)){let i=In(n);return Fs(i)||hy(i)}else if(OT(n))r=()=>In(n.useValue);else if(UO(n))r=()=>n.useFactory(...ly(n.deps||[]));else if(LO(n))r=()=>le(In(n.useExisting));else{let i=In(n&&(n.useClass||n.provide));if(qO(n))r=()=>new i(...ly(n.deps));else return Fs(i)||hy(i)}return r}function ec(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qO(n){return!!n.deps}function zO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function GO(n){return typeof n=="function"||typeof n=="object"&&n instanceof ue}function fy(n,e){for(let t of n)Array.isArray(t)?fy(t,e):t&&gT(t)?fy(t.\u0275providers,e):e(t)}function Vi(n,e){n instanceof ou&&n.assertNotDestroyed();let t,r=Oo(n),i=On(void 0);try{return e()}finally{Oo(r),On(i)}}function WO(){return vT()!==void 0||hO()!=null}function KO(n){return typeof n=="function"}var Li=0,Re=1,_e=2,Tn=3,Tr=4,Ar=5,If=6,Cf=7,Sr=8,cc=9,ti=10,Lt=11,su=12,kC=13,vc=14,ni=15,lc=16,tc=17,uc=18,Wf=19,FT=20,ko=21,Qv=22,nr=23,Dr=25,VT=1;var Ls=7,Tf=8,Sf=9,rr=10,Df=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Df||{});function Fo(n){return Array.isArray(n)&&typeof n[VT]=="object"}function Ui(n){return Array.isArray(n)&&n[VT]===!0}function LT(n){return(n.flags&4)!==0}function Kf(n){return n.componentOffset>-1}function t0(n){return(n.flags&1)===1}function Lo(n){return!!n.template}function py(n){return(n[_e]&512)!==0}var my=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function UT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function ji(){return jT}function jT(n){return n.type.prototype.ngOnChanges&&(n.setInput=YO),QO}ji.ngInherit=!0;function QO(){let n=$T(this),e=n?.current;if(e){let t=n.previous;if(t===oc)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function YO(n,e,t,r,i){let o=this.declaredInputs[r],s=$T(n)||ZO(n,{previous:oc,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new my(d&&d.currentValue,t,l===oc),UT(n,e,i,t)}var BT="__ngSimpleChanges__";function $T(n){return n[BT]||null}function ZO(n,e){return n[BT]=e}var FC=null;var Jr=function(n,e,t){FC?.(n,e,t)},JO="svg",XO="math";function ri(n){for(;Array.isArray(n);)n=n[Li];return n}function HT(n,e){return ri(e[n])}function sr(n,e){return ri(e[n.index])}function qT(n,e){return n.data[e]}function zT(n,e){return n[e]}function $o(n,e){let t=e[n];return Fo(t)?t:t[Li]}function n0(n){return(n[_e]&128)===128}function ek(n){return Ui(n[Tn])}function Af(n,e){return e==null?null:n[e]}function GT(n){n[tc]=0}function WT(n){n[_e]&1024||(n[_e]|=1024,n0(n)&&Yf(n))}function tk(n,e){for(;n>0;)e=e[vc],n--;return e}function Qf(n){return!!(n[_e]&9216||n[nr]?.dirty)}function gy(n){n[ti].changeDetectionScheduler?.notify(8),n[_e]&64&&(n[_e]|=1024),Qf(n)&&Yf(n)}function Yf(n){n[ti].changeDetectionScheduler?.notify(0);let e=Us(n);for(;e!==null&&!(e[_e]&8192||(e[_e]|=8192,!n0(e)));)e=Us(e)}function KT(n,e){if((n[_e]&256)===256)throw new de(911,!1);n[ko]===null&&(n[ko]=[]),n[ko].push(e)}function nk(n,e){if(n[ko]===null)return;let t=n[ko].indexOf(e);t!==-1&&n[ko].splice(t,1)}function Us(n){let e=n[Tn];return Ui(e)?e[Tn]:e}var Me={lFrame:iS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var QT=!1;function rk(){return Me.lFrame.elementDepthCount}function ik(){Me.lFrame.elementDepthCount++}function ok(){Me.lFrame.elementDepthCount--}function YT(){return Me.bindingsEnabled}function sk(){return Me.skipHydrationRootTNode!==null}function ak(n){return Me.skipHydrationRootTNode===n}function ck(){Me.skipHydrationRootTNode=null}function We(){return Me.lFrame.lView}function Sn(){return Me.lFrame.tView}function X(n){return Me.lFrame.contextLView=n,n[Sr]}function ee(n){return Me.lFrame.contextLView=null,n}function Fn(){let n=ZT();for(;n!==null&&n.type===64;)n=n.parent;return n}function ZT(){return Me.lFrame.currentTNode}function lk(){let n=Me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function fu(n,e){let t=Me.lFrame;t.currentTNode=n,t.isParent=e}function JT(){return Me.lFrame.isParent}function uk(){Me.lFrame.isParent=!1}function dk(){return Me.lFrame.contextLView}function XT(){return QT}function VC(n){QT=n}function r0(){let n=Me.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function eS(){return Me.lFrame.bindingIndex}function hk(n){return Me.lFrame.bindingIndex=n}function Zf(){return Me.lFrame.bindingIndex++}function i0(n){let e=Me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fk(){return Me.lFrame.inI18n}function pk(n,e){let t=Me.lFrame;t.bindingIndex=t.bindingRootIndex=n,vy(e)}function mk(){return Me.lFrame.currentDirectiveIndex}function vy(n){Me.lFrame.currentDirectiveIndex=n}function gk(n){let e=Me.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function tS(n){Me.lFrame.currentQueryIndex=n}function vk(n){let e=n[Re];return e.type===2?e.declTNode:e.type===1?n[Ar]:null}function nS(n,e,t){if(t&xe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&xe.Host);)if(i=vk(o),i===null||(o=o[vc],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Me.lFrame=rS();return r.currentTNode=e,r.lView=n,!0}function o0(n){let e=rS(),t=n[Re];Me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function rS(){let n=Me.lFrame,e=n===null?null:n.child;return e===null?iS(n):e}function iS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function oS(){let n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sS=oS;function s0(){let n=oS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function yk(n){return(Me.lFrame.contextLView=tk(n,Me.lFrame.contextLView))[Sr]}function Ho(){return Me.lFrame.selectedIndex}function js(n){Me.lFrame.selectedIndex=n}function Jf(){let n=Me.lFrame;return qT(n.tView,n.selectedIndex)}function _k(){return Me.lFrame.currentNamespace}var aS=!0;function a0(){return aS}function c0(n){aS=n}function wk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=jT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function l0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function mf(n,e,t){cS(n,e,3,t)}function gf(n,e,t,r){(n[_e]&3)===t&&cS(n,e,t,r)}function Yv(n,e){let t=n[_e];(t&3)===e&&(t&=16383,t+=1,n[_e]=t)}function cS(n,e,t,r){let i=r!==void 0?n[tc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[tc]+=65536),(a<o||o==-1)&&(Ek(n,t,e,l),n[tc]=(n[tc]&4294901760)+l+2),l++}function LC(n,e){Jr(4,n,e);let t=Ge(null);try{e.call(n)}finally{Ge(t),Jr(5,n,e)}}function Ek(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[_e]>>14<n[tc]>>16&&(n[_e]&3)===e&&(n[_e]+=16384,LC(a,o)):LC(a,o)}var ic=-1,Bs=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function bk(n){return n instanceof Bs}function Ik(n){return(n.flags&8)!==0}function Ck(n){return(n.flags&16)!==0}var Zv={},yy=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=zf(r);let i=this.injector.get(e,Zv,r);return i!==Zv||t===Zv?i:this.parentInjector.get(e,t,r)}};function lS(n){return n!==ic}function xf(n){return n&32767}function Tk(n){return n>>16}function Mf(n,e){let t=Tk(n),r=e;for(;t>0;)r=r[vc],t--;return r}var _y=!0;function Rf(n){let e=_y;return _y=n,e}var Sk=256,uS=Sk-1,dS=5,Dk=0,Xr={};function Ak(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(nu)&&(r=t[nu]),r==null&&(r=t[nu]=Dk++);let i=r&uS,o=1<<i;e.data[n+(i>>dS)]|=o}function Pf(n,e){let t=hS(n,e);if(t!==-1)return t;let r=e[Re];r.firstCreatePass&&(n.injectorIndex=e.length,Jv(r.data,n),Jv(e,null),Jv(r.blueprint,null));let i=u0(n,e),o=n.injectorIndex;if(lS(i)){let s=xf(i),a=Mf(i,e),l=a[Re].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function Jv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function u0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=vS(i),r===null)return ic;if(t++,i=i[vc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ic}function wy(n,e,t){Ak(n,e,t)}function fS(n,e,t){if(t&xe.Optional||n!==void 0)return n;Yy(e,"NodeInjector")}function pS(n,e,t,r){if(t&xe.Optional&&r===void 0&&(r=null),!(t&(xe.Self|xe.Host))){let i=n[cc],o=On(void 0);try{return i?i.get(e,r,t&xe.Optional):yT(e,r,t&xe.Optional)}finally{On(o)}}return fS(r,e,t)}function mS(n,e,t,r=xe.Default,i){if(n!==null){if(e[_e]&2048&&!(r&xe.Self)){let s=Nk(n,e,t,r,Xr);if(s!==Xr)return s}let o=gS(n,e,t,r,Xr);if(o!==Xr)return o}return pS(e,t,r,i)}function gS(n,e,t,r,i){let o=Rk(t);if(typeof o=="function"){if(!nS(e,n,r))return r&xe.Host?fS(i,t,r):pS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&xe.Optional))Yy(t);else return s}finally{sS()}}else if(typeof o=="number"){let s=null,a=hS(n,e),l=ic,d=r&xe.Host?e[ni][Ar]:null;for((a===-1||r&xe.SkipSelf)&&(l=a===-1?u0(n,e):e[a+8],l===ic||!jC(r,!1)?a=-1:(s=e[Re],a=xf(l),e=Mf(l,e)));a!==-1;){let p=e[Re];if(UC(o,a,p.data)){let m=xk(a,e,t,s,r,d);if(m!==Xr)return m}l=e[a+8],l!==ic&&jC(r,e[Re].data[a+8]===d)&&UC(o,a,e)?(s=p,a=xf(l),e=Mf(l,e)):a=-1}}return i}function xk(n,e,t,r,i,o){let s=e[Re],a=s.data[n+8],l=r==null?Kf(a)&&_y:r!=s&&(a.type&3)!==0,d=i&xe.Host&&o===a,p=Mk(a,s,t,l,d);return p!==null?dc(e,s,p,a):Xr}function Mk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,d=n.directiveEnd,p=o>>20,m=r?a:a+p,I=i?a+p:d;for(let S=m;S<I;S++){let k=s[S];if(S<l&&t===k||S>=l&&k.type===t)return S}if(i){let S=s[l];if(S&&Lo(S)&&S.type===t)return l}return null}function dc(n,e,t,r){let i=n[t],o=e.data;if(bk(i)){let s=i;s.resolving&&aO(sO(o[t]));let a=Rf(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?On(s.injectImpl):null,p=nS(n,r,xe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&wk(t,o[t],e)}finally{d!==null&&On(d),Rf(a),s.resolving=!1,sS()}}return i}function Rk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(nu)?n[nu]:void 0;return typeof e=="number"?e>=0?e&uS:Pk:e}function UC(n,e,t){let r=1<<n;return!!(t[e+(n>>dS)]&r)}function jC(n,e){return!(n&xe.Self)&&!(n&xe.Host&&e)}var ks=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return mS(this._tNode,this._lView,e,zf(r),t)}};function Pk(){return new ks(Fn(),We())}function xr(n){return du(()=>{let e=n.prototype.constructor,t=e[_f]||Ey(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[_f]||Ey(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ey(n){return hT(n)?()=>{let e=Ey(In(n));return e&&e()}:Fs(n)}function Nk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[_e]&2048&&!(s[_e]&512);){let a=gS(o,s,t,r|xe.Self,Xr);if(a!==Xr)return a;let l=o.parent;if(!l){let d=s[FT];if(d){let p=d.get(t,Xr,r);if(p!==Xr)return p}l=vS(s),s=s[vc]}o=l}return i}function vS(n){let e=n[Re],t=e.type;return t===2?e.declTNode:t===1?n[Ar]:null}function BC(n,e=null,t=null,r){let i=yS(n,e,t,r);return i.resolveInjectorInitializers(),i}function yS(n,e=null,t=null,r,i=new Set){let o=[t||tr,FO(n)];return r=r||(typeof n=="object"?void 0:Cn(n)),new ou(o,e||e0(),r||null,i)}var cn=class n{static{this.THROW_IF_NOT_FOUND=ru}static{this.NULL=new bf}static create(e,t){if(Array.isArray(e))return BC({name:""},t,e,"");{let r=e.name??"";return BC({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ie({token:n,providedIn:"any",factory:()=>le(bT)})}static{this.__NG_ELEMENT_ID__=-1}};var Ok=new ue("");Ok.__NG_ELEMENT_ID__=n=>{let e=Fn();if(e===null)throw new de(204,!1);if(e.type&2)return e.value;if(n&xe.Optional)return null;throw new de(204,!1)};var kk="ngOriginalError";function Xv(n){return n[kk]}var _S=!0,wS=(()=>{class n{static{this.__NG_ELEMENT_ID__=Fk}static{this.__NG_ENV_ID__=t=>t}}return n})(),by=class extends wS{constructor(e){super(),this._lView=e}onDestroy(e){return KT(this._lView,e),()=>nk(this._lView,e)}};function Fk(){return new by(We())}var yc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Iy=class extends an{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,WO()&&(this.destroyRef=Z(wS,{optional:!0})??void 0,this.pendingTasks=Z(yc,{optional:!0})??void 0)}emit(e){let t=Ge(null);try{super.next(e)}finally{Ge(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof It&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ze=Iy;function Nf(...n){}function ES(n){let e,t;function r(){n=Nf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function $C(n){return queueMicrotask(()=>n()),()=>{n=Nf}}var d0="isAngularZone",Of=d0+"_ID",Vk=0,tt=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_S}=e;if(typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,jk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(d0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new de(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Lk,Nf,Nf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Lk={};function h0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ES(()=>{n.callbackScheduled=!1,Cy(n),n.isCheckStableRunning=!0,h0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Cy(n)}function jk(n){let e=()=>{Uk(n)},t=Vk++;n._inner=n._inner.fork({name:"angular",properties:{[d0]:!0,[Of]:t,[Of+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Bk(l))return r.invokeTask(o,s,a,l);try{return HC(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),qC(n)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return HC(n),r.invoke(o,s,a,l,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!$k(l)&&e(),qC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Cy(n),h0(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Cy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function HC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qC(n){n._nesting--,h0(n)}var Ty=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Bk(n){return bS(n,"__ignore_ng_zone__")}function $k(n){return bS(n,"__scheduler_tick__")}function bS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ni=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Xv(e);for(;t&&Xv(t);)t=Xv(t);return t||null}},Hk=new ue("",{providedIn:"root",factory:()=>{let n=Z(tt),e=Z(Ni);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function qk(){return Xf(Fn(),We())}function Xf(n,e){return new Mr(sr(n,e))}var Mr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=qk}}return n})();function IS(n){return(n.flags&128)===128}var CS=new Map,zk=0;function Gk(){return zk++}function Wk(n){CS.set(n[Wf],n)}function Sy(n){CS.delete(n[Wf])}var zC="__ngContext__";function $s(n,e){Fo(e)?(n[zC]=e[Wf],Wk(e)):n[zC]=e}function TS(n){return DS(n[su])}function SS(n){return DS(n[Tr])}function DS(n){for(;n!==null&&!Ui(n);)n=n[Tr];return n}var Dy;function AS(n){Dy=n}function Kk(){if(Dy!==void 0)return Dy;if(typeof document<"u")return document;throw new de(210,!1)}var f0=new ue("",{providedIn:"root",factory:()=>Qk}),Qk="ng",p0=new ue(""),qo=new ue("",{providedIn:"platform",factory:()=>"unknown"});var m0=new ue("",{providedIn:"root",factory:()=>Kk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Yk="h",Zk="b";var Jk=()=>null;function g0(n,e,t=!1){return Jk(n,e,t)}var xS=!1,Xk=new ue("",{providedIn:"root",factory:()=>xS});var kf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uT})`}};function ep(n){return n instanceof kf?n.changingThisBreaksApplicationSecurity:n}function MS(n,e){let t=e2(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${uT})`)}return t===e}function e2(n){return n instanceof kf&&n.getTypeName()||null}var t2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function RS(n){return n=String(n),n.match(t2)?n:"unsafe:"+n}var v0=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(v0||{});function vn(n){let e=n2();return e?e.sanitize(v0.URL,n)||"":MS(n,"URL")?ep(n):RS(Pi(n))}function n2(){let n=We();return n&&n[ti].sanitizer}function PS(n){return n instanceof Function?n():n}var Oi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Oi||{}),r2;function y0(n,e){return r2(n,e)}function nc(n,e,t,r,i){if(r!=null){let o,s=!1;Ui(r)?o=r:Fo(r)&&(s=!0,r=r[Li]);let a=ri(r);n===0&&t!==null?i==null?VS(e,t,a):Ff(e,t,a,i||null,!0):n===1&&t!==null?Ff(e,t,a,i||null,!0):n===2?y2(e,a,s):n===3&&e.destroyNode(a),o!=null&&w2(e,n,o,t,i)}}function i2(n,e){return n.createText(e)}function o2(n,e,t){n.setValue(e,t)}function NS(n,e,t){return n.createElement(e,t)}function s2(n,e){OS(n,e),e[Li]=null,e[Ar]=null}function a2(n,e,t,r,i,o){r[Li]=i,r[Ar]=e,tp(n,r,t,1,i,o)}function OS(n,e){e[ti].changeDetectionScheduler?.notify(9),tp(n,e,e[Lt],2,null,null)}function c2(n){let e=n[su];if(!e)return ey(n[Re],n);for(;e;){let t=null;if(Fo(e))t=e[su];else{let r=e[rr];r&&(t=r)}if(!t){for(;e&&!e[Tr]&&e!==n;)Fo(e)&&ey(e[Re],e),e=e[Tn];e===null&&(e=n),Fo(e)&&ey(e[Re],e),t=e&&e[Tr]}e=t}}function l2(n,e,t,r){let i=rr+r,o=t.length;r>0&&(t[i-1][Tr]=e),r<o-rr?(e[Tr]=t[i],ET(t,rr+r,e)):(t.push(e),e[Tr]=null),e[Tn]=t;let s=e[lc];s!==null&&t!==s&&kS(s,e);let a=e[uc];a!==null&&a.insertView(n),gy(e),e[_e]|=128}function kS(n,e){let t=n[Sf],r=e[Tn];if(Fo(r))n[_e]|=Df.HasTransplantedViews;else{let i=r[Tn][ni];e[ni]!==i&&(n[_e]|=Df.HasTransplantedViews)}t===null?n[Sf]=[e]:t.push(e)}function _0(n,e){let t=n[Sf],r=t.indexOf(e);t.splice(r,1)}function Ay(n,e){if(n.length<=rr)return;let t=rr+e,r=n[t];if(r){let i=r[lc];i!==null&&i!==n&&_0(i,r),e>0&&(n[t-1][Tr]=r[Tr]);let o=Ef(n,rr+e);s2(r[Re],r);let s=o[uc];s!==null&&s.detachView(o[Re]),r[Tn]=null,r[Tr]=null,r[_e]&=-129}return r}function FS(n,e){if(!(e[_e]&256)){let t=e[Lt];t.destroyNode&&tp(n,e,t,3,null,null),c2(e)}}function ey(n,e){if(e[_e]&256)return;let t=Ge(null);try{e[_e]&=-129,e[_e]|=256,e[nr]&&Cv(e[nr]),d2(n,e),u2(n,e),e[Re].type===1&&e[Lt].destroy();let r=e[lc];if(r!==null&&Ui(e[Tn])){r!==e[Tn]&&_0(r,e);let i=e[uc];i!==null&&i.detachView(n)}Sy(e)}finally{Ge(t)}}function u2(n,e){let t=n.cleanup,r=e[Cf];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Cf]=null);let i=e[ko];if(i!==null){e[ko]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function d2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Bs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Jr(4,a,l);try{l.call(a)}finally{Jr(5,a,l)}}else{Jr(4,i,o);try{o.call(i)}finally{Jr(5,i,o)}}}}}function h2(n,e,t){return f2(n,e.parent,t)}function f2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Li];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===ei.None||o===ei.Emulated)return null}return sr(r,t)}}function Ff(n,e,t,r,i){n.insertBefore(e,t,r,i)}function VS(n,e,t){n.appendChild(e,t)}function GC(n,e,t,r,i){r!==null?Ff(n,e,t,r,i):VS(n,e,t)}function LS(n,e){return n.parentNode(e)}function p2(n,e){return n.nextSibling(e)}function m2(n,e,t){return v2(n,e,t)}function g2(n,e,t){return n.type&40?sr(n,t):null}var v2=g2,WC;function w0(n,e,t,r){let i=h2(n,r,e),o=e[Lt],s=r.parent||e[Ar],a=m2(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)GC(o,i,t[l],a,!1);else GC(o,i,t,a,!1);WC!==void 0&&WC(o,r,e,t,i)}function eu(n,e){if(e!==null){let t=e.type;if(t&3)return sr(e,n);if(t&4)return xy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return eu(n,r);{let i=n[e.index];return Ui(i)?xy(-1,i):ri(i)}}else{if(t&128)return eu(n,e.next);if(t&32)return y0(e,n)()||ri(n[e.index]);{let r=US(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Us(n[ni]);return eu(i,r)}else return eu(n,e.next)}}}return null}function US(n,e){if(e!==null){let r=n[ni][Ar],i=e.projection;return r.projection[i]}return null}function xy(n,e){let t=rr+n+1;if(t<e.length){let r=e[t],i=r[Re].firstChild;if(i!==null)return eu(r,i)}return e[Ls]}function y2(n,e,t){n.removeChild(null,e,t)}function E0(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&$s(ri(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)E0(n,e,t.child,r,i,o,!1),nc(e,n,i,a,o);else if(l&32){let d=y0(t,r),p;for(;p=d();)nc(e,n,i,p,o);nc(e,n,i,a,o)}else l&16?_2(n,e,r,t,i,o):nc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function tp(n,e,t,r,i,o){E0(t,r,n.firstChild,e,i,o,!1)}function _2(n,e,t,r,i,o){let s=t[ni],l=s[Ar].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];nc(e,n,i,p,o)}else{let d=l,p=s[Tn];IS(r)&&(d.flags|=128),E0(n,e,d,p,i,o,!0)}}function w2(n,e,t,r,i){let o=t[Ls],s=ri(t);o!==s&&nc(e,n,r,o,i);for(let a=rr;a<t.length;a++){let l=t[a];tp(l[Re],l,n,e,r,o)}}function E2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Oi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Oi.Important),n.setStyle(t,r,i,o))}}function b2(n,e,t){n.setAttribute(e,"style",t)}function jS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function BS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&uy(n,e,r),i!==null&&jS(n,e,i),o!==null&&b2(n,e,o)}var ar={};function E(n=1){$S(Sn(),We(),Ho()+n,!1)}function $S(n,e,t,r){if(!r)if((e[_e]&3)===3){let o=n.preOrderCheckHooks;o!==null&&mf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&gf(e,o,0,t)}js(t)}function q(n,e=xe.Default){let t=We();if(t===null)return le(n,e);let r=Fn();return mS(r,t,In(n),e)}function HS(n,e,t,r,i,o){let s=Ge(null);try{let a=null;i&Vo.SignalBased&&(a=e[r][xi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Vo.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):UT(e,a,r,o)}finally{Ge(s)}}function I2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)js(~i);else{let o=i,s=t[++r],a=t[++r];pk(s,o);let l=e[o];a(2,l)}}}finally{js(-1)}}function np(n,e,t,r,i,o,s,a,l,d,p){let m=e.blueprint.slice();return m[Li]=i,m[_e]=r|4|128|8|64,(d!==null||n&&n[_e]&2048)&&(m[_e]|=2048),GT(m),m[Tn]=m[vc]=n,m[Sr]=t,m[ti]=s||n&&n[ti],m[Lt]=a||n&&n[Lt],m[cc]=l||n&&n[cc]||null,m[Ar]=o,m[Wf]=Gk(),m[If]=p,m[FT]=d,m[ni]=e.type==2?n[ni]:m,m}function rp(n,e,t,r,i){let o=n.data[e];if(o===null)o=C2(n,e,t,r,i),fk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=lk();o.injectorIndex=s===null?-1:s.injectorIndex}return fu(o,!0),o}function C2(n,e,t,r,i){let o=ZT(),s=JT(),a=s?o:o&&o.parent,l=n.data[e]=x2(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function qS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zS(n,e,t,r,i){let o=Ho(),s=r&2;try{js(-1),s&&e.length>Dr&&$S(n,e,Dr,!1),Jr(s?2:0,i),t(r,i)}finally{js(o),Jr(s?3:1,i)}}function GS(n,e,t){if(LT(e)){let r=Ge(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Ge(r)}}}function WS(n,e,t){YT()&&(k2(n,e,t,sr(t,e)),(t.flags&64)===64&&JS(n,e,t))}function KS(n,e,t=sr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function QS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=b0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function b0(n,e,t,r,i,o,s,a,l,d,p){let m=Dr+r,I=m+i,S=T2(m,I),k=typeof d=="function"?d():d;return S[Re]={type:n,blueprint:S,template:t,queries:null,viewQuery:a,declTNode:e,data:S.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:k,incompleteFirstPass:!1,ssrId:p}}function T2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ar);return t}function S2(n,e,t,r){let o=r.get(Xk,xS)||t===ei.ShadowDom,s=n.selectRootElement(e,o);return D2(s),s}function D2(n){A2(n)}var A2=()=>null;function x2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sk()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function KC(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=Vo.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?QC(r,t,d,a,l):QC(r,t,d,a)}return r}function QC(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function M2(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,d=null;for(let p=r;p<i;p++){let m=o[p],I=t?t.get(m):null,S=I?I.inputs:null,k=I?I.outputs:null;l=KC(0,m.inputs,p,l,S),d=KC(1,m.outputs,p,d,k);let $=l!==null&&s!==null&&!Jy(e)?G2(l,p,s):null;a.push($)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}function R2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function I0(n,e,t,r,i,o,s,a){let l=sr(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(C0(n,t,p,r,i),Kf(e)&&P2(t,e.index)):e.type&3?(r=R2(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function P2(n,e){let t=$o(e,n);t[_e]&16||(t[_e]|=64)}function YS(n,e,t,r){if(YT()){let i=r===null?null:{"":-1},o=V2(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ZS(n,e,t,s,i,a),i&&L2(t,r,i)}t.mergedAttrs=iu(t.mergedAttrs,t.attrs)}function ZS(n,e,t,r,i,o){for(let d=0;d<r.length;d++)wy(Pf(t,e),n,r[d].type);j2(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,l=qS(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=iu(t.mergedAttrs,p.hostAttrs),B2(n,t,e,l,p),U2(l,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}M2(n,t,o)}function N2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;O2(s)!=a&&s.push(a),s.push(t,r,o)}}function O2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function k2(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Kf(t)&&$2(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Pf(t,e),$s(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],d=dc(e,n,a,t);if($s(d,e),s!==null&&z2(e,a-i,d,l,t,s),Lo(l)){let p=$o(t.index,e);p[Sr]=dc(e,n,a,t)}}}function JS(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=mk();try{js(o);for(let a=r;a<i;a++){let l=n.data[a],d=e[a];vy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&F2(l,d)}}finally{js(-1),vy(s)}}function F2(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function V2(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(DO(e,s.selectors,!1))if(r||(r=[]),Lo(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;My(n,e,l)}else r.unshift(s),My(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function My(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function L2(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new de(-301,!1);r.push(e[i],o)}}}function U2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Lo(e)&&(t[""]=n)}}function j2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function B2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Fs(i.type,!0)),s=new Bs(o,Lo(i),q);n.blueprint[r]=s,t[r]=s,N2(n,e,r,qS(n,t,i.hostVars,ar),i)}function $2(n,e,t){let r=sr(e,n),i=QS(t),o=n[ti].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=ip(n,np(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function H2(n,e,t,r,i,o){let s=sr(n,e);q2(e[Lt],s,o,n.value,t,r,i)}function q2(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Pi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function z2(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],p=s[a++],m=s[a++];HS(r,t,l,d,p,m)}}function G2(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function XS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function eD(n,e){let t=n.contentQueries;if(t!==null){let r=Ge(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];tS(o),a.contentQueries(2,e[s],s)}}}finally{Ge(r)}}}function ip(n,e){return n[su]?n[kC][Tr]=e:n[su]=e,n[kC]=e,e}function Ry(n,e,t){tS(0);let r=Ge(null);try{e(n,t)}finally{Ge(r)}}function W2(n){return n[Cf]??=[]}function K2(n){return n.cleanup??=[]}function tD(n,e){let t=n[cc],r=t?t.get(Ni,null):null;r&&r.handleError(e)}function C0(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],d=e[s],p=n.data[s];HS(p,d,r,a,l,i)}}function T0(n,e,t){let r=HT(e,n);o2(n[Lt],r,t)}function Q2(n,e){let t=$o(e,n),r=t[Re];Y2(r,t);let i=t[Li];i!==null&&t[If]===null&&(t[If]=g0(i,t[cc])),S0(r,t,t[Sr])}function Y2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function S0(n,e,t){o0(e);try{let r=n.viewQuery;r!==null&&Ry(1,r,t);let i=n.template;i!==null&&zS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[uc]?.finishViewCreation(n),n.staticContentQueries&&eD(n,e),n.staticViewQueries&&Ry(2,n.viewQuery,t);let o=n.components;o!==null&&Z2(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[_e]&=-5,s0()}}function Z2(n,e){for(let t=0;t<e.length;t++)Q2(n,e[t])}function J2(n,e,t,r){let i=Ge(null);try{let o=e.tView,a=n[_e]&4096?4096:16,l=np(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];l[lc]=d;let p=n[uc];return p!==null&&(l[uc]=p.createEmbeddedView(o)),S0(o,l,t),l}finally{Ge(i)}}function YC(n,e){return!e||e.firstChild===null||IS(n)}function X2(n,e,t,r=!0){let i=e[Re];if(l2(i,e,n,t),r){let s=xy(t,n),a=e[Lt],l=LS(a,n[Ls]);l!==null&&a2(i,n[Ar],a,e,l,s)}let o=e[If];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Vf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ri(o)),Ui(o)&&eF(o,r);let s=t.type;if(s&8)Vf(n,e,t.child,r);else if(s&32){let a=y0(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=US(e,t);if(Array.isArray(a))r.push(...a);else{let l=Us(e[ni]);Vf(l[Re],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function eF(n,e){for(let t=rr;t<n.length;t++){let r=n[t],i=r[Re].firstChild;i!==null&&Vf(r[Re],r,i,e)}n[Ls]!==n[Li]&&e.push(n[Ls])}var nD=[];function tF(n){return n[nr]??nF(n)}function nF(n){let e=nD.pop()??Object.create(iF);return e.lView=n,e}function rF(n){n.lView[nr]!==n&&(n.lView=null,nD.push(n))}var iF=Ee(K({},Ql),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Yf(n.lView)},consumerOnSignalRead(){this.lView[nr]=this}});function oF(n){let e=n[nr]??Object.create(sF);return e.lView=n,e}var sF=Ee(K({},Ql),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Us(n.lView);for(;e&&!rD(e[Re]);)e=Us(e);e&&WT(e)},consumerOnSignalRead(){this.lView[nr]=this}});function rD(n){return n.type!==2}var aF=100;function iD(n,e=!0,t=0){let r=n[ti],i=r.rendererFactory,o=!1;o||i.begin?.();try{cF(n,t)}catch(s){throw e&&tD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function cF(n,e){let t=XT();try{VC(!0),Py(n,e);let r=0;for(;Qf(n);){if(r===aF)throw new de(103,!1);r++,Py(n,1)}}finally{VC(t)}}function lF(n,e,t,r){let i=e[_e];if((i&256)===256)return;let o=!1,s=!1;!o&&e[ti].inlineEffectRunner?.flush(),o0(e);let a=!0,l=null,d=null;o||(rD(n)?(d=tF(e),l=kh(d)):BI()===null?(a=!1,d=oF(e),l=kh(d)):e[nr]&&(Cv(e[nr]),e[nr]=null));try{GT(e),hk(n.bindingStartIndex),t!==null&&zS(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let S=n.preOrderCheckHooks;S!==null&&mf(e,S,null)}else{let S=n.preOrderHooks;S!==null&&gf(e,S,0,null),Yv(e,0)}if(s||uF(e),oD(e,0),n.contentQueries!==null&&eD(n,e),!o)if(p){let S=n.contentCheckHooks;S!==null&&mf(e,S)}else{let S=n.contentHooks;S!==null&&gf(e,S,1),Yv(e,1)}I2(n,e);let m=n.components;m!==null&&aD(e,m,0);let I=n.viewQuery;if(I!==null&&Ry(2,I,r),!o)if(p){let S=n.viewCheckHooks;S!==null&&mf(e,S)}else{let S=n.viewHooks;S!==null&&gf(e,S,2),Yv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qv]){for(let S of e[Qv])S();e[Qv]=null}o||(e[_e]&=-73)}catch(p){throw o||Yf(e),p}finally{d!==null&&(bv(d,l),a&&rF(d)),s0()}}function oD(n,e){for(let t=TS(n);t!==null;t=SS(t))for(let r=rr;r<t.length;r++){let i=t[r];sD(i,e)}}function uF(n){for(let e=TS(n);e!==null;e=SS(e)){if(!(e[_e]&Df.HasTransplantedViews))continue;let t=e[Sf];for(let r=0;r<t.length;r++){let i=t[r];WT(i)}}}function dF(n,e,t){let r=$o(e,n);sD(r,t)}function sD(n,e){n0(n)&&Py(n,e)}function Py(n,e){let r=n[Re],i=n[_e],o=n[nr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Iv(o)),s||=!1,o&&(o.dirty=!1),n[_e]&=-9217,s)lF(r,n,r.template,n[Sr]);else if(i&8192){oD(n,1);let a=r.components;a!==null&&aD(n,a,1)}}function aD(n,e,t){for(let r=0;r<e.length;r++)dF(n,e[r],t)}function D0(n,e){let t=XT()?64:1088;for(n[ti].changeDetectionScheduler?.notify(e);n;){n[_e]|=t;let r=Us(n);if(py(n)&&!r)return n;n=r}return null}var Hs=class{get rootNodes(){let e=this._lView,t=e[Re];return Vf(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sr]}set context(e){this._lView[Sr]=e}get destroyed(){return(this._lView[_e]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tn];if(Ui(e)){let t=e[Tf],r=t?t.indexOf(this):-1;r>-1&&(Ay(e,r),Ef(t,r))}this._attachedToViewContainer=!1}FS(this._lView[Re],this._lView)}onDestroy(e){KT(this._lView,e)}markForCheck(){D0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_e]&=-129}reattach(){gy(this._lView),this._lView[_e]|=128}detectChanges(){this._lView[_e]|=1024,iD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=py(this._lView),t=this._lView[lc];t!==null&&!e&&_0(t,this._lView),OS(this._lView[Re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=e;let t=py(this._lView),r=this._lView[lc];r!==null&&!t&&kS(r,this._lView),gy(this._lView)}},op=(()=>{class n{static{this.__NG_ELEMENT_ID__=pF}}return n})(),hF=op,fF=class extends hF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=J2(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Hs(i)}};function pF(){return cD(Fn(),We())}function cD(n,e){return n.type&4?new fF(e,n,Xf(n,e)):null}var PZ=new RegExp(`^(\\d+)*(${Zk}|${Yk})*(.*)`);var mF=()=>null;function ZC(n,e){return mF(n,e)}var hc=class{},sp=new ue("",{providedIn:"root",factory:()=>!1});var lD=new ue(""),uD=new ue(""),Ny=class{},Lf=class{};function gF(n){let e=Error(`No component factory found for ${Cn(n)}.`);return e[vF]=n,e}var vF="ngComponent";var Oy=class{resolveComponentFactory(e){throw gF(e)}},fc=class{static{this.NULL=new Oy}},pc=class{},ii=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>yF()}}return n})();function yF(){let n=We(),e=Fn(),t=$o(e.index,n);return(Fo(t)?t:n)[Lt]}var _F=(()=>{class n{static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>null})}}return n})();function ky(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=TC(i,a);else if(o==2){let l=a,d=e[++s];r=TC(r,l+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Uf=class extends fc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Vs(e);return new au(t,this.ngModule)}};function JC(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Vo.None;e?t.push({propName:s,templateName:r,isSignal:(a&Vo.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function wF(n){let e=n.toLowerCase();return e==="svg"?JO:e==="math"?XO:null}var au=class extends Lf{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=JC(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return JC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=RO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ge(null);try{i=i||this.ngModule;let s=i instanceof ir?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new yy(e,s):e,l=a.get(pc,null);if(l===null)throw new de(407,!1);let d=a.get(_F,null),p=a.get(hc,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},I=l.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=r?S2(I,r,this.componentDef.encapsulation,a):NS(I,S,wF(S)),$=512;this.componentDef.signals?$|=4096:this.componentDef.onPush||($|=16);let V=null;k!==null&&(V=g0(k,a,!0));let W=b0(0,null,null,1,0,null,null,null,null,null,null),re=np(null,W,null,$,null,null,m,I,a,null,V);o0(re);let te,se,De=null;try{let ce=this.componentDef,R,D=null;ce.findHostDirectiveDefs?(R=[],D=new Map,ce.findHostDirectiveDefs(ce,R,D),R.push(ce)):R=[ce];let x=EF(re,k);De=bF(x,k,ce,R,re,m,I),se=qT(W,Dr),k&&TF(I,ce,k,r),t!==void 0&&SF(se,this.ngContentSelectors,t),te=CF(De,ce,R,D,re,[DF]),S0(W,re,null)}catch(ce){throw De!==null&&Sy(De),Sy(re),ce}finally{s0()}return new Fy(this.componentType,te,Xf(se,re),re,se)}finally{Ge(o)}}},Fy=class extends Ny{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Hs(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;C0(o[Re],o,i,e,t),this.previousInputValues.set(e,t);let s=$o(this._tNode.index,o);D0(s,1)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EF(n,e){let t=n[Re],r=Dr;return n[r]=e,rp(t,r,2,"#host",null)}function bF(n,e,t,r,i,o,s){let a=i[Re];IF(r,n,e,s);let l=null;e!==null&&(l=g0(e,i[cc]));let d=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let m=np(i,QS(t),null,p,i[n.index],n,o,d,null,null,l);return a.firstCreatePass&&My(a,n,r.length-1),ip(i,m),i[n.index]=m}function IF(n,e,t,r){for(let i of n)e.mergedAttrs=iu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ky(e,e.mergedAttrs,!0),t!==null&&BS(r,t,e))}function CF(n,e,t,r,i,o){let s=Fn(),a=i[Re],l=sr(s,i);ZS(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let m=s.directiveStart+p,I=dc(i,a,m,s);$s(I,i)}JS(a,i,s),l&&$s(l,i);let d=dc(i,a,s.directiveStart+s.componentOffset,s);if(n[Sr]=i[Sr]=d,o!==null)for(let p of o)p(d,e);return GS(a,s,i),d}function TF(n,e,t,r){if(r)uy(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=PO(e.selectors[0]);i&&uy(n,t,i),o&&o.length>0&&jS(n,t,o.join(" "))}}function SF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function DF(){let n=Fn();l0(We()[Re],n)}var _c=(()=>{class n{static{this.__NG_ELEMENT_ID__=AF}}return n})();function AF(){let n=Fn();return MF(n,We())}var xF=_c,dD=class extends xF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Xf(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){let e=u0(this._hostTNode,this._hostLView);if(lS(e)){let t=Mf(e,this._hostLView),r=xf(e),i=t[Re].data[r+8];return new ks(i,t)}else return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=XC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-rr}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ZC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,YC(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!KO(e),a;if(s)a=t;else{let k=t||{};a=k.index,r=k.injector,i=k.projectableNodes,o=k.environmentInjector||k.ngModuleRef}let l=s?e:new au(Vs(e)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let $=(s?d:this.parentInjector).get(ir,null);$&&(o=$)}let p=Vs(l.componentType??{}),m=ZC(this._lContainer,p?.id??null),I=m?.firstChild??null,S=l.create(d,i,I,o);return this.insertImpl(S.hostView,a,YC(this._hostTNode,m)),S}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(ek(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Tn],d=new dD(l,l[Ar],l[Tn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return X2(s,i,o,r),e.attachToViewContainerRef(),ET(ty(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=XC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ay(this._lContainer,t);r&&(Ef(ty(this._lContainer),t),FS(r[Re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ay(this._lContainer,t);return r&&Ef(ty(this._lContainer),t)!=null?new Hs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function XC(n){return n[Tf]}function ty(n){return n[Tf]||(n[Tf]=[])}function MF(n,e){let t,r=e[n.index];return Ui(r)?t=r:(t=XS(r,e,null,n),e[n.index]=t,ip(e,t)),PF(t,e,n,r),new dD(t,n,e)}function RF(n,e){let t=n[Lt],r=t.createComment(""),i=sr(e,n),o=LS(t,i);return Ff(t,o,r,p2(t,i),!1),r}var PF=kF,NF=()=>!1;function OF(n,e,t){return NF(n,e,t)}function kF(n,e,t,r){if(n[Ls])return;let i;t.type&8?i=ri(r):i=RF(e,t),n[Ls]=i}var eT=new Set;function pu(n){eT.has(n)||(eT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function FF(n){return typeof n=="function"&&n[xi]!==void 0}function mu(n,e){pu("NgSignals");let t=JI(n),r=t[xi];return e?.equal&&(r.equal=e.equal),t.set=i=>Tv(r,i),t.update=i=>XI(r,i),t.asReadonly=VF.bind(t),t}function VF(){let n=this[xi];if(n.readonlyFn===void 0){let e=()=>this();e[xi]=n,n.readonlyFn=e}return n.readonlyFn}function hD(n){return FF(n)&&typeof n.set=="function"}function LF(n){return Object.getPrototypeOf(n.prototype).constructor}function yn(n){let e=LF(n.type),t=!0,r=[n];for(;e;){let i;if(Lo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new de(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=df(n.inputs),s.inputTransforms=df(n.inputTransforms),s.declaredInputs=df(n.declaredInputs),s.outputs=df(n.outputs);let a=i.hostBindings;a&&HF(n,a);let l=i.viewQuery,d=i.contentQueries;if(l&&BF(n,l),d&&$F(n,d),UF(n,i),JN(n.outputs,i.outputs),Lo(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===yn&&(t=!1)}}e=Object.getPrototypeOf(e)}jF(r)}function UF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function jF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=iu(i.hostAttrs,t=iu(t,i.hostAttrs))}}function df(n){return n===oc?{}:n===tr?[]:n}function BF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $F(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function HF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Uo=class{},cu=class{};var Vy=class extends Uo{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uf(this);let o=xT(e);this._bootstrapComponents=PS(o.bootstrap),this._r3Injector=yS(e,t,[{provide:Uo,useValue:this},{provide:fc,useValue:this.componentFactoryResolver},...r],Cn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ly=class extends cu{constructor(e){super(),this.moduleType=e}create(e){return new Vy(this.moduleType,e,[])}};var jf=class extends Uo{constructor(e){super(),this.componentFactoryResolver=new Uf(this),this.instance=null;let t=new ou([...e.providers,{provide:Uo,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],e.parent||e0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function A0(n,e,t=null){return new jf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function fD(n){return zF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function qF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function zF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function x0(n,e,t){return n[e]=t}function ki(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function lu(n,e,t,r){let i=ki(n,e,t);return ki(n,e+1,r)||i}function GF(n,e,t,r,i){let o=lu(n,e,t,r);return ki(n,e+2,i)||o}function WF(n,e,t,r,i,o){let s=lu(n,e,t,r);return lu(n,e+2,i,o)||s}function KF(n){return(n.flags&32)===32}function QF(n,e,t,r,i,o,s,a,l){let d=e.consts,p=rp(e,n,4,s||null,a||null);YS(e,t,p,Af(d,l)),l0(e,p);let m=p.tView=b0(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function YF(n,e,t,r,i,o,s,a,l,d){let p=t+Dr,m=e.firstCreatePass?QF(p,e,n,r,i,o,s,a,l):e.data[p];fu(m,!1);let I=ZF(e,n,m,t);a0()&&w0(e,n,I,m),$s(I,n);let S=XS(I,n,I,m);return n[p]=S,ip(n,S),OF(S,m,n),t0(m)&&WS(e,n,m),l!=null&&KS(n,m,d),m}function H(n,e,t,r,i,o,s,a){let l=We(),d=Sn(),p=Af(d.consts,o);return YF(l,d,n,e,t,r,i,p,s,a),H}var ZF=JF;function JF(n,e,t,r){return c0(!0),e[Lt].createComment("")}var tu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(tu||{}),XF=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}}return n})(),tT=class n{constructor(){this.ngZone=Z(tt),this.scheduler=Z(hc),this.errorHandler=Z(Ni,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[tu.EarlyRead,tu.Write,tu.MixedReadWrite,tu.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}};function ap(n,e,t,r){let i=We(),o=Zf();if(ki(i,o,e)){let s=Sn(),a=Jf();H2(a,i,n,e,t,r)}return ap}function pD(n,e,t,r){return ki(n,Zf(),t)?e+Pi(t)+r:ar}function eV(n,e,t,r,i,o){let s=eS(),a=lu(n,s,t,i);return i0(2),a?e+Pi(t)+r+Pi(i)+o:ar}function tV(n,e,t,r,i,o,s,a){let l=eS(),d=GF(n,l,t,i,s);return i0(3),d?e+Pi(t)+r+Pi(i)+o+Pi(s)+a:ar}function hf(n,e){return n<<17|e<<2}function qs(n){return n>>17&32767}function nV(n){return(n&2)==2}function rV(n,e){return n&131071|e<<17}function Uy(n){return n|2}function mc(n){return(n&131068)>>2}function ny(n,e){return n&-131069|e<<2}function iV(n){return(n&1)===1}function jy(n){return n|1}function oV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=qs(s),l=mc(s);n[r]=t;let d=!1,p;if(Array.isArray(t)){let m=t;p=m[1],(p===null||hu(m,p)>0)&&(d=!0)}else p=t;if(i)if(l!==0){let I=qs(n[a+1]);n[r+1]=hf(I,a),I!==0&&(n[I+1]=ny(n[I+1],r)),n[a+1]=rV(n[a+1],r)}else n[r+1]=hf(a,0),a!==0&&(n[a+1]=ny(n[a+1],r)),a=r;else n[r+1]=hf(l,0),a===0?a=r:n[l+1]=ny(n[l+1],r),l=r;d&&(n[r+1]=Uy(n[r+1])),nT(n,p,r,!0),nT(n,p,r,!1),sV(e,p,n,r,o),s=hf(a,l),o?e.classBindings=s:e.styleBindings=s}function sV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&hu(o,e)>=0&&(t[r+1]=jy(t[r+1]))}function nT(n,e,t,r){let i=n[t+1],o=e===null,s=r?qs(i):mc(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],d=n[s+1];aV(l,e)&&(a=!0,n[s+1]=r?jy(d):Uy(d)),s=r?qs(d):mc(d)}a&&(n[t+1]=r?Uy(i):jy(i))}function aV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?hu(n,e)>=0:!1}function A(n,e,t){let r=We(),i=Zf();if(ki(r,i,e)){let o=Sn(),s=Jf();I0(o,s,r,n,e,r[Lt],t,!1)}return A}function rT(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";C0(n,t,o[s],s,r)}function cp(n,e){return cV(n,e,null,!0),cp}function cV(n,e,t,r){let i=We(),o=Sn(),s=i0(2);if(o.firstUpdatePass&&uV(o,n,s,r),e!==ar&&ki(i,s,e)){let a=o.data[Ho()];mV(o,a,i,i[Lt],n,i[s+1]=gV(e,t),r,s)}}function lV(n,e){return e>=n.expandoStartIndex}function uV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ho()],s=lV(n,t);vV(o,r)&&e===null&&!s&&(e=!1),e=dV(i,o,e,r),oV(i,o,e,t,s,r)}}function dV(n,e,t,r){let i=gk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ry(null,n,e,t,r),t=uu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ry(i,n,e,t,r),o===null){let l=hV(n,e,r);l!==void 0&&Array.isArray(l)&&(l=ry(null,n,e,l[1],r),l=uu(l,e.attrs,r),fV(n,e,r,l))}else o=pV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function hV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(mc(r)!==0)return n[qs(r)]}function fV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[qs(i)]=r}function pV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=uu(r,s,t)}return uu(r,e.attrs,t)}function ry(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=uu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function uu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),yO(n,s,t?!0:e[++o]))}return n===void 0?null:n}function mV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,d=l[a+1],p=iV(d)?iT(l,e,t,i,mc(d),s):void 0;if(!Bf(p)){Bf(o)||nV(d)&&(o=iT(l,null,t,i,a,s));let m=HT(Ho(),t);E2(r,s,m,i,o)}}function iT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],d=Array.isArray(l),p=d?l[1]:l,m=p===null,I=t[i+1];I===ar&&(I=m?tr:void 0);let S=m?Wv(I,r):p===r?I:void 0;if(d&&!Bf(S)&&(S=Wv(l,r)),Bf(S)&&(a=S,s))return a;let k=n[i+1];i=s?qs(k):mc(k)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Wv(l,r))}return a}function Bf(n){return n!==void 0}function gV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Cn(ep(n)))),n}function vV(n,e){return(n.flags&(e?8:16))!==0}function yV(n,e,t,r,i,o){let s=e.consts,a=Af(s,i),l=rp(e,n,2,r,a);return YS(e,t,l,Af(s,o)),l.attrs!==null&&ky(l,l.attrs,!1),l.mergedAttrs!==null&&ky(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function _(n,e,t,r){let i=We(),o=Sn(),s=Dr+n,a=i[Lt],l=o.firstCreatePass?yV(s,o,i,e,t,r):o.data[s],d=_V(o,i,l,a,e,n);i[s]=d;let p=t0(l);return fu(l,!0),BS(a,d,l),!KF(l)&&a0()&&w0(o,i,d,l),rk()===0&&$s(d,i),ik(),p&&(WS(o,i,l),GS(o,l,i)),r!==null&&KS(i,l),_}function v(){let n=Fn();JT()?uk():(n=n.parent,fu(n,!1));let e=n;ak(e)&&ck(),ok();let t=Sn();return t.firstCreatePass&&(l0(t,n),LT(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Ik(e)&&rT(t,e,We(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ck(e)&&rT(t,e,We(),e.stylesWithoutHost,!1),v}function B(n,e,t,r){return _(n,e,t,r),v(),B}var _V=(n,e,t,r,i,o)=>(c0(!0),NS(r,i,_k()));function oe(){return We()}var Os=void 0;function wV(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var EV=["en",[["a","p"],["AM","PM"],Os],[["AM","PM"],Os,Os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Os,"{1} 'at' {0}",Os],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",wV],iy={};function cr(n){let e=bV(n),t=oT(e);if(t)return t;let r=e.split("-")[0];if(t=oT(r),t)return t;if(r==="en")return EV;throw new de(701,!1)}function oT(n){return n in iy||(iy[n]=Xl.ng&&Xl.ng.common&&Xl.ng.common.locales&&Xl.ng.common.locales[n]),iy[n]}var xt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(xt||{});function bV(n){return n.toLowerCase().replace(/_/g,"-")}var $f="en-US";var IV=$f;function CV(n){typeof n=="string"&&(IV=n.toLowerCase().replace(/_/g,"-"))}var TV=(n,e,t)=>{};function G(n,e,t,r){let i=We(),o=Sn(),s=Fn();return mD(o,i,i[Lt],s,n,e,r),G}function SV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Cf],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function mD(n,e,t,r,i,o,s){let a=t0(r),d=n.firstCreatePass&&K2(n),p=e[Sr],m=W2(e),I=!0;if(r.type&3||s){let $=sr(r,e),V=s?s($):$,W=m.length,re=s?se=>s(ri(se[r.index])):r.index,te=null;if(!s&&a&&(te=SV(n,e,i,r.index)),te!==null){let se=te.__ngLastListenerFn__||te;se.__ngNextListenerFn__=o,te.__ngLastListenerFn__=o,I=!1}else{o=aT(r,e,p,o),TV($,i,o);let se=t.listen(V,i,o);m.push(o,se),d&&d.push(i,re,W,W+1)}}else o=aT(r,e,p,o);let S=r.outputs,k;if(I&&S!==null&&(k=S[i])){let $=k.length;if($)for(let V=0;V<$;V+=2){let W=k[V],re=k[V+1],De=e[W][re].subscribe(o),ce=m.length;m.push(o,De),d&&d.push(i,r.index,ce,-(ce+1))}}}function sT(n,e,t,r){let i=Ge(null);try{return Jr(6,e,t),t(r)!==!1}catch(o){return tD(n,o),!1}finally{Jr(7,e,t),Ge(i)}}function aT(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?$o(n.index,e):e;D0(s,5);let a=sT(e,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=sT(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function L(n=1){return yk(n)}function gu(n,e,t,r,i){let o=We(),s=pD(o,e,t,r);if(s!==ar){let a=Sn(),l=Jf();I0(a,l,o,n,s,o[Lt],i,!1)}return gu}function DV(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function gD(n){let e=dk();return zT(e,Dr+n)}function w(n,e=""){let t=We(),r=Sn(),i=n+Dr,o=r.firstCreatePass?rp(r,i,1,e,null):r.data[i],s=AV(r,t,o,e,n);t[i]=s,a0()&&w0(r,t,s,o),fu(o,!1)}var AV=(n,e,t,r,i)=>(c0(!0),i2(e[Lt],r));function ke(n){return he("",n,""),ke}function he(n,e,t){let r=We(),i=pD(r,n,e,t);return i!==ar&&T0(r,Ho(),i),he}function Ke(n,e,t,r,i){let o=We(),s=eV(o,n,e,t,r,i);return s!==ar&&T0(o,Ho(),s),Ke}function vu(n,e,t,r,i,o,s){let a=We(),l=tV(a,n,e,t,r,i,o,s);return l!==ar&&T0(a,Ho(),l),vu}function ln(n,e,t){hD(e)&&(e=e());let r=We(),i=Zf();if(ki(r,i,e)){let o=Sn(),s=Jf();I0(o,s,r,n,e,r[Lt],t,!1)}return ln}function _n(n,e){let t=hD(n);return t&&n.set(e),t}function un(n,e){let t=We(),r=Sn(),i=Fn();return mD(r,t,t[Lt],i,n,e),un}function xV(n,e,t){let r=Sn();if(r.firstCreatePass){let i=Lo(n);By(t,r.data,r.blueprint,i,!0),By(e,r.data,r.blueprint,i,!1)}}function By(n,e,t,r,i){if(n=In(n),Array.isArray(n))for(let o=0;o<n.length;o++)By(n[o],e,t,r,i);else{let o=Sn(),s=We(),a=Fn(),l=ac(n)?n:In(n.provide),d=kT(n),p=a.providerIndexes&1048575,m=a.directiveStart,I=a.providerIndexes>>20;if(ac(n)||!n.multi){let S=new Bs(d,i,q),k=sy(l,e,i?p:p+I,m);k===-1?(wy(Pf(a,s),o,l),oy(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(S),s.push(S)):(t[k]=S,s[k]=S)}else{let S=sy(l,e,p+I,m),k=sy(l,e,p,p+I),$=S>=0&&t[S],V=k>=0&&t[k];if(i&&!V||!i&&!$){wy(Pf(a,s),o,l);let W=PV(i?RV:MV,t.length,i,r,d);!i&&V&&(t[k].providerFactory=W),oy(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(W),s.push(W)}else{let W=vD(t[i?k:S],d,!i&&r);oy(o,n,S>-1?S:k,W)}!i&&r&&V&&t[k].componentProviders++}}}function oy(n,e,t,r){let i=ac(e),o=jO(e);if(i||o){let l=(o?In(e.useClass):e).prototype.ngOnDestroy;if(l){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,l]):d[p+1].push(r,l)}else d.push(t,l)}}}function vD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function sy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function MV(n,e,t,r){return $y(this.multi,[])}function RV(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=dc(t,t[Re],this.providerFactory.index,r);o=a.slice(0,s),$y(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],$y(i,o);return o}function $y(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function PV(n,e,t,r,i){let o=new Bs(n,t,q);return o.multi=[],o.index=e,o.componentProviders=0,vD(o,i,r&&!t),o}function Vn(n,e=[]){return t=>{t.providersResolver=(r,i)=>xV(r,i?i(n):n,e)}}var NV=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=PT(!1,t.type),i=r.length>0?A0([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ie({token:n,providedIn:"environment",factory:()=>new n(le(ir))})}}return n})();function ye(n){pu("NgStandalone"),n.getStandaloneInjector=e=>e.get(NV).getOrCreateStandaloneInjector(n)}function yD(n,e,t,r){return OV(We(),r0(),n,e,t,r)}function _D(n,e,t,r,i,o,s){return FV(We(),r0(),n,e,t,r,i,o,s)}function M0(n,e){let t=n[e];return t===ar?void 0:t}function OV(n,e,t,r,i,o){let s=e+t;return ki(n,s,i)?x0(n,s+1,o?r.call(o,i):r(i)):M0(n,s+1)}function kV(n,e,t,r,i,o,s){let a=e+t;return lu(n,a,i,o)?x0(n,a+2,s?r.call(s,i,o):r(i,o)):M0(n,a+2)}function FV(n,e,t,r,i,o,s,a,l){let d=e+t;return WF(n,d,i,o,s,a)?x0(n,d+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):M0(n,d+4)}function wc(n,e){let t=Sn(),r,i=n+Dr;t.firstCreatePass?(r=VV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Fs(r.type,!0)),s,a=On(q);try{let l=Rf(!1),d=o();return Rf(l),DV(t,We(),i,d),d}finally{On(a)}}function VV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ec(n,e,t,r){let i=n+Dr,o=We(),s=zT(o,i);return LV(o,i)?kV(o,r0(),e,s.transform,t,r,s):s.transform(t,r)}function LV(n,e){return n[Re].data[e].pure}function wD(n,e){return cD(n,e)}var Fi=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ED=new Fi("18.2.10");var lp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var bD=new ue("");function zs(n){return!!n&&typeof n.then=="function"}function ID(n){return!!n&&typeof n.subscribe=="function"}var CD=new ue(""),TD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Z(CD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(zs(o))t.push(o);else if(ID(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),R0=new ue("");function UV(){ZI(()=>{throw new de(600,!1)})}function jV(n){return n.isBoundToModule}var BV=10;function $V(n,e,t){try{let r=t();return zs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Gs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(Hk),this.afterRenderManager=Z(XF),this.zonelessEnabled=Z(sp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new an,this.afterTick=new an,this.componentTypes=[],this.components=[],this.isStable=Z(yc).hasPendingTasks.pipe(me(t=>!t)),this._injector=Z(ir)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Lf;if(!this._injector.get(TD).done){let I=!i&&AT(t),S=!1;throw new de(405,S)}let s;i?s=t:s=this._injector.get(fc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=jV(s)?void 0:this._injector.get(Uo),l=r||s.selector,d=s.create(cn.NULL,[],l,a),p=d.location.nativeElement,m=d.injector.get(bD,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),vf(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new de(101,!1);let t=Ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ge(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(pc,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<BV;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)HV(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Qf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;vf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(R0,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new de(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HV(n,e,t,r){if(!t&&!Qf(n))return;iD(n,e,t&&!r?0:1)}var Hy=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},P0=(()=>{class n{compileModuleSync(t){return new Ly(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=xT(t),o=PS(i.declarations).reduce((s,a)=>{let l=Vs(a);return l&&s.push(new au(l)),s},[]);return new Hy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qV=(()=>{class n{constructor(){this.zone=Z(tt),this.changeDetectionScheduler=Z(hc),this.applicationRef=Z(Gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zV=new ue("",{factory:()=>!1});function SD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new tt(Ee(K({},AD()),{scheduleInRootZone:t})),[{provide:tt,useFactory:n},{provide:sc,multi:!0,useFactory:()=>{let r=Z(qV,{optional:!0});return()=>r.initialize()}},{provide:sc,multi:!0,useFactory:()=>{let r=Z(GV);return()=>{r.initialize()}}},e===!0?{provide:lD,useValue:!0}:[],{provide:uD,useValue:t??_S}]}function DD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=SD({ngZoneFactory:()=>{let i=AD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&pu("NgZone_CoalesceEvent"),new tt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return or([{provide:zV,useValue:!0},{provide:sp,useValue:!1},r])}function AD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var GV=(()=>{class n{constructor(){this.subscription=new It,this.initialized=!1,this.zone=Z(tt),this.pendingTasks=Z(yc)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var WV=(()=>{class n{constructor(){this.appRef=Z(Gs),this.taskService=Z(yc),this.ngZone=Z(tt),this.zonelessEnabled=Z(sp),this.disableScheduling=Z(lD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new It,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Of):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Z(uD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ty||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?$C:ES;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Of+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$C(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KV(){return typeof $localize<"u"&&$localize.locale||$f}var up=new ue("",{providedIn:"root",factory:()=>Z(up,xe.Optional|xe.SkipSelf)||KV()});var qy=new ue("");function ff(n){return!n.moduleRef}function QV(n){let e=ff(n)?n.r3Injector:n.moduleRef.injector,t=e.get(tt);return t.run(()=>{ff(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ni,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ff(n)){let o=()=>e.destroy(),s=n.platformInjector.get(qy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(qy);s.add(o),n.moduleRef.onDestroy(()=>{vf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return $V(r,t,()=>{let o=e.get(TD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(up,$f);if(CV(s||$f),ff(n)){let a=e.get(Gs);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return YV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function YV(n,e){let t=n.injector.get(Gs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new de(-403,!1);e.push(n)}var yf=null;function ZV(n=[],e){return cn.create({name:e,providers:[{provide:Gf,useValue:"platform"},{provide:qy,useValue:new Set([()=>yf=null])},...n]})}function JV(n=[]){if(yf)return yf;let e=ZV(n);return yf=e,UV(),XV(e),e}function XV(n){n.get(p0,null)?.forEach(t=>t())}var Ws=(()=>{class n{static{this.__NG_ELEMENT_ID__=eL}}return n})();function eL(n){return tL(Fn(),We(),(n&16)===16)}function tL(n,e,t){if(Kf(n)&&!t){let r=$o(n.index,e);return new Hs(r,r)}else if(n.type&175){let r=e[ni];return new Hs(r,e)}return null}var zy=class{constructor(){}supports(e){return fD(e)}create(e){return new Gy(e)}},nL=(n,e)=>e,Gy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<cT(r,i,o)?t:r,a=cT(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=l-i;if(d!=p){for(let I=0;I<d;I++){let S=I<o.length?o[I]:o[I]=0,k=S+I;p<=k&&k<d&&(o[I]=S+1)}let m=s.previousIndex;o[m]=p-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!fD(e))throw new de(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,qF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Wy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wy=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ky=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hf=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ky,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function lT(){return new N0([new zy])}var N0=(()=>{class n{static{this.\u0275prov=ie({token:n,providedIn:"root",factory:lT})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||lT()),deps:[[n,new wT,new Ut]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new de(901,!1)}}return n})();function xD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=JV(r),o=[SD({}),{provide:hc,useExisting:WV},...t||[]],s=new jf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return QV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function yu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function _u(n,e){pu("NgSignals");let t=KI(n);return e?.equal&&(t[xi].equal=e.equal),t}function Bi(n){let e=Ge(null);try{return n()}finally{Ge(e)}}var FD=null;function qi(){return FD}function VD(n){FD??=n}var _p=class{};var ur=new ue(""),LD=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>Z(oL),providedIn:"platform"})}}return n})();var oL=(()=>{class n extends LD{constructor(){super(),this._doc=Z(ur),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qi().getBaseHref(this._doc)}onPopState(t){let r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function UD(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function MD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ks(n){return n&&n[0]!=="?"?"?"+n:n}var bp=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>Z(jD),providedIn:"root"})}}return n})(),sL=new ue(""),jD=(()=>{class n extends bp{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Z(ur).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return UD(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ks(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ks(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ks(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(le(LD),le(sL,8))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var wu=(()=>{class n{constructor(t){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=lL(MD(RD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ks(r))}normalize(t){return n.stripTrailingSlash(cL(this._basePath,RD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ks(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ks(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ks}static{this.joinWithSlash=UD}static{this.stripTrailingSlash=MD}static{this.\u0275fac=function(r){return new(r||n)(le(bp))}}static{this.\u0275prov=ie({token:n,factory:()=>aL(),providedIn:"root"})}}return n})();function aL(){return new wu(le(bp))}function cL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function RD(n){return n.replace(/\/index.html$/,"")}function lL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Dn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Dn||{}),at=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(at||{}),Wn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Wn||{}),zo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function uL(n){return cr(n)[xt.LocaleId]}function dL(n,e,t){let r=cr(n),i=[r[xt.DayPeriodsFormat],r[xt.DayPeriodsStandalone]],o=lr(i,e);return lr(o,t)}function hL(n,e,t){let r=cr(n),i=[r[xt.DaysFormat],r[xt.DaysStandalone]],o=lr(i,e);return lr(o,t)}function fL(n,e,t){let r=cr(n),i=[r[xt.MonthsFormat],r[xt.MonthsStandalone]],o=lr(i,e);return lr(o,t)}function pL(n,e){let r=cr(n)[xt.Eras];return lr(r,e)}function dp(n,e){let t=cr(n);return lr(t[xt.DateFormat],e)}function hp(n,e){let t=cr(n);return lr(t[xt.TimeFormat],e)}function fp(n,e){let r=cr(n)[xt.DateTimeFormat];return lr(r,e)}function Ip(n,e){let t=cr(n),r=t[xt.NumberSymbols][e];if(typeof r>"u"){if(e===zo.CurrencyDecimal)return t[xt.NumberSymbols][zo.Decimal];if(e===zo.CurrencyGroup)return t[xt.NumberSymbols][zo.Group]}return r}function BD(n){if(!n[xt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[xt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mL(n){let e=cr(n);return BD(e),(e[xt.ExtraData][2]||[]).map(r=>typeof r=="string"?O0(r):[O0(r[0]),O0(r[1])])}function gL(n,e,t){let r=cr(n);BD(r);let i=[r[xt.ExtraData][0],r[xt.ExtraData][1]],o=lr(i,e)||[];return lr(o,t)||[]}function lr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function O0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var vL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pp={},yL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Hi=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Hi||{}),Xe=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Xe||{}),Je=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Je||{});function _L(n,e,t,r){let i=AL(n);e=$i(t,e)||e;let s=[],a;for(;e;)if(a=yL.exec(e),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;e=p}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=HD(r,l),i=DL(i,r,!0));let d="";return s.forEach(p=>{let m=TL(p);d+=m?m(i,t,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function wp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function $i(n,e){let t=uL(n);if(pp[t]??={},pp[t][e])return pp[t][e];let r="";switch(e){case"shortDate":r=dp(n,Wn.Short);break;case"mediumDate":r=dp(n,Wn.Medium);break;case"longDate":r=dp(n,Wn.Long);break;case"fullDate":r=dp(n,Wn.Full);break;case"shortTime":r=hp(n,Wn.Short);break;case"mediumTime":r=hp(n,Wn.Medium);break;case"longTime":r=hp(n,Wn.Long);break;case"fullTime":r=hp(n,Wn.Full);break;case"short":let i=$i(n,"shortTime"),o=$i(n,"shortDate");r=mp(fp(n,Wn.Short),[i,o]);break;case"medium":let s=$i(n,"mediumTime"),a=$i(n,"mediumDate");r=mp(fp(n,Wn.Medium),[s,a]);break;case"long":let l=$i(n,"longTime"),d=$i(n,"longDate");r=mp(fp(n,Wn.Long),[l,d]);break;case"full":let p=$i(n,"fullTime"),m=$i(n,"fullDate");r=mp(fp(n,Wn.Full),[p,m]);break}return r&&(pp[t][e]=r),r}function mp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Rr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function wL(n,e){return Rr(n,3).substring(0,e)}function jt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=EL(n,o);if((t>0||a>-t)&&(a+=t),n===Xe.Hours)a===0&&t===-12&&(a=12);else if(n===Xe.FractionalSeconds)return wL(a,e);let l=Ip(s,zo.MinusSign);return Rr(a,e,l,r,i)}}function EL(n,e){switch(n){case Xe.FullYear:return e.getFullYear();case Xe.Month:return e.getMonth();case Xe.Date:return e.getDate();case Xe.Hours:return e.getHours();case Xe.Minutes:return e.getMinutes();case Xe.Seconds:return e.getSeconds();case Xe.FractionalSeconds:return e.getMilliseconds();case Xe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function lt(n,e,t=Dn.Format,r=!1){return function(i,o){return bL(i,o,n,e,t,r)}}function bL(n,e,t,r,i,o){switch(t){case Je.Months:return fL(e,i,r)[n.getMonth()];case Je.Days:return hL(e,i,r)[n.getDay()];case Je.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let d=mL(e),p=gL(e,i,r),m=d.findIndex(I=>{if(Array.isArray(I)){let[S,k]=I,$=s>=S.hours&&a>=S.minutes,V=s<k.hours||s===k.hours&&a<k.minutes;if(S.hours<k.hours){if($&&V)return!0}else if($||V)return!0}else if(I.hours===s&&I.minutes===a)return!0;return!1});if(m!==-1)return p[m]}return dL(e,i,r)[s<12?0:1];case Je.Eras:return pL(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function gp(n){return function(e,t,r){let i=-1*r,o=Ip(t,zo.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Hi.Short:return(i>=0?"+":"")+Rr(s,2,o)+Rr(Math.abs(i%60),2,o);case Hi.ShortGMT:return"GMT"+(i>=0?"+":"")+Rr(s,1,o);case Hi.Long:return"GMT"+(i>=0?"+":"")+Rr(s,2,o)+":"+Rr(Math.abs(i%60),2,o);case Hi.Extended:return r===0?"Z":(i>=0?"+":"")+Rr(s,2,o)+":"+Rr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var IL=0,yp=4;function CL(n){let e=wp(n,IL,1).getDay();return wp(n,0,1+(e<=yp?yp:yp+7)-e)}function $D(n){let e=n.getDay(),t=e===0?-3:yp-e;return wp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function k0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=$D(t),s=CL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Rr(i,n,Ip(r,zo.MinusSign))}}function vp(n,e=!1){return function(t,r){let o=$D(t).getFullYear();return Rr(o,n,Ip(r,zo.MinusSign),e)}}var F0={};function TL(n){if(F0[n])return F0[n];let e;switch(n){case"G":case"GG":case"GGG":e=lt(Je.Eras,at.Abbreviated);break;case"GGGG":e=lt(Je.Eras,at.Wide);break;case"GGGGG":e=lt(Je.Eras,at.Narrow);break;case"y":e=jt(Xe.FullYear,1,0,!1,!0);break;case"yy":e=jt(Xe.FullYear,2,0,!0,!0);break;case"yyy":e=jt(Xe.FullYear,3,0,!1,!0);break;case"yyyy":e=jt(Xe.FullYear,4,0,!1,!0);break;case"Y":e=vp(1);break;case"YY":e=vp(2,!0);break;case"YYY":e=vp(3);break;case"YYYY":e=vp(4);break;case"M":case"L":e=jt(Xe.Month,1,1);break;case"MM":case"LL":e=jt(Xe.Month,2,1);break;case"MMM":e=lt(Je.Months,at.Abbreviated);break;case"MMMM":e=lt(Je.Months,at.Wide);break;case"MMMMM":e=lt(Je.Months,at.Narrow);break;case"LLL":e=lt(Je.Months,at.Abbreviated,Dn.Standalone);break;case"LLLL":e=lt(Je.Months,at.Wide,Dn.Standalone);break;case"LLLLL":e=lt(Je.Months,at.Narrow,Dn.Standalone);break;case"w":e=k0(1);break;case"ww":e=k0(2);break;case"W":e=k0(1,!0);break;case"d":e=jt(Xe.Date,1);break;case"dd":e=jt(Xe.Date,2);break;case"c":case"cc":e=jt(Xe.Day,1);break;case"ccc":e=lt(Je.Days,at.Abbreviated,Dn.Standalone);break;case"cccc":e=lt(Je.Days,at.Wide,Dn.Standalone);break;case"ccccc":e=lt(Je.Days,at.Narrow,Dn.Standalone);break;case"cccccc":e=lt(Je.Days,at.Short,Dn.Standalone);break;case"E":case"EE":case"EEE":e=lt(Je.Days,at.Abbreviated);break;case"EEEE":e=lt(Je.Days,at.Wide);break;case"EEEEE":e=lt(Je.Days,at.Narrow);break;case"EEEEEE":e=lt(Je.Days,at.Short);break;case"a":case"aa":case"aaa":e=lt(Je.DayPeriods,at.Abbreviated);break;case"aaaa":e=lt(Je.DayPeriods,at.Wide);break;case"aaaaa":e=lt(Je.DayPeriods,at.Narrow);break;case"b":case"bb":case"bbb":e=lt(Je.DayPeriods,at.Abbreviated,Dn.Standalone,!0);break;case"bbbb":e=lt(Je.DayPeriods,at.Wide,Dn.Standalone,!0);break;case"bbbbb":e=lt(Je.DayPeriods,at.Narrow,Dn.Standalone,!0);break;case"B":case"BB":case"BBB":e=lt(Je.DayPeriods,at.Abbreviated,Dn.Format,!0);break;case"BBBB":e=lt(Je.DayPeriods,at.Wide,Dn.Format,!0);break;case"BBBBB":e=lt(Je.DayPeriods,at.Narrow,Dn.Format,!0);break;case"h":e=jt(Xe.Hours,1,-12);break;case"hh":e=jt(Xe.Hours,2,-12);break;case"H":e=jt(Xe.Hours,1);break;case"HH":e=jt(Xe.Hours,2);break;case"m":e=jt(Xe.Minutes,1);break;case"mm":e=jt(Xe.Minutes,2);break;case"s":e=jt(Xe.Seconds,1);break;case"ss":e=jt(Xe.Seconds,2);break;case"S":e=jt(Xe.FractionalSeconds,1);break;case"SS":e=jt(Xe.FractionalSeconds,2);break;case"SSS":e=jt(Xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=gp(Hi.Short);break;case"ZZZZZ":e=gp(Hi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=gp(Hi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=gp(Hi.Long);break;default:return null}return F0[n]=e,e}function HD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function SL(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function DL(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=HD(e,i);return SL(n,r*(o-i))}function AL(n){if(PD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return wp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(vL))return xL(r)}let e=new Date(n);if(!PD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function xL(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,d),e}function PD(n){return n instanceof Date&&!isNaN(n.valueOf())}function qD(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var V0=/\s+/,ND=[],oi=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=ND,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(V0):ND}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(V0):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(V0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(q(Mr),q(ii))}}static{this.\u0275dir=ct({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var L0=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ct=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new L0(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),OD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);OD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(q(_c),q(op),q(N0))}}static{this.\u0275dir=ct({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function OD(n,e){n.context.$implicit=e.item}var Fe=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new U0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(q(_c),q(op))}}static{this.\u0275dir=ct({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),U0=class{constructor(){this.$implicit=null,this.ngIf=null}};function kD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Cn(e)}'.`)}function ML(n,e){return new de(2100,!1)}var RL="mediumDate",PL=new ue(""),NL=new ue(""),Cp=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??RL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return _L(t,s,o||this.locale,a)}catch(s){throw ML(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(q(up,16),q(PL,24),q(NL,24))}}static{this.\u0275pipe=gc({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Ie=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bo({type:n})}static{this.\u0275inj=jo({})}}return n})(),zD="browser",OL="server";function j0(n){return n===OL}var Ep=class{};var H0=class extends _p{constructor(){super(...arguments),this.supportsDOMEvents=!0}},q0=class n extends H0{static makeCurrent(){VD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=kL();return t==null?null:FL(t)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qD(document.cookie,e)}},Eu=null;function kL(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}function FL(n){return new URL(n,document.baseURI).pathname}var VL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),z0=new ue(""),QD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new de(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(le(z0),le(tt))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),Tp=class{constructor(e){this._doc=e}},B0="ng-app-id",YD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=j0(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${B0}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(B0),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(B0,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(le(ur),le(f0),le(m0,8),le(qo))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),$0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},W0=/%COMP%/g,ZD="%COMP%",LL=`_nghost-${ZD}`,UL=`_ngcontent-${ZD}`,jL=!0,BL=new ue("",{providedIn:"root",factory:()=>jL});function $L(n){return UL.replace(W0,n)}function HL(n){return LL.replace(W0,n)}function JD(n,e){return e.map(t=>t.replace(W0,n))}var GD=(()=>{class n{constructor(t,r,i,o,s,a,l,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=j0(a),this.defaultRenderer=new bu(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ei.ShadowDom&&(r=Ee(K({},r),{encapsulation:ei.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Sp?i.applyToHost(t):i instanceof Iu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case ei.Emulated:o=new Sp(l,d,r,this.appId,p,s,a,m);break;case ei.ShadowDom:return new G0(l,d,t,r,s,a,this.nonce,m);default:o=new Iu(l,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(le(QD),le(YD),le(f0),le(BL),le(ur),le(qo),le(tt),le(m0))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),bu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(WD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(WD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new de(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=$0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=$0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Oi.DashCase|Oi.Important)?e.style.setProperty(t,r,i&Oi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Oi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=qi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function WD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var G0=class extends bu{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=JD(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Iu=class extends bu{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?JD(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sp=class extends Iu{constructor(e,t,r,i,o,s,a,l){let d=i+"-"+r.id;super(e,t,r,o,s,a,l,d),this.contentAttr=$L(d),this.hostAttr=HL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},qL=(()=>{class n extends Tp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(le(ur))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})(),KD=["alt","control","meta","shift"],zL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},WL=(()=>{class n extends Tp{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),KD.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=zL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),KD.forEach(s=>{if(s!==i){let a=GL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(le(ur))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac})}}return n})();function XD(n,e){return xD(K({rootComponent:n},KL(e)))}function KL(n){return{appProviders:[...XL,...n?.providers??[]],platformProviders:JL}}function QL(){q0.makeCurrent()}function YL(){return new Ni}function ZL(){return AS(document),document}var JL=[{provide:qo,useValue:zD},{provide:p0,useValue:QL,multi:!0},{provide:ur,useFactory:ZL,deps:[]}];var XL=[{provide:Gf,useValue:"root"},{provide:Ni,useFactory:YL,deps:[]},{provide:z0,useClass:qL,multi:!0,deps:[ur,tt,qo]},{provide:z0,useClass:WL,multi:!0,deps:[ur]},GD,YD,QD,{provide:pc,useExisting:GD},{provide:Ep,useClass:VL,deps:[]},[]];var eA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(le(ur))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Se="primary",ju=Symbol("RouteTitle"),J0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Dc(n){return new J0(n)}function tU(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function nU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!si(n[t],e[t]))return!1;return!0}function si(n,e){let t=n?X0(n):void 0,r=e?X0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!cA(n[i],e[i]))return!1;return!0}function X0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function lA(n){return n.length>0?n[n.length-1]:null}function Wo(n){return Uv(n)?n:zs(n)?je(Promise.resolve(n)):Ce(n)}var rU={exact:dA,subset:hA},uA={exact:iU,subset:oU,ignored:()=>!0};function tA(n,e,t){return rU[t.paths](n.root,e.root,t.matrixParams)&&uA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function iU(n,e){return si(n,e)}function dA(n,e,t){if(!Ys(n.segments,e.segments)||!xp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!dA(n.children[r],e.children[r],t))return!1;return!0}function oU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cA(n[t],e[t]))}function hA(n,e,t){return fA(n,e,e.segments,t)}function fA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ys(i,t)||e.hasChildren()||!xp(i,t,r))}else if(n.segments.length===t.length){if(!Ys(n.segments,t)||!xp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!hA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ys(n.segments,i)||!xp(n.segments,i,r)||!n.children[Se]?!1:fA(n.children[Se],e,o,r)}}function xp(n,e,t){return e.every((r,i)=>uA[t](n[i].parameters,r.parameters))}var Gi=class{constructor(e=new nt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Dc(this.queryParams),this._queryParamMap}toString(){return cU.serialize(this)}},nt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mp(this)}},Qs=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Dc(this.parameters),this._parameterMap}toString(){return mA(this)}};function sU(n,e){return Ys(n,e)&&n.every((t,r)=>si(t.parameters,e[r].parameters))}function Ys(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function aU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Se&&(t=t.concat(e(i,r)))}),t}var T_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>new Mu,providedIn:"root"})}}return n})(),Mu=class{parse(e){let t=new t_(e);return new Gi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cu(e.root,!0)}`,r=dU(e.queryParams),i=typeof e.fragment=="string"?`#${lU(e.fragment)}`:"";return`${t}${r}${i}`}},cU=new Mu;function Mp(n){return n.segments.map(e=>mA(e)).join("/")}function Cu(n,e){if(!n.hasChildren())return Mp(n);if(e){let t=n.children[Se]?Cu(n.children[Se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Se&&r.push(`${i}:${Cu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=aU(n,(r,i)=>i===Se?[Cu(n.children[Se],!1)]:[`${i}:${Cu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Se]!=null?`${Mp(n)}/${t[0]}`:`${Mp(n)}/(${t.join("//")})`}}function pA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dp(n){return pA(n).replace(/%3B/gi,";")}function lU(n){return encodeURI(n)}function e_(n){return pA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rp(n){return decodeURIComponent(n)}function nA(n){return Rp(n.replace(/\+/g,"%20"))}function mA(n){return`${e_(n.path)}${uU(n.parameters)}`}function uU(n){return Object.entries(n).map(([e,t])=>`;${e_(e)}=${e_(t)}`).join("")}function dU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Dp(t)}=${Dp(i)}`).join("&"):`${Dp(t)}=${Dp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var hU=/^[^\/()?;#]+/;function K0(n){let e=n.match(hU);return e?e[0]:""}var fU=/^[^\/()?;=#]+/;function pU(n){let e=n.match(fU);return e?e[0]:""}var mU=/^[^=?&#]+/;function gU(n){let e=n.match(mU);return e?e[0]:""}var vU=/^[^&#]+/;function yU(n){let e=n.match(vU);return e?e[0]:""}var t_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Se]=new nt(e,t)),r}parseSegment(){let e=K0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new de(4009,!1);return this.capture(e),new Qs(Rp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=pU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=K0(this.remaining);i&&(r=i,this.capture(r))}e[Rp(t)]=Rp(r)}parseQueryParam(e){let t=gU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=yU(this.remaining);s&&(r=s,this.capture(r))}let i=nA(t),o=nA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=K0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new de(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Se]:new nt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new de(4011,!1)}};function gA(n){return n.segments.length>0?new nt([],{[Se]:n}):n}function vA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=vA(i);if(r===Se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new nt(n.segments,e);return _U(t)}function _U(n){if(n.numberOfChildren===1&&n.children[Se]){let e=n.children[Se];return new nt(n.segments.concat(e.segments),e.children)}return n}function Ru(n){return n instanceof Gi}function wU(n,e,t=null,r=null){let i=yA(n);return _A(i,e,t,r)}function yA(n){let e;function t(o){let s={};for(let l of o.children){let d=t(l);s[l.outlet]=d}let a=new nt(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=gA(r);return e??i}function _A(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Q0(i,i,i,t,r);let o=EU(e);if(o.toRoot())return Q0(i,i,new nt([],{}),t,r);let s=bU(o,i,n),a=s.processChildren?Du(s.segmentGroup,s.index,o.commands):EA(s.segmentGroup,s.index,o.commands);return Q0(i,s.segmentGroup,a,t,r)}function Pp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Pu(n){return typeof n=="object"&&n!=null&&n.outlets}function Q0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===e?s=t:s=wA(n,e,t);let a=gA(vA(s));return new Gi(a,o,i)}function wA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=wA(o,e,t)}),new nt(n.segments,r)}var Np=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pp(r[0]))throw new de(4003,!1);let i=r.find(Pu);if(i&&i!==lA(r))throw new de(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function EU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Np(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Np(t,e,r)}var Cc=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function bU(n,e,t){if(n.isAbsolute)return new Cc(e,!0,0);if(!t)return new Cc(e,!1,NaN);if(t.parent===null)return new Cc(t,!0,0);let r=Pp(n.commands[0])?0:1,i=t.segments.length-1+r;return IU(t,i,n.numberOfDoubleDots)}function IU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new de(4005,!1);i=r.segments.length}return new Cc(r,!1,i-o)}function CU(n){return Pu(n[0])?n[0].outlets:{[Se]:n}}function EA(n,e,t){if(n??=new nt([],{}),n.segments.length===0&&n.hasChildren())return Du(n,e,t);let r=TU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new nt(n.segments.slice(0,r.pathIndex),{});return o.children[Se]=new nt(n.segments.slice(r.pathIndex),n.children),Du(o,0,i)}else return r.match&&i.length===0?new nt(n.segments,{}):r.match&&!n.hasChildren()?n_(n,e,t):r.match?Du(n,0,i):n_(n,e,t)}function Du(n,e,t){if(t.length===0)return new nt(n.segments,{});{let r=CU(t),i={};if(Object.keys(r).some(o=>o!==Se)&&n.children[Se]&&n.numberOfChildren===1&&n.children[Se].segments.length===0){let o=Du(n.children[Se],e,t);return new nt(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=EA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new nt(n.segments,i)}}function TU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Pu(a))break;let l=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!iA(l,d,s))return o;r+=2}else{if(!iA(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function n_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Pu(o)){let l=SU(o.outlets);return new nt(r,l)}if(i===0&&Pp(t[0])){let l=n.segments[e];r.push(new Qs(l.path,rA(t[0]))),i++;continue}let s=Pu(o)?o.outlets[Se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Pp(a)?(r.push(new Qs(s,rA(a))),i+=2):(r.push(new Qs(s,{})),i++)}return new nt(r,{})}function SU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=n_(new nt([],{}),0,r))}),e}function rA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function iA(n,e,t){return n==t.path&&si(e,t.parameters)}var Au="imperative",dn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(dn||{}),dr=class{constructor(e,t){this.id=e,this.url=t}},Nu=class extends dr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=dn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zs=class extends dr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=dn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Qn||{}),r_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(r_||{}),zi=class extends dr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=dn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Js=class extends dr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=dn.NavigationSkipped}},Ou=class extends dr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=dn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Op=class extends dr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i_=class extends dr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o_=class extends dr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=dn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},s_=class extends dr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a_=class extends dr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c_=class{constructor(e){this.route=e,this.type=dn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},l_=class{constructor(e){this.route=e,this.type=dn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},u_=class{constructor(e){this.snapshot=e,this.type=dn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d_=class{constructor(e){this.snapshot=e,this.type=dn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h_=class{constructor(e){this.snapshot=e,this.type=dn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f_=class{constructor(e){this.snapshot=e,this.type=dn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ku=class{},Ac=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function DU(n,e){return n.providers&&!n._injector&&(n._injector=A0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Pr(n){return n.outlet||Se}function AU(n,e){let t=n.filter(r=>Pr(r)===e);return t.push(...n.filter(r=>Pr(r)!==e)),t}function Bu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var p_=class{get injector(){return Bu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Bp(this.rootInjector),this.attachRef=null}},Bp=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new p_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(le(ir))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=m_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=m_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=g_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return g_(e,this._root).map(t=>t.value)}};function m_(n,e){if(n===e.value)return e;for(let t of e.children){let r=m_(n,t);if(r)return r}return null}function g_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=g_(n,t);if(r.length)return r.unshift(e),r}return[]}var Kn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ic(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Fp=class extends kp{constructor(e,t){super(e),this.snapshot=t,S_(this,e)}toString(){return this.snapshot.toString()}};function bA(n){let e=xU(n),t=new Kt([new Qs("",{})]),r=new Kt({}),i=new Kt({}),o=new Kt({}),s=new Kt(""),a=new Go(t,r,o,s,i,Se,n,e.root);return a.snapshot=e.root,new Fp(new Kn(a,[]),e)}function xU(n){let e={},t={},r={},i="",o=new Tc([],e,r,i,t,Se,n,null,{});return new Lp("",new Kn(o,[]))}var Go=class{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(me(d=>d[ju]))??Ce(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(e=>Dc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(e=>Dc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:K(K({},e.params),n.params),data:K(K({},e.data),n.data),resolve:K(K(K(K({},n.data),e.data),i?.data),n._resolvedData)}:r={params:K({},n.params),data:K({},n.data),resolve:K(K({},n.data),n._resolvedData??{})},i&&CA(i)&&(r.resolve[ju]=i.title),r}var Tc=class{get title(){return this.data?.[ju]}constructor(e,t,r,i,o,s,a,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Dc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Dc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Lp=class extends kp{constructor(e,t){super(t),this.url=e,S_(this,t)}toString(){return IA(this._root)}};function S_(n,e){e.value._routerState=n,e.children.forEach(t=>S_(n,t))}function IA(n){let e=n.children.length>0?` { ${n.children.map(IA).join(", ")} } `:"";return`${n.value}${e}`}function Y0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,si(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),si(e.params,t.params)||n.paramsSubject.next(t.params),nU(e.url,t.url)||n.urlSubject.next(t.url),si(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function v_(n,e){let t=si(n.params,e.params)&&sU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||v_(n.parent,e.parent))}function CA(n){return typeof n.title=="string"||n.title===null}var D_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Se,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=Z(Bp),this.location=Z(_c),this.changeDetector=Z(Ws),this.inputBinder=Z(A_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new de(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new de(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new de(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new de(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new y_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ct({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ji]})}}return n})(),y_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Go?this.route:e===Bp?this.childContexts:this.parent.get(e,t)}},A_=new ue("");function MU(n,e,t){let r=Fu(n,e._root,t?t._root:void 0);return new Fp(r,e)}function Fu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=RU(n,e,t);return new Kn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fu(n,a)),s}}let r=PU(e.value),i=e.children.map(o=>Fu(n,o));return new Kn(r,i)}}function RU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fu(n,r,i);return Fu(n,r)})}function PU(n){return new Go(new Kt(n.url),new Kt(n.params),new Kt(n.queryParams),new Kt(n.fragment),new Kt(n.data),n.outlet,n.component,n)}var Vu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},TA="ngNavigationCancelingError";function Up(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ru(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SA(!1,Qn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function SA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[TA]=!0,t.cancellationCode=e,t}function NU(n){return DA(n)&&Ru(n.url)}function DA(n){return!!n&&n[TA]}var OU=(n,e,t,r)=>me(i=>(new __(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),__=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Y0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ic(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ic(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ic(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ic(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new f_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new d_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Y0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Y0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},jp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Sc=class{constructor(e,t){this.component=e,this.route=t}};function kU(n,e,t){let r=n._root,i=e?e._root:null;return Tu(r,i,t,[r.value])}function FU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Mc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!fT(n)?n:e.get(n):r}function Tu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ic(e);return n.children.forEach(s=>{VU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xu(a,t.getContext(s),i)),i}function VU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=LU(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new jp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tu(n,e,a?a.children:null,r,i):Tu(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sc(a.outlet.component,s))}else s&&xu(e,a,i),i.canActivateChecks.push(new jp(r)),o.component?Tu(n,null,a?a.children:null,r,i):Tu(n,null,t,r,i);return i}function LU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ys(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(n.url,e.url)||!si(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!v_(n,e)||!si(n.queryParams,e.queryParams);case"paramsChange":default:return!v_(n,e)}}function xu(n,e,t){let r=Ic(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?xu(s,e.children.getContext(o),t):xu(s,null,t):xu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Sc(e.outlet.component,i)):t.canDeactivateChecks.push(new Sc(null,i)):t.canDeactivateChecks.push(new Sc(null,i))}function $u(n){return typeof n=="function"}function UU(n){return typeof n=="boolean"}function jU(n){return n&&$u(n.canLoad)}function BU(n){return n&&$u(n.canActivate)}function $U(n){return n&&$u(n.canActivateChild)}function HU(n){return n&&$u(n.canDeactivate)}function qU(n){return n&&$u(n.canMatch)}function AA(n){return n instanceof Mi||n?.name==="EmptyError"}var Ap=Symbol("INITIAL_VALUE");function xc(){return Ir(n=>af(n.map(e=>e.pipe(Ri(1),zv(Ap)))).pipe(me(e=>{for(let t of e)if(t!==!0){if(t===Ap)return Ap;if(t===!1||zU(t))return t}return!0}),br(e=>e!==Ap),Ri(1)))}function zU(n){return Ru(n)||n instanceof Vu}function GU(n,e){return Qt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Ce(Ee(K({},t),{guardsResult:!0})):WU(s,r,i,n).pipe(Qt(a=>a&&UU(a)?KU(r,o,n,e):Ce(a)),me(a=>Ee(K({},t),{guardsResult:a})))})}function WU(n,e,t,r){return je(n).pipe(Qt(i=>XU(i.component,i.route,t,e,r)),Zr(i=>i!==!0,!0))}function KU(n,e,t,r){return je(e).pipe(Ja(i=>Za(YU(i.route.parent,r),QU(i.route,r),JU(n,i.path,t),ZU(n,i.route,t))),Zr(i=>i!==!0,!0))}function QU(n,e){return n!==null&&e&&e(new h_(n)),Ce(!0)}function YU(n,e){return n!==null&&e&&e(new u_(n)),Ce(!0)}function ZU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Ce(!0);let i=r.map(o=>cf(()=>{let s=Bu(e)??t,a=Mc(o,s),l=BU(a)?a.canActivate(e,n):Vi(s,()=>a(e,n));return Wo(l).pipe(Zr())}));return Ce(i).pipe(xc())}function JU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>FU(s)).filter(s=>s!==null).map(s=>cf(()=>{let a=s.guards.map(l=>{let d=Bu(s.node)??t,p=Mc(l,d),m=$U(p)?p.canActivateChild(r,n):Vi(d,()=>p(r,n));return Wo(m).pipe(Zr())});return Ce(a).pipe(xc())}));return Ce(o).pipe(xc())}function XU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ce(!0);let s=o.map(a=>{let l=Bu(e)??i,d=Mc(a,l),p=HU(d)?d.canDeactivate(n,e,t,r):Vi(l,()=>d(n,e,t,r));return Wo(p).pipe(Zr())});return Ce(s).pipe(xc())}function ej(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Ce(!0);let o=i.map(s=>{let a=Mc(s,n),l=jU(a)?a.canLoad(e,t):Vi(n,()=>a(e,t));return Wo(l)});return Ce(o).pipe(xc(),xA(r))}function xA(n){return Rv(Yt(e=>{if(typeof e!="boolean")throw Up(n,e)}),me(e=>e===!0))}function tj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Ce(!0);let o=i.map(s=>{let a=Mc(s,n),l=qU(a)?a.canMatch(e,t):Vi(n,()=>a(e,t));return Wo(l)});return Ce(o).pipe(xc(),xA(r))}var Lu=class{constructor(e){this.segmentGroup=e||null}},Uu=class extends Error{constructor(e){super(),this.urlTree=e}};function bc(n){return Ya(new Lu(n))}function nj(n){return Ya(new de(4e3,!1))}function rj(n){return Ya(SA(!1,Qn.GuardRejected))}var w_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ce(r);if(i.numberOfChildren>1||!i.children[Se])return nj(`${e.redirectTo}`);i=i.children[Se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:p,url:m,outlet:I,params:S,data:k,title:$}=i,V=Vi(o,()=>a({params:S,data:k,queryParams:l,fragment:d,routeConfig:p,url:m,outlet:I,title:$}));if(V instanceof Gi)throw new Uu(V);t=V}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Uu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Gi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new nt(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new de(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},E_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ij(n,e,t,r,i){let o=MA(n,e,t);return o.matched?(r=DU(e,r),tj(r,e,t,i).pipe(me(s=>s===!0?o:K({},E_)))):Ce(o)}function MA(n,e,t){if(e.path==="**")return oj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?K({},E_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tU)(t,n,e);if(!i)return K({},E_);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?K(K({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function oj(n){return{matched:!0,parameters:n.length>0?lA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oA(n,e,t,r){return t.length>0&&cj(n,t,r)?{segmentGroup:new nt(e,aj(r,new nt(t,n.children))),slicedSegments:[]}:t.length===0&&lj(n,t,r)?{segmentGroup:new nt(n.segments,sj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new nt(n.segments,n.children),slicedSegments:t}}function sj(n,e,t,r){let i={};for(let o of t)if($p(n,e,o)&&!r[Pr(o)]){let s=new nt([],{});i[Pr(o)]=s}return K(K({},r),i)}function aj(n,e){let t={};t[Se]=e;for(let r of n)if(r.path===""&&Pr(r)!==Se){let i=new nt([],{});t[Pr(r)]=i}return t}function cj(n,e,t){return t.some(r=>$p(n,e,r)&&Pr(r)!==Se)}function lj(n,e,t){return t.some(r=>$p(n,e,r))}function $p(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function uj(n,e,t){return e.length===0&&!n.children[t]}var b_=class{};function dj(n,e,t,r,i,o,s="emptyOnly"){return new I_(n,e,t,r,i,s,o).recognize()}var hj=31,I_=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new w_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new de(4002,`'${e.segmentGroup}'`)}recognize(){let e=oA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(({children:t,rootSnapshot:r})=>{let i=new Kn(r,t),o=new Lp("",i),s=wU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Tc([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Se,t).pipe(me(r=>({children:r,rootSnapshot:t})),Po(r=>{if(r instanceof Uu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(me(s=>s instanceof Kn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return je(o).pipe(Ja(s=>{let a=r.children[s],l=AU(t,s);return this.processSegmentGroup(e,l,a,s,i)}),qv((s,a)=>(s.push(...a),s)),No(null),Hv(),Qt(s=>{if(s===null)return bc(r);let a=RA(s);return fj(a),Ce(a)}))}processSegment(e,t,r,i,o,s,a){return je(t).pipe(Ja(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Po(d=>{if(d instanceof Lu)return Ce(null);throw d}))),Zr(l=>!!l),Po(l=>{if(AA(l))return uj(r,i,o)?Ce(new b_):bc(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Pr(r)!==s&&(s===Se||!$p(i,o,r))?bc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):bc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:I}=MA(t,i,o);if(!l)return bc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hj&&(this.allowRedirects=!1));let S=new Tc(o,d,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,sA(i),Pr(i),i.component??i._loadedComponent??null,i,aA(i)),k=Vp(S,a,this.paramsInheritanceStrategy);S.params=Object.freeze(k.params),S.data=Object.freeze(k.data);let $=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,S,e);return this.applyRedirects.lineralizeSegments(i,$).pipe(Qt(V=>this.processSegment(e,r,t,V.concat(I),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=ij(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ir(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ir(({routes:d})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:I,remainingSegments:S}=l,k=new Tc(I,m,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,sA(r),Pr(r),r.component??r._loadedComponent??null,r,aA(r)),$=Vp(k,s,this.paramsInheritanceStrategy);k.params=Object.freeze($.params),k.data=Object.freeze($.data);let{segmentGroup:V,slicedSegments:W}=oA(t,I,S,d);if(W.length===0&&V.hasChildren())return this.processChildren(p,d,V,k).pipe(me(te=>new Kn(k,te)));if(d.length===0&&W.length===0)return Ce(new Kn(k,[]));let re=Pr(r)===o;return this.processSegment(p,d,V,W,re?Se:o,!0,k).pipe(me(te=>new Kn(k,te instanceof Kn?[te]:[])))}))):bc(t)))}getChildConfig(e,t,r){return t.children?Ce({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ce({routes:t._loadedRoutes,injector:t._loadedInjector}):ej(e,t,r,this.urlSerializer).pipe(Qt(i=>i?this.configLoader.loadChildren(e,t).pipe(Yt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):rj(t))):Ce({routes:[],injector:e})}};function fj(n){n.sort((e,t)=>e.value.outlet===Se?-1:t.value.outlet===Se?1:e.value.outlet.localeCompare(t.value.outlet))}function pj(n){let e=n.value.routeConfig;return e&&e.path===""}function RA(n){let e=[],t=new Set;for(let r of n){if(!pj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=RA(r.children);e.push(new Kn(r.value,i))}return e.filter(r=>!t.has(r))}function sA(n){return n.data||{}}function aA(n){return n.resolve||{}}function mj(n,e,t,r,i,o){return Qt(s=>dj(n,e,t,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:l})=>Ee(K({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function gj(n,e){return Qt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ce(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of PA(l))s.add(d);let a=0;return je(s).pipe(Ja(l=>o.has(l)?vj(l,r,n,e):(l.data=Vp(l,l.parent,n).resolve,Ce(void 0))),Yt(()=>a++),Xa(1),Qt(l=>a===s.size?Ce(t):Gn))})}function PA(n){let e=n.children.map(t=>PA(t)).flat();return[n,...e]}function vj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!CA(i)&&(o[ju]=i.title),yj(o,n,e,r).pipe(me(s=>(n._resolvedData=s,n.data=Vp(n,n.parent,t).resolve,null)))}function yj(n,e,t,r){let i=X0(n);if(i.length===0)return Ce({});let o={};return je(i).pipe(Qt(s=>_j(n[s],e,t,r).pipe(Zr(),Yt(a=>{if(a instanceof Vu)throw Up(new Mu,a);o[s]=a}))),Xa(1),$v(o),Po(s=>AA(s)?Gn:Ya(s)))}function _j(n,e,t,r){let i=Bu(e)??r,o=Mc(n,i),s=o.resolve?o.resolve(e,t):Vi(i,()=>o(e,t));return Wo(s)}function Z0(n){return Ir(e=>{let t=n(e);return t?je(t).pipe(me(()=>e)):Ce(e)})}var NA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Se);return r}getResolvedTitleForRoute(t){return t.data[ju]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>Z(wj),providedIn:"root"})}}return n})(),wj=(()=>{class n extends NA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(le(eA))}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),x_=new ue("",{providedIn:"root",factory:()=>({})}),Ej=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[ye],decls:1,vars:0,template:function(r,i){r&1&&B(0,"router-outlet")},dependencies:[D_],encapsulation:2})}}return n})();function M_(n){let e=n.children&&n.children.map(M_),t=e?Ee(K({},n),{children:e}):K({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Se&&(t.component=Ej),t}var R_=new ue(""),bj=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(P0)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ce(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Wo(t.loadComponent()).pipe(me(OA),Yt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Jl(()=>{this.componentLoaders.delete(t)})),i=new Ga(r,()=>new an).pipe(za());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Ij(r,this.compiler,t,this.onLoadEndListener).pipe(Jl(()=>{this.childrenLoaders.delete(r)})),s=new Ga(o,()=>new an).pipe(za());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ij(n,e,t,r){return Wo(n.loadChildren()).pipe(me(OA),Qt(i=>i instanceof cu||Array.isArray(i)?Ce(i):je(e.compileModuleAsync(i))),me(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(R_,[],{optional:!0,self:!0}).flat()),{routes:s.map(M_),injector:o}}))}function Cj(n){return n&&typeof n=="object"&&"default"in n}function OA(n){return Cj(n)?n.default:n}var P_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>Z(Tj),providedIn:"root"})}}return n})(),Tj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sj=new ue("");var Dj=new ue(""),Aj=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new an,this.transitionAbortSubject=new an,this.configLoader=Z(bj),this.environmentInjector=Z(ir),this.urlSerializer=Z(T_),this.rootContexts=Z(Bp),this.location=Z(wu),this.inputBindingEnabled=Z(A_,{optional:!0})!==null,this.titleStrategy=Z(NA),this.options=Z(x_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(P_),this.createViewTransition=Z(Sj,{optional:!0}),this.navigationErrorHandler=Z(Dj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ce(void 0),this.rootComponentType=null;let t=i=>this.events.next(new c_(i)),r=i=>this.events.next(new l_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ee(K(K({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Kt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Au,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(br(o=>o.id!==0),me(o=>Ee(K({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ir(o=>{let s=!1,a=!1;return Ce(o).pipe(Ir(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),Gn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Js(l.id,this.urlSerializer.serialize(l.rawUrl),m,r_.IgnoredSameUrlNavigation)),l.resolve(!1),Gn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ce(l).pipe(Ir(m=>{let I=this.transitions?.getValue();return this.events.next(new Nu(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),I!==this.transitions?.getValue()?Gn:Promise.resolve(m)}),mj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Yt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ee(K({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let I=new Op(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:I,source:S,restoredState:k,extras:$}=l,V=new Nu(m,this.urlSerializer.serialize(I),S,k);this.events.next(V);let W=bA(this.rootComponentType).snapshot;return this.currentTransition=o=Ee(K({},l),{targetSnapshot:W,urlAfterRedirects:I,extras:Ee(K({},$),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Ce(o)}else{let m="";return this.events.next(new Js(l.id,this.urlSerializer.serialize(l.extractedUrl),m,r_.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Gn}}),Yt(l=>{let d=new i_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),me(l=>(this.currentTransition=o=Ee(K({},l),{guards:kU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),GU(this.environmentInjector,l=>this.events.next(l)),Yt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Up(this.urlSerializer,l.guardsResult);let d=new o_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),br(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qn.GuardRejected),!1)),Z0(l=>{if(l.guards.canActivateChecks.length)return Ce(l).pipe(Yt(d=>{let p=new s_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Ir(d=>{let p=!1;return Ce(d).pipe(gj(this.paramsInheritanceStrategy,this.environmentInjector),Yt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Qn.NoDataFromResolver)}}))}),Yt(d=>{let p=new a_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Z0(l=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Yt(I=>{p.component=I}),me(()=>{})));for(let I of p.children)m.push(...d(I));return m};return af(d(l.targetSnapshot.root)).pipe(No(null),Ri(1))}),Z0(()=>this.afterPreactivation()),Ir(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return p?je(p).pipe(me(()=>o)):Ce(o)}),me(l=>{let d=MU(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ee(K({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Yt(()=>{this.events.next(new ku)}),OU(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ri(1),Yt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Gv(this.transitionAbortSubject.pipe(Yt(l=>{throw l}))),Jl(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Po(l=>{if(a=!0,DA(l))this.events.next(new zi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),NU(l)?this.events.next(new Ac(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Ou(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Vi(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof Vu){let{message:m,cancellationCode:I}=Up(this.urlSerializer,p);this.events.next(new zi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,I)),this.events.next(new Ac(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=t.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Gn}))}))}cancelNavigationTransition(t,r,i){let o=new zi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xj(n){return n!==Au}var Mj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>Z(Rj),providedIn:"root"})}}return n})(),C_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Rj=(()=>{class n extends C_{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:()=>Z(Pj),providedIn:"root"})}}return n})(),Pj=(()=>{class n extends kA{constructor(){super(...arguments),this.location=Z(wu),this.urlSerializer=Z(T_),this.options=Z(x_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(P_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Nu)this.stateMemento=this.createStateMemento();else if(t instanceof Js)this.rawUrlTree=r.initialUrl;else if(t instanceof Op){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ku?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof zi&&(t.code===Qn.GuardRejected||t.code===Qn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ou?this.restoreHistory(r,!0):t instanceof Zs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Gi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=K(K({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=K(K({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Su=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Su||{});function Nj(n,e){n.events.pipe(br(t=>t instanceof Zs||t instanceof zi||t instanceof Ou||t instanceof Js),me(t=>t instanceof Zs||t instanceof Js?Su.COMPLETE:(t instanceof zi?t.code===Qn.Redirect||t.code===Qn.SupersededByNewNavigation:!1)?Su.REDIRECTING:Su.FAILED),br(t=>t!==Su.REDIRECTING),Ri(1)).subscribe(()=>{e()})}function Oj(n){throw n}var kj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Z(lp),this.stateManager=Z(kA),this.options=Z(x_,{optional:!0})||{},this.pendingTasks=Z(yc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(Aj),this.urlSerializer=Z(T_),this.location=Z(wu),this.urlHandlingStrategy=Z(P_),this._events=new an,this.errorHandler=this.options.errorHandler||Oj,this.navigated=!1,this.routeReuseStrategy=Z(Mj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(R_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(A_,{optional:!0}),this.eventsSubscription=new It,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zi&&r.code!==Qn.Redirect&&r.code!==Qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zs)this.navigated=!0;else if(r instanceof Ac){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=K({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xj(i.source)},s);this.scheduleNavigation(a,Au,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Lj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Au,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=K({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(M_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=K(K({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let I=i?i.snapshot:this.routerState.snapshot.root;m=yA(I)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return _A(m,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ru(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Au,null,r)}navigate(t,r={skipLocationChange:!1}){return Vj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=K({},kj):r===!1?i=K({},Fj):i=r,Ru(t))return tA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return tA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,I)=>{a=m,l=I});let p=this.pendingTasks.add();return Nj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Vj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new de(4008,!1)}function Lj(n){return!(n instanceof ku)&&!(n instanceof Ac)}var Uj=new ue("");function FA(n,...e){return or([{provide:R_,multi:!0,useValue:n},[],{provide:Go,useFactory:jj,deps:[ft]},{provide:R0,multi:!0,useFactory:Bj},e.map(t=>t.\u0275providers)])}function jj(n){return n.routerState.root}function Bj(){let n=Z(cn);return e=>{let t=n.get(Gs);if(e!==t.components[0])return;let r=n.get(ft),i=n.get($j);n.get(Hj)===1&&r.initialNavigation(),n.get(qj,null,xe.Optional)?.setUpPreloading(),n.get(Uj,null,xe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $j=new ue("",{factory:()=>new an}),Hj=new ue("",{providedIn:"root",factory:()=>1});var qj=new ue("");var LA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},zj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},UA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,d=l?n[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,I=(a&15)<<2|d>>6,S=d&63;l||(S=64,s||(I=64)),r.push(t[p],t[m],t[I],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||m==null)throw new O_;let I=o<<2|a>>4;if(r.push(I),d!==64){let S=a<<4&240|d>>2;if(r.push(S),m!==64){let k=d<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},O_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Gj=function(n){let e=LA(n);return UA.encodeByteArray(e,!0)},Hu=function(n){return Gj(n).replace(/\./g,"")},F_=function(n){try{return UA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Kj=()=>Wj().__FIREBASE_DEFAULTS__,Qj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Yj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&F_(n[1]);return e&&JSON.parse(e)},qp=()=>{try{return Kj()||Qj()||Yj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},V_=n=>{var e,t;return(t=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zp=n=>{let e=V_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},L_=()=>{var n;return(n=qp())===null||n===void 0?void 0:n.config},U_=n=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${n}`]};var Hp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hu(JSON.stringify(t)),Hu(JSON.stringify(s)),""].join(".")}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Zj(){var n;let e=(n=qp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){let n=en();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zA(){return!Zj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Jj="FirebaseError",An=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Jj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}},Wi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Xj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new An(i,a,r)}};function Xj(n,e){return n.replace(eB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var eB=/\{\$([^}]+)}/g;function WA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(VA(o)&&VA(s)){if(!Xs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function VA(n){return n!==null&&typeof n=="object"}function qu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Pc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function KA(n,e){let t=new k_(n,e);return t.subscribe.bind(t)}var k_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=N_),i.error===void 0&&(i.error=N_),i.complete===void 0&&(i.complete=N_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function N_(){}var tX=4*60*60*1e3;function pt(n){return n&&n._delegate?n._delegate:n}var Ln=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ea="[DEFAULT]";var B_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Hp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rB(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nB(n){return n===ea?void 0:n}function rB(n){return n.instantiationMode==="EAGER"}var Wp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new B_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var iB=[],Ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ve||{}),oB={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},sB=Ve.INFO,aB={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},cB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=aB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ko=class{constructor(e){this.name=e,this._logLevel=sB,this._logHandler=cB,this._userLogHandler=null,iB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}};var lB=(n,e)=>e.some(t=>n instanceof t),QA,YA;function uB(){return QA||(QA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dB(){return YA||(YA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZA=new WeakMap,H_=new WeakMap,JA=new WeakMap,$_=new WeakMap,z_=new WeakMap;function hB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ci(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&ZA.set(t,n)}).catch(()=>{}),z_.set(e,n),e}function fB(n){if(H_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});H_.set(n,e)}var q_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return H_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XA(n){q_=n(q_)}function pB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Kp(this),e,...t);return JA.set(r,e.sort?e.sort():[e]),ci(r)}:dB().includes(n)?function(...e){return n.apply(Kp(this),e),ci(ZA.get(this))}:function(...e){return ci(n.apply(Kp(this),e))}}function mB(n){return typeof n=="function"?pB(n):(n instanceof IDBTransaction&&fB(n),lB(n,uB())?new Proxy(n,q_):n)}function ci(n){if(n instanceof IDBRequest)return hB(n);if($_.has(n))return $_.get(n);let e=mB(n);return e!==n&&($_.set(n,e),z_.set(e,n)),e}var Kp=n=>z_.get(n);function t1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ci(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ci(s.result),l.oldVersion,l.newVersion,ci(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var gB=["get","getKey","getAll","getAllKeys","count"],vB=["put","add","delete","clear"],G_=new Map;function e1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(G_.get(e))return G_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=vB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gB.includes(t)))return;let o=function(s,...a){return T(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&l.done]))[0]})};return G_.set(e,o),o}XA(n=>Ee(K({},n),{get:(e,t,r)=>e1(e,t)||n.get(e,t,r),has:(e,t)=>!!e1(e,t)||n.has(e,t)}));var K_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function yB(n){let e=n.getComponent();return e?.type==="VERSION"}var Q_="@firebase/app",n1="0.10.13";var Ki=new Ko("@firebase/app"),_B="@firebase/app-compat",wB="@firebase/analytics-compat",EB="@firebase/analytics",bB="@firebase/app-check-compat",IB="@firebase/app-check",CB="@firebase/auth",TB="@firebase/auth-compat",SB="@firebase/database",DB="@firebase/data-connect",AB="@firebase/database-compat",xB="@firebase/functions",MB="@firebase/functions-compat",RB="@firebase/installations",PB="@firebase/installations-compat",NB="@firebase/messaging",OB="@firebase/messaging-compat",kB="@firebase/performance",FB="@firebase/performance-compat",VB="@firebase/remote-config",LB="@firebase/remote-config-compat",UB="@firebase/storage",jB="@firebase/storage-compat",BB="@firebase/firestore",$B="@firebase/vertexai-preview",HB="@firebase/firestore-compat",qB="firebase",zB="10.14.1";var Y_="[DEFAULT]",GB={[Q_]:"fire-core",[_B]:"fire-core-compat",[EB]:"fire-analytics",[wB]:"fire-analytics-compat",[IB]:"fire-app-check",[bB]:"fire-app-check-compat",[CB]:"fire-auth",[TB]:"fire-auth-compat",[SB]:"fire-rtdb",[DB]:"fire-data-connect",[AB]:"fire-rtdb-compat",[xB]:"fire-fn",[MB]:"fire-fn-compat",[RB]:"fire-iid",[PB]:"fire-iid-compat",[NB]:"fire-fcm",[OB]:"fire-fcm-compat",[kB]:"fire-perf",[FB]:"fire-perf-compat",[VB]:"fire-rc",[LB]:"fire-rc-compat",[UB]:"fire-gcs",[jB]:"fire-gcs-compat",[BB]:"fire-fst",[HB]:"fire-fst-compat",[$B]:"fire-vertex","fire-js":"fire-js",[qB]:"fire-js-all"};var zu=new Map,WB=new Map,Z_=new Map;function r1(n,e){try{n.container.addComponent(e)}catch(t){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function li(n){let e=n.name;if(Z_.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Z_.set(e,n);for(let t of zu.values())r1(t,n);for(let t of WB.values())r1(t,n);return!0}function ta(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nr(n){return n.settings!==void 0}var KB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Wi("app","Firebase",KB);var J_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}};var ui=zB;function tw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Y_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(t||(t=L_()),!t)throw Qo.create("no-options");let o=zu.get(i);if(o){if(Xs(t,o.options)&&Xs(r,o.config))return o;throw Qo.create("duplicate-app",{appName:i})}let s=new Wp(i);for(let l of Z_.values())s.addComponent(l);let a=new J_(t,r,s);return zu.set(i,a),a}function Yo(n=Y_){let e=zu.get(n);if(!e&&n===Y_&&L_())return tw();if(!e)throw Qo.create("no-app",{appName:n});return e}function Qp(){return Array.from(zu.values())}function mt(n,e,t){var r;let i=(r=GB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(a.join(" "));return}li(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var QB="firebase-heartbeat-database",YB=1,Gu="firebase-heartbeat-store",W_=null;function a1(){return W_||(W_=t1(QB,YB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qo.create("idb-open",{originalErrorMessage:n.message})})),W_}function ZB(n){return T(this,null,function*(){try{let t=(yield a1()).transaction(Gu),r=yield t.objectStore(Gu).get(c1(n));return yield t.done,r}catch(e){if(e instanceof An)Ki.warn(e.message);else{let t=Qo.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(t.message)}}})}function i1(n,e){return T(this,null,function*(){try{let r=(yield a1()).transaction(Gu,"readwrite");yield r.objectStore(Gu).put(e,c1(n)),yield r.done}catch(t){if(t instanceof An)Ki.warn(t.message);else{let r=Qo.create("idb-set",{originalErrorMessage:t?.message});Ki.warn(r.message)}}})}function c1(n){return`${n.name}!${n.options.appId}`}var JB=1024,XB=30*24*60*60*1e3,X_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ew(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=o1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=XB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ki.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=o1(),{heartbeatsToSend:r,unsentEntries:i}=e3(this._heartbeatsCache.heartbeats),o=Hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ki.warn(t),""}})}};function o1(){return new Date().toISOString().substring(0,10)}function e3(n,e=JB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),s1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),s1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ew=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return j_()?GA().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ZB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return i1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return i1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function s1(n){return Hu(JSON.stringify({version:2,heartbeats:n})).length}function t3(n){li(new Ln("platform-logger",e=>new K_(e),"PRIVATE")),li(new Ln("heartbeat",e=>new X_(e),"PRIVATE")),mt(Q_,n1,n),mt(Q_,n1,"esm2017"),mt("fire-js","")}t3("");var n3="firebase",r3="10.14.1";mt(n3,r3,"app");var Qi=new Fi("ANGULARFIRE2_VERSION");function Oc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ra=(n,e)=>{let t=e?[e]:Qp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Zo=class{constructor(){return ra(i3)}},i3="app-check";function Nc(){}var Yp=class{zone;delegate;constructor(e,t=Vv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},nw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nc,{},Nc,Nc)),t.pipe(Yt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jo=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Yp(Zone.current)),this.insideAngular=t.run(()=>new Yp(Zone.current,Fv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(le(tt))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zp(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function o3(n){return Zp().ngZone.runOutsideAngular(()=>n())}function na(n){return Zp().ngZone.run(()=>n())}function s3(n){return a3(Zp())(n)}function a3(n){return function(t){return t=t.lift(new nw(n.ngZone)),t.pipe(Ro(n.outsideAngular),Mo(n.insideAngular))}}var c3=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),na(()=>n.apply(void 0,r))},gt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=na(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nc,{},Nc,Nc))),r[o]=c3(r[o],t));let i=o3(()=>n.apply(this,r));if(!e)if(i instanceof $e){let o=Zp();return i.pipe(Ro(o.outsideAngular),Mo(o.insideAngular))}else return na(()=>i);return i instanceof $e?i.pipe(s3):i instanceof Promise?na(()=>new Promise((o,s)=>i.then(a=>na(()=>o(a)),a=>na(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:na(()=>i)};var Or=class{constructor(e){return e}},Yi=class{constructor(){return Qp()}};function l3(n){return n&&n.length===1?n[0]:new Or(Yo())}var rw=new ue("angularfire2._apps"),u3={provide:Or,useFactory:l3,deps:[[new Ut,rw]]},d3={provide:Yi,deps:[[new Ut,rw]]};function h3(n){return(e,t)=>{let r=t.get(qo);mt("angularfire",Qi.full,"core"),mt("angularfire",Qi.full,"app"),mt("angular",ED.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Or(i)}}function l1(n,...e){return or([u3,d3,{provide:rw,useFactory:h3(n),multi:!0,deps:[tt,cn,Jo,...e]}])}var u1=gt(tw,!0);function D1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var A1=D1,x1=new Wi("auth","Firebase",D1());var rm=new Ko("@firebase/auth");function f3(n,...e){rm.logLevel<=Ve.WARN&&rm.warn(`Auth (${ui}): ${n}`,...e)}function Xp(n,...e){rm.logLevel<=Ve.ERROR&&rm.error(`Auth (${ui}): ${n}`,...e)}function hi(n,...e){throw Sw(n,...e)}function ia(n,...e){return Sw(n,...e)}function M1(n,e,t){let r=Object.assign(Object.assign({},A1()),{[e]:t});return new Wi("auth","Firebase",r).create(e,{appName:n.name})}function Xi(n){return M1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return x1.create(n,...e)}function pe(n,e,...t){if(!n)throw Sw(e,...t)}function Zi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Xp(e),new Error(e)}function es(n,e){n||Zi(e)}function aw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function p3(){return d1()==="http:"||d1()==="https:"}function d1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function m3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p3()||$A()||"connection"in navigator)?navigator.onLine:!0}function g3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var oa=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=jA()||HA()}get(){return m3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dw(n,e){es(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var im=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var v3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var y3=new oa(3e4,6e4);function eo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function to(o,s,a,l){return T(this,arguments,function*(n,e,t,r,i={}){return R1(n,i,()=>T(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=qu(Object.assign({key:n.config.apiKey},p)).slice(1),I=yield n._getAdditionalHeaders();I["Content-Type"]="application/json",n.languageCode&&(I["X-Firebase-Locale"]=n.languageCode);let S=Object.assign({method:e,headers:I},d);return BA()||(S.referrerPolicy="no-referrer"),im.fetch()(P1(n,n.config.apiHost,t,m),S)}))})}function R1(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},v3),e);try{let i=new cw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Jp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Jp(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Jp(n,"user-disabled",s);let p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw M1(n,p,d);hi(n,p)}}catch(i){if(i instanceof An)throw i;hi(n,"network-request-failed",{message:String(i)})}})}function ed(o,s,a,l){return T(this,arguments,function*(n,e,t,r,i={}){let d=yield to(n,e,t,r,i);return"mfaPendingCredential"in d&&hi(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function P1(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Dw(n.config,i):`${n.config.apiScheme}://${i}`}function _3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var cw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ia(this.auth,"network-request-failed")),y3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Jp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ia(n,e,r);return i.customData._tokenResponse=t,i}function h1(n){return n!==void 0&&n.enterprise!==void 0}var lw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function w3(n,e){return T(this,null,function*(){return to(n,"GET","/v2/recaptchaConfig",eo(n,e))})}function E3(n,e){return T(this,null,function*(){return to(n,"POST","/v1/accounts:delete",e)})}function N1(n,e){return T(this,null,function*(){return to(n,"POST","/v1/accounts:lookup",e)})}function Wu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Aw(n,e=!1){return T(this,null,function*(){let t=pt(n),r=yield t.getIdToken(e),i=xw(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Wu(iw(i.auth_time)),issuedAtTime:Wu(iw(i.iat)),expirationTime:Wu(iw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function iw(n){return Number(n)*1e3}function xw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xp("JWT malformed, contained fewer than 3 sections"),null;try{let i=F_(t);return i?JSON.parse(i):(Xp("Failed to decode base64 JWT payload"),null)}catch(i){return Xp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function f1(n){let e=xw(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qu(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof An&&b3(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function b3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var uw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function om(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Qu(n,N1(t,{idToken:r}));pe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?O1(o.providerUserInfo):[],a=I3(n.providerData,s),l=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,p=l?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yu(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,m)})}function Mw(n){return T(this,null,function*(){let e=pt(n);yield om(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function I3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function O1(n){return n.map(e=>{var{providerId:t}=e,r=Lv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function C3(n,e){return T(this,null,function*(){let t=yield R1(n,{},()=>T(this,null,function*(){let r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=P1(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",im.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function T3(n,e){return T(this,null,function*(){return to(n,"POST","/v2/accounts:revokeToken",eo(n,e))})}var Ku=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let t=f1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield C3(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(pe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Zi("not implemented")}};function Xo(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var kc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield Qu(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Aw(this,e)}reload(){return Mw(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield om(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Nr(this.auth.app))return Promise.reject(Xi(this.auth));let e=yield this.getIdToken();return yield Qu(this,E3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,d,p;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(s=t.photoURL)!==null&&s!==void 0?s:void 0,$=(a=t.tenantId)!==null&&a!==void 0?a:void 0,V=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,W=(d=t.createdAt)!==null&&d!==void 0?d:void 0,re=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:te,emailVerified:se,isAnonymous:De,providerData:ce,stsTokenManager:R}=t;pe(te&&R,e,"internal-error");let D=Ku.fromJSON(this.name,R);pe(typeof te=="string",e,"internal-error"),Xo(m,e.name),Xo(I,e.name),pe(typeof se=="boolean",e,"internal-error"),pe(typeof De=="boolean",e,"internal-error"),Xo(S,e.name),Xo(k,e.name),Xo($,e.name),Xo(V,e.name),Xo(W,e.name),Xo(re,e.name);let x=new n({uid:te,auth:e,email:I,emailVerified:se,displayName:m,isAnonymous:De,photoURL:k,phoneNumber:S,tenantId:$,stsTokenManager:D,createdAt:W,lastLoginAt:re});return ce&&Array.isArray(ce)&&(x.providerData=ce.map(P=>Object.assign({},P))),V&&(x._redirectEventId=V),x}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new Ku;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield om(o),o})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];pe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?O1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ku;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var p1=new Map;function Ji(n){es(n instanceof Function,"Expected a class definition");let e=p1.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,p1.set(n,e),e)}var S3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),dw=S3;function em(n,e,t){return`firebase:${n}:${e}:${t}`}var sm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=em(this.userKey,i.apiKey,o),this.fullPersistenceKey=em("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?kc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(Ji(dw),e,r);let i=(yield Promise.all(t.map(d=>T(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Ji(dw),s=em(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(s);if(p){let m=kc._fromJSON(e,p);d!==o&&(a=m),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>T(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function m1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j1(e))return"Blackberry";if(B1(e))return"Webos";if(F1(e))return"Safari";if((e.includes("chrome/")||V1(e))&&!e.includes("edge/"))return"Chrome";if(U1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function k1(n=en()){return/firefox\//i.test(n)}function F1(n=en()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V1(n=en()){return/crios\//i.test(n)}function L1(n=en()){return/iemobile/i.test(n)}function U1(n=en()){return/android/i.test(n)}function j1(n=en()){return/blackberry/i.test(n)}function B1(n=en()){return/webos/i.test(n)}function Rw(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function D3(n=en()){var e;return Rw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function A3(){return qA()&&document.documentMode===10}function $1(n=en()){return Rw(n)||U1(n)||B1(n)||j1(n)||/windows phone/i.test(n)||L1(n)}function H1(n,e=[]){let t;switch(n){case"Browser":t=m1(en());break;case"Worker":t=`${m1(en())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ui}/${r}`}var hw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function x3(t){return T(this,arguments,function*(n,e={}){return to(n,"GET","/v2/passwordPolicy",eo(n,e))})}var M3=6,fw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:M3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var pw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new am(this),this.idTokenSubscription=new am(this),this.beforeStateQueue=new hw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield sm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield N1(this,{idToken:e}),r=yield kc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(Nr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield om(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=g3()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Nr(this.app))return Promise.reject(Xi(this));let t=e?pt(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Nr(this.app)?Promise.reject(Xi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Nr(this.app)?Promise.reject(Xi(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Ji(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield x3(this),t=new fw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield T3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ji(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=yield sm.create(this,[Ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&f3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function aa(n){return pt(n)}var am=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KA(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pm={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R3(n){pm=n}function q1(n){return pm.loadJS(n)}function P3(){return pm.recaptchaEnterpriseScript}function N3(){return pm.gapiScript}function z1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var O3="recaptcha-enterprise",k3="NO_RECAPTCHA",mw=class{constructor(e){this.type=O3,this.auth=aa(e)}verify(e="verify",t=!1){return T(this,null,function*(){function r(o){return T(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>T(this,null,function*(){w3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new lw(l);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;h1(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(k3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&h1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=P3();l.length!==0&&(l+=a),q1(l).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function g1(n,e,t,r=!1){return T(this,null,function*(){let i=new mw(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function gw(n,e,t,r){return T(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield g1(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>T(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield g1(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function Pw(n,e){let t=ta(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Xs(o,e??{}))return i;hi(i,"already-initialized")}return t.initialize({options:e})}function F3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Nw(n,e,t){let r=aa(n);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=G1(e),{host:s,port:a}=V3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||L3()}function G1(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function V3(n){let e=G1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:v1(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:v1(s)}}}function v1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function L3(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Zu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,t){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}};function U3(n,e){return T(this,null,function*(){return to(n,"POST","/v1/accounts:signUp",e)})}function j3(n,e){return T(this,null,function*(){return ed(n,"POST","/v1/accounts:signInWithPassword",eo(n,e))})}function B3(n,e){return T(this,null,function*(){return to(n,"POST","/v1/accounts:sendOobCode",eo(n,e))})}function $3(n,e){return T(this,null,function*(){return B3(n,e)})}function H3(n,e){return T(this,null,function*(){return ed(n,"POST","/v1/accounts:signInWithEmailLink",eo(n,e))})}function q3(n,e){return T(this,null,function*(){return ed(n,"POST","/v1/accounts:signInWithEmailLink",eo(n,e))})}var Ju=class n extends Zu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return T(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gw(e,t,"signInWithPassword",j3);case"emailLink":return H3(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}})}_linkToIdToken(e,t){return T(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gw(e,r,"signUpPassword",U3);case"emailLink":return q3(e,{idToken:t,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ow(n,e){return T(this,null,function*(){return ed(n,"POST","/v1/accounts:signInWithIdp",eo(n,e))})}function z3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G3(n){let e=Rc(Pc(n)).link,t=e?Rc(Pc(e)).deep_link_id:null,r=Rc(Pc(n)).deep_link_id;return(r?Rc(Pc(r)).link:null)||r||t||e||n}var cm=class n{constructor(e){var t,r,i,o,s,a;let l=Rc(Pc(e)),d=(t=l.apiKey)!==null&&t!==void 0?t:null,p=(r=l.oobCode)!==null&&r!==void 0?r:null,m=z3((i=l.mode)!==null&&i!==void 0?i:null);pe(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=G3(e);try{return new n(t)}catch{return null}}};var W1=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ju._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=cm.parseLink(r);return pe(i,"argument-error"),Ju._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),lm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vw=class extends lm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function W3(n,e){return T(this,null,function*(){return ed(n,"POST","/v1/accounts:signUp",eo(n,e))})}var Fc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return T(this,null,function*(){let o=yield kc._fromIdTokenResponse(e,r,i),s=y1(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=y1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function y1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yw=class n extends An{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function K1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yw._fromErrorAndOperation(n,o,e,r):o})}function K3(n,e,t=!1){return T(this,null,function*(){let r=yield Qu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fc._forOperation(n,"link",r)})}function Q3(n,e,t=!1){return T(this,null,function*(){let{auth:r}=n;if(Nr(r.app))return Promise.reject(Xi(r));let i="reauthenticate";try{let o=yield Qu(n,K1(r,i,e,n),t);pe(o.idToken,r,"internal-error");let s=xw(o.idToken);pe(s,r,"internal-error");let{sub:a}=s;return pe(n.uid===a,r,"user-mismatch"),Fc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),o}})}function Q1(n,e,t=!1){return T(this,null,function*(){if(Nr(n.app))return Promise.reject(Xi(n));let r="signIn",i=yield K1(n,r,e),o=yield Fc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Ow(n,e){return T(this,null,function*(){return Q1(aa(n),e)})}function Y3(n,e,t){var r;pe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(pe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(pe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Y1(n){return T(this,null,function*(){let e=aa(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function kw(n,e,t){return T(this,null,function*(){if(Nr(n.app))return Promise.reject(Xi(n));let r=aa(n),s=yield gw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Y1(n),l}),a=yield Fc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Fw(n,e,t){return Nr(n.app)?Promise.reject(Xi(n)):Ow(pt(n),W1.credential(e,t)).catch(r=>T(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Y1(n),r}))}function Vw(n,e){return T(this,null,function*(){let t=pt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Y3(t.auth,i,e);let{email:o}=yield $3(t.auth,i);o!==n.email&&(yield n.reload())})}function Lw(n,e,t,r){return pt(n).onIdTokenChanged(e,t,r)}function Uw(n,e,t){return pt(n).beforeAuthStateChanged(e,t)}var um="__sak";var dm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Z3=1e3,J3=10,X3=(()=>{class n extends dm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);A3()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,J3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return T(this,null,function*(){yield Ao(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return T(this,null,function*(){let r=yield Ao(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return T(this,null,function*(){yield Ao(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Z1=X3;var e4=(()=>{class n extends dm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),jw=e4;function t4(n){return Promise.all(n.map(e=>T(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var n4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return T(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(p=>T(this,null,function*(){return p(r.origin,s)})),d=yield t4(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function J1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var _w=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let d=J1("",20);i.port1.start();let p=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let I=m;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(I.data.response);break;default:clearTimeout(p),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function di(){return window}function r4(n){di().location.href=n}function X1(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}function i4(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function o4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function s4(){return X1()?self:null}var ex="firebaseLocalStorageDb",a4=1,hm="firebaseLocalStorage",tx="fbase_key",sa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function mm(n,e){return n.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function c4(){let n=indexedDB.deleteDatabase(ex);return new sa(n).toPromise()}function ww(){let n=indexedDB.open(ex,a4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(hm,{keyPath:tx})}catch(i){t(i)}}),n.addEventListener("success",()=>T(this,null,function*(){let r=n.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),yield c4(),e(yield ww()))}))})}function _1(n,e,t){return T(this,null,function*(){let r=mm(n,!0).put({[tx]:e,value:t});return new sa(r).toPromise()})}function l4(n,e){return T(this,null,function*(){let t=mm(n,!1).get(e),r=yield new sa(t).toPromise();return r===void 0?null:r.value})}function w1(n,e){let t=mm(n,!0).delete(e);return new sa(t).toPromise()}var u4=800,d4=3,h4=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield ww(),this.db)})}_withRetries(t){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>d4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return X1()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=n4._getInstance(s4()),this.receiver._subscribe("keyChanged",(t,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var t,r;if(this.activeServiceWorker=yield i4(),!this.activeServiceWorker)return;this.sender=new _w(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||o4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ww();return yield _1(t,um,"1"),yield w1(t,um),!0}catch{}return!1})}_withPendingWrite(t){return T(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>_1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return T(this,null,function*(){let r=yield this._withRetries(i=>l4(i,t));return this.localCache[t]=r,r})}_remove(t){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>w1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return T(this,null,function*(){let t=yield this._withRetries(o=>{let s=mm(o,!1).getAll();return new sa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nx=h4;var KX=z1("rcb"),QX=new oa(3e4,6e4);function f4(n,e){return e?Ji(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Xu=class extends Zu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ow(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ow(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ow(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function p4(n){return Q1(n.auth,new Xu(n),n.bypassAuthState)}function m4(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),Q3(t,new Xu(n),n.bypassAuthState)}function g4(n){return T(this,null,function*(){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),K3(t,new Xu(n),n.bypassAuthState)})}var Ew=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p4;case"linkViaPopup":case"linkViaRedirect":return g4;case"reauthViaPopup":case"reauthViaRedirect":return m4;default:hi(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var YX=new oa(2e3,1e4);var v4="pendingRedirect",tm=new Map,bw=class n extends Ew{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=tm.get(this.auth._key());if(!e){try{let r=(yield y4(this.resolver,this.auth))?yield Ao(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return Ao(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ao(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function y4(n,e){return T(this,null,function*(){let t=E4(e),r=w4(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function _4(n,e){tm.set(n._key(),e)}function w4(n){return Ji(n._redirectPersistence)}function E4(n){return em(v4,n.config.apiKey,n.name)}function b4(n,e,t=!1){return T(this,null,function*(){if(Nr(n.app))return Promise.reject(Xi(n));let r=aa(n),i=f4(r,e),s=yield new bw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var I4=10*60*1e3,Iw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!rx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ia(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I4&&this.cachedEventUids.clear(),this.cachedEventUids.has(E1(e))}saveEventToCache(e){this.cachedEventUids.add(E1(e)),this.lastProcessedEventTime=Date.now()}};function E1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function C4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rx(n);default:return!1}}function T4(t){return T(this,arguments,function*(n,e={}){return to(n,"GET","/v1/projects",e)})}var S4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D4=/^https?/;function A4(n){return T(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield T4(n);for(let t of e)try{if(x4(t))return}catch{}hi(n,"unauthorized-domain")})}function x4(n){let e=aw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!D4.test(t))return!1;if(S4.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var M4=new oa(3e4,6e4);function b1(){let n=di().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function R4(n){return new Promise((e,t)=>{var r,i,o;function s(){b1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b1(),t(ia(n,"network-request-failed"))},timeout:M4.get()})}if(!((i=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=di().gapi)===null||o===void 0)&&o.load)s();else{let a=z1("iframefcb");return di()[a]=()=>{gapi.load?s():t(ia(n,"network-request-failed"))},q1(`${N3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw nm=null,e})}var nm=null;function P4(n){return nm=nm||R4(n),nm}var N4=new oa(5e3,15e3),O4="__/auth/iframe",k4="emulator/auth/iframe",F4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L4(n){let e=n.config;pe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Dw(e,k4):`https://${n.config.authDomain}/${O4}`,r={apiKey:e.apiKey,appName:n.name,v:ui},i=V4.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qu(r).slice(1)}`}function U4(n){return T(this,null,function*(){let e=yield P4(n),t=di().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:L4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F4,dontclear:!0},r=>new Promise((i,o)=>T(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ia(n,"network-request-failed"),a=di().setTimeout(()=>{o(s)},N4.get());function l(){di().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var j4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B4=500,$4=600,H4="_blank",q4="http://localhost",fm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function z4(n,e,t,r=B4,i=$4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},j4),{width:r.toString(),height:i.toString(),top:o,left:s}),d=en().toLowerCase();t&&(a=V1(d)?H4:t),k1(d)&&(e=e||q4,l.scrollbars="yes");let p=Object.entries(l).reduce((I,[S,k])=>`${I}${S}=${k},`,"");if(D3(d)&&a!=="_self")return G4(e||"",a),new fm(null);let m=window.open(e||"",a,p);pe(m,n,"popup-blocked");try{m.focus()}catch{}return new fm(m)}function G4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var W4="__/auth/handler",K4="emulator/auth/handler",Q4=encodeURIComponent("fac");function I1(n,e,t,r,i,o){return T(this,null,function*(){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ui,eventId:i};if(e instanceof lm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",WA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof vw){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let l=yield n._getAppCheckToken(),d=l?`#${Q4}=${encodeURIComponent(l)}`:"";return`${Y4(n)}?${qu(a).slice(1)}${d}`})}function Y4({config:n}){return n.emulator?Dw(n,K4):`https://${n.authDomain}/${W4}`}var sw="webStorageSupport",Cw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jw,this._completeRedirectFn=b4,this._overrideRedirectResult=_4}_openPopup(e,t,r,i){return T(this,null,function*(){var o;es((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield I1(e,t,r,aw(),i);return z4(e,s,J1())})}_openRedirect(e,t,r,i){return T(this,null,function*(){yield this._originValidation(e);let o=yield I1(e,t,r,aw(),i);return r4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(es(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return T(this,null,function*(){let t=yield U4(e),r=new Iw(e);return t.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sw,{type:sw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[sw];s!==void 0&&t(!!s),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=A4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $1()||F1()||Rw()}},ix=Cw;var C1="@firebase/auth",T1="1.7.9";var Tw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Z4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J4(n){li(new Ln("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(n)},d=new pw(r,i,o,l);return F3(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),li(new Ln("auth-internal",e=>{let t=aa(e.getProvider("auth").getImmediate());return(r=>new Tw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(C1,T1,Z4(n)),mt(C1,T1,"esm2017")}var X4=5*60,e$=U_("authIdTokenMaxAge")||X4,S1=null,t$=n=>e=>T(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>e$)return;let i=t?.token;S1!==i&&(S1=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Bw(n=Yo()){let e=ta(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Pw(n,{popupRedirectResolver:ix,persistence:[nx,Z1,jw]}),r=U_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=t$(o.toString());Uw(t,s,()=>s(t.currentUser)),Lw(t,a=>s(a))}}let i=V_("auth");return i&&Nw(t,`http://${i}`),t}function n$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}R3({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ia("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",n$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J4("Browser");var ox="auth",ca=class{constructor(e){return e}},la=class{constructor(){return ra(ox)}};var $w=new ue("angularfire2.auth-instances");function G$(n,e){let t=Oc(ox,n,e);return t&&new ca(t)}function W$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ca(r)}}var K$={provide:la,deps:[[new Ut,$w]]},Q$={provide:ca,useFactory:G$,deps:[[new Ut,$w],Or]};function sx(n,...e){return mt("angularfire",Qi.full,"auth"),or([Q$,K$,{provide:$w,useFactory:W$(n),multi:!0,deps:[tt,cn,Jo,Yi,[new Ut,Zo],...e]}])}var gm=gt(kw,!0);var ax=gt(Bw,!0);var cx=gt(Vw,!0);var lx=gt(Fw,!0);var bi=IN(ux());var dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hx={};var ts,qw;(function(){var n;function e(R,D){function x(){}x.prototype=D.prototype,R.D=D.prototype,R.prototype=new x,R.prototype.constructor=R,R.C=function(P,N,O){for(var M=Array(arguments.length-2),pr=2;pr<arguments.length;pr++)M[pr-2]=arguments[pr];return D.prototype[N].apply(P,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,D,x){x||(x=0);var P=Array(16);if(typeof D=="string")for(var N=0;16>N;++N)P[N]=D.charCodeAt(x++)|D.charCodeAt(x++)<<8|D.charCodeAt(x++)<<16|D.charCodeAt(x++)<<24;else for(N=0;16>N;++N)P[N]=D[x++]|D[x++]<<8|D[x++]<<16|D[x++]<<24;D=R.g[0],x=R.g[1],N=R.g[2];var O=R.g[3],M=D+(O^x&(N^O))+P[0]+3614090360&4294967295;D=x+(M<<7&4294967295|M>>>25),M=O+(N^D&(x^N))+P[1]+3905402710&4294967295,O=D+(M<<12&4294967295|M>>>20),M=N+(x^O&(D^x))+P[2]+606105819&4294967295,N=O+(M<<17&4294967295|M>>>15),M=x+(D^N&(O^D))+P[3]+3250441966&4294967295,x=N+(M<<22&4294967295|M>>>10),M=D+(O^x&(N^O))+P[4]+4118548399&4294967295,D=x+(M<<7&4294967295|M>>>25),M=O+(N^D&(x^N))+P[5]+1200080426&4294967295,O=D+(M<<12&4294967295|M>>>20),M=N+(x^O&(D^x))+P[6]+2821735955&4294967295,N=O+(M<<17&4294967295|M>>>15),M=x+(D^N&(O^D))+P[7]+4249261313&4294967295,x=N+(M<<22&4294967295|M>>>10),M=D+(O^x&(N^O))+P[8]+1770035416&4294967295,D=x+(M<<7&4294967295|M>>>25),M=O+(N^D&(x^N))+P[9]+2336552879&4294967295,O=D+(M<<12&4294967295|M>>>20),M=N+(x^O&(D^x))+P[10]+4294925233&4294967295,N=O+(M<<17&4294967295|M>>>15),M=x+(D^N&(O^D))+P[11]+2304563134&4294967295,x=N+(M<<22&4294967295|M>>>10),M=D+(O^x&(N^O))+P[12]+1804603682&4294967295,D=x+(M<<7&4294967295|M>>>25),M=O+(N^D&(x^N))+P[13]+4254626195&4294967295,O=D+(M<<12&4294967295|M>>>20),M=N+(x^O&(D^x))+P[14]+2792965006&4294967295,N=O+(M<<17&4294967295|M>>>15),M=x+(D^N&(O^D))+P[15]+1236535329&4294967295,x=N+(M<<22&4294967295|M>>>10),M=D+(N^O&(x^N))+P[1]+4129170786&4294967295,D=x+(M<<5&4294967295|M>>>27),M=O+(x^N&(D^x))+P[6]+3225465664&4294967295,O=D+(M<<9&4294967295|M>>>23),M=N+(D^x&(O^D))+P[11]+643717713&4294967295,N=O+(M<<14&4294967295|M>>>18),M=x+(O^D&(N^O))+P[0]+3921069994&4294967295,x=N+(M<<20&4294967295|M>>>12),M=D+(N^O&(x^N))+P[5]+3593408605&4294967295,D=x+(M<<5&4294967295|M>>>27),M=O+(x^N&(D^x))+P[10]+38016083&4294967295,O=D+(M<<9&4294967295|M>>>23),M=N+(D^x&(O^D))+P[15]+3634488961&4294967295,N=O+(M<<14&4294967295|M>>>18),M=x+(O^D&(N^O))+P[4]+3889429448&4294967295,x=N+(M<<20&4294967295|M>>>12),M=D+(N^O&(x^N))+P[9]+568446438&4294967295,D=x+(M<<5&4294967295|M>>>27),M=O+(x^N&(D^x))+P[14]+3275163606&4294967295,O=D+(M<<9&4294967295|M>>>23),M=N+(D^x&(O^D))+P[3]+4107603335&4294967295,N=O+(M<<14&4294967295|M>>>18),M=x+(O^D&(N^O))+P[8]+1163531501&4294967295,x=N+(M<<20&4294967295|M>>>12),M=D+(N^O&(x^N))+P[13]+2850285829&4294967295,D=x+(M<<5&4294967295|M>>>27),M=O+(x^N&(D^x))+P[2]+4243563512&4294967295,O=D+(M<<9&4294967295|M>>>23),M=N+(D^x&(O^D))+P[7]+1735328473&4294967295,N=O+(M<<14&4294967295|M>>>18),M=x+(O^D&(N^O))+P[12]+2368359562&4294967295,x=N+(M<<20&4294967295|M>>>12),M=D+(x^N^O)+P[5]+4294588738&4294967295,D=x+(M<<4&4294967295|M>>>28),M=O+(D^x^N)+P[8]+2272392833&4294967295,O=D+(M<<11&4294967295|M>>>21),M=N+(O^D^x)+P[11]+1839030562&4294967295,N=O+(M<<16&4294967295|M>>>16),M=x+(N^O^D)+P[14]+4259657740&4294967295,x=N+(M<<23&4294967295|M>>>9),M=D+(x^N^O)+P[1]+2763975236&4294967295,D=x+(M<<4&4294967295|M>>>28),M=O+(D^x^N)+P[4]+1272893353&4294967295,O=D+(M<<11&4294967295|M>>>21),M=N+(O^D^x)+P[7]+4139469664&4294967295,N=O+(M<<16&4294967295|M>>>16),M=x+(N^O^D)+P[10]+3200236656&4294967295,x=N+(M<<23&4294967295|M>>>9),M=D+(x^N^O)+P[13]+681279174&4294967295,D=x+(M<<4&4294967295|M>>>28),M=O+(D^x^N)+P[0]+3936430074&4294967295,O=D+(M<<11&4294967295|M>>>21),M=N+(O^D^x)+P[3]+3572445317&4294967295,N=O+(M<<16&4294967295|M>>>16),M=x+(N^O^D)+P[6]+76029189&4294967295,x=N+(M<<23&4294967295|M>>>9),M=D+(x^N^O)+P[9]+3654602809&4294967295,D=x+(M<<4&4294967295|M>>>28),M=O+(D^x^N)+P[12]+3873151461&4294967295,O=D+(M<<11&4294967295|M>>>21),M=N+(O^D^x)+P[15]+530742520&4294967295,N=O+(M<<16&4294967295|M>>>16),M=x+(N^O^D)+P[2]+3299628645&4294967295,x=N+(M<<23&4294967295|M>>>9),M=D+(N^(x|~O))+P[0]+4096336452&4294967295,D=x+(M<<6&4294967295|M>>>26),M=O+(x^(D|~N))+P[7]+1126891415&4294967295,O=D+(M<<10&4294967295|M>>>22),M=N+(D^(O|~x))+P[14]+2878612391&4294967295,N=O+(M<<15&4294967295|M>>>17),M=x+(O^(N|~D))+P[5]+4237533241&4294967295,x=N+(M<<21&4294967295|M>>>11),M=D+(N^(x|~O))+P[12]+1700485571&4294967295,D=x+(M<<6&4294967295|M>>>26),M=O+(x^(D|~N))+P[3]+2399980690&4294967295,O=D+(M<<10&4294967295|M>>>22),M=N+(D^(O|~x))+P[10]+4293915773&4294967295,N=O+(M<<15&4294967295|M>>>17),M=x+(O^(N|~D))+P[1]+2240044497&4294967295,x=N+(M<<21&4294967295|M>>>11),M=D+(N^(x|~O))+P[8]+1873313359&4294967295,D=x+(M<<6&4294967295|M>>>26),M=O+(x^(D|~N))+P[15]+4264355552&4294967295,O=D+(M<<10&4294967295|M>>>22),M=N+(D^(O|~x))+P[6]+2734768916&4294967295,N=O+(M<<15&4294967295|M>>>17),M=x+(O^(N|~D))+P[13]+1309151649&4294967295,x=N+(M<<21&4294967295|M>>>11),M=D+(N^(x|~O))+P[4]+4149444226&4294967295,D=x+(M<<6&4294967295|M>>>26),M=O+(x^(D|~N))+P[11]+3174756917&4294967295,O=D+(M<<10&4294967295|M>>>22),M=N+(D^(O|~x))+P[2]+718787259&4294967295,N=O+(M<<15&4294967295|M>>>17),M=x+(O^(N|~D))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+D&4294967295,R.g[1]=R.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+O&4294967295}r.prototype.u=function(R,D){D===void 0&&(D=R.length);for(var x=D-this.blockSize,P=this.B,N=this.h,O=0;O<D;){if(N==0)for(;O<=x;)i(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<D;)if(P[N++]=R.charCodeAt(O++),N==this.blockSize){i(this,P),N=0;break}}else for(;O<D;)if(P[N++]=R[O++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=D},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var D=1;D<R.length-8;++D)R[D]=0;var x=8*this.o;for(D=R.length-8;D<R.length;++D)R[D]=x&255,x/=256;for(this.u(R),R=Array(16),D=x=0;4>D;++D)for(var P=0;32>P;P+=8)R[x++]=this.g[D]>>>P&255;return R};function o(R,D){var x=a;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=D(R)}function s(R,D){this.h=D;for(var x=[],P=!0,N=R.length-1;0<=N;N--){var O=R[N]|0;P&&O==D||(x[N]=O,P=!1)}this.g=x}var a={};function l(R){return-128<=R&&128>R?o(R,function(D){return new s([D|0],0>D?-1:0)}):new s([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return m;if(0>R)return V(d(-R));for(var D=[],x=1,P=0;R>=x;P++)D[P]=R/x|0,x*=4294967296;return new s(D,0)}function p(R,D){if(R.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R.charAt(0)=="-")return V(p(R.substring(1),D));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(D,8)),P=m,N=0;N<R.length;N+=8){var O=Math.min(8,R.length-N),M=parseInt(R.substring(N,N+O),D);8>O?(O=d(Math.pow(D,O)),P=P.j(O).add(d(M))):(P=P.j(x),P=P.add(d(M)))}return P}var m=l(0),I=l(1),S=l(16777216);n=s.prototype,n.m=function(){if($(this))return-V(this).m();for(var R=0,D=1,x=0;x<this.g.length;x++){var P=this.i(x);R+=(0<=P?P:4294967296+P)*D,D*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if($(this))return"-"+V(this).toString(R);for(var D=d(Math.pow(R,6)),x=this,P="";;){var N=se(x,D).g;x=W(x,N.j(D));var O=((0<x.g.length?x.g[0]:x.h)>>>0).toString(R);if(x=N,k(x))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(var D=0;D<R.g.length;D++)if(R.g[D]!=0)return!1;return!0}function $(R){return R.h==-1}n.l=function(R){return R=W(this,R),$(R)?-1:k(R)?0:1};function V(R){for(var D=R.g.length,x=[],P=0;P<D;P++)x[P]=~R.g[P];return new s(x,~R.h).add(I)}n.abs=function(){return $(this)?V(this):this},n.add=function(R){for(var D=Math.max(this.g.length,R.g.length),x=[],P=0,N=0;N<=D;N++){var O=P+(this.i(N)&65535)+(R.i(N)&65535),M=(O>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);P=M>>>16,O&=65535,M&=65535,x[N]=M<<16|O}return new s(x,x[x.length-1]&-2147483648?-1:0)};function W(R,D){return R.add(V(D))}n.j=function(R){if(k(this)||k(R))return m;if($(this))return $(R)?V(this).j(V(R)):V(V(this).j(R));if($(R))return V(this.j(V(R)));if(0>this.l(S)&&0>R.l(S))return d(this.m()*R.m());for(var D=this.g.length+R.g.length,x=[],P=0;P<2*D;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<R.g.length;N++){var O=this.i(P)>>>16,M=this.i(P)&65535,pr=R.i(N)>>>16,lo=R.i(N)&65535;x[2*P+2*N]+=M*lo,re(x,2*P+2*N),x[2*P+2*N+1]+=O*lo,re(x,2*P+2*N+1),x[2*P+2*N+1]+=M*pr,re(x,2*P+2*N+1),x[2*P+2*N+2]+=O*pr,re(x,2*P+2*N+2)}for(P=0;P<D;P++)x[P]=x[2*P+1]<<16|x[2*P];for(P=D;P<2*D;P++)x[P]=0;return new s(x,0)};function re(R,D){for(;(R[D]&65535)!=R[D];)R[D+1]+=R[D]>>>16,R[D]&=65535,D++}function te(R,D){this.g=R,this.h=D}function se(R,D){if(k(D))throw Error("division by zero");if(k(R))return new te(m,m);if($(R))return D=se(V(R),D),new te(V(D.g),V(D.h));if($(D))return D=se(R,V(D)),new te(V(D.g),D.h);if(30<R.g.length){if($(R)||$(D))throw Error("slowDivide_ only works with positive integers.");for(var x=I,P=D;0>=P.l(R);)x=De(x),P=De(P);var N=ce(x,1),O=ce(P,1);for(P=ce(P,2),x=ce(x,2);!k(P);){var M=O.add(P);0>=M.l(R)&&(N=N.add(x),O=M),P=ce(P,1),x=ce(x,1)}return D=W(R,N.j(D)),new te(N,D)}for(N=m;0<=R.l(D);){for(x=Math.max(1,Math.floor(R.m()/D.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=d(x),M=O.j(D);$(M)||0<M.l(R);)x-=P,O=d(x),M=O.j(D);k(O)&&(O=I),N=N.add(O),R=W(R,M)}return new te(N,R)}n.A=function(R){return se(this,R).h},n.and=function(R){for(var D=Math.max(this.g.length,R.g.length),x=[],P=0;P<D;P++)x[P]=this.i(P)&R.i(P);return new s(x,this.h&R.h)},n.or=function(R){for(var D=Math.max(this.g.length,R.g.length),x=[],P=0;P<D;P++)x[P]=this.i(P)|R.i(P);return new s(x,this.h|R.h)},n.xor=function(R){for(var D=Math.max(this.g.length,R.g.length),x=[],P=0;P<D;P++)x[P]=this.i(P)^R.i(P);return new s(x,this.h^R.h)};function De(R){for(var D=R.g.length+1,x=[],P=0;P<D;P++)x[P]=R.i(P)<<1|R.i(P-1)>>>31;return new s(x,R.h)}function ce(R,D){var x=D>>5;D%=32;for(var P=R.g.length-x,N=[],O=0;O<P;O++)N[O]=0<D?R.i(O+x)>>>D|R.i(O+x+1)<<32-D:R.i(O+x);return new s(N,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qw=hx.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,ts=hx.Integer=s}).apply(typeof dx<"u"?dx:typeof self<"u"?self:typeof window<"u"?window:{});var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},no={};var zw,Z$,Vc,Gw,td,ym,Ww,Kw,Qw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vm=="object"&&vm];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var F=c[b];if(!(F in g))break e;g=g[F]}c=c[c.length-1],b=g[c],f=f(b),f!=b&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,b=!1,F={next:function(){if(!b&&g<c.length){var j=g++;return{value:f(j,c[j]),done:!1}}return b=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function m(c,f,g){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,b),c.apply(f,F)}}return function(){return c.apply(f,arguments)}}function I(c,f,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,I.apply(null,arguments)}function S(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(b,F,j){for(var Y=Array(arguments.length-2),et=2;et<arguments.length;et++)Y[et-2]=arguments[et];return f.prototype[F].apply(b,Y)}}function $(c){let f=c.length;if(0<f){let g=Array(f);for(let b=0;b<f;b++)g[b]=c[b];return g}return[]}function V(c,f){for(let g=1;g<arguments.length;g++){let b=arguments[g];if(l(b)){let F=c.length||0,j=b.length||0;c.length=F+j;for(let Y=0;Y<j;Y++)c[F+Y]=b[Y]}else c.push(b)}}class W{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function re(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var De=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ce(c,f,g){for(let b in c)f.call(g,c[b],b,c)}function R(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function D(c){let f={};for(let g in c)f[g]=c[g];return f}let x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,f){let g,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(g in b)c[g]=b[g];for(let j=0;j<x.length;j++)g=x[j],Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g])}}function N(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function O(c){a.setTimeout(()=>{throw c},0)}function M(){var c=ho;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class pr{constructor(){this.h=this.g=null}add(f,g){let b=lo.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var lo=new W(()=>new El,c=>c.reset());class El{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let uo,Di=!1,ho=new pr,Bn=()=>{let c=a.Promise.resolve(void 0);uo=()=>{c.then(fo)}};var fo=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(g){O(g)}var f=lo;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Di=!1};function mn(){this.s=this.s,this.C=this.C}mn.prototype.s=!1,mn.prototype.ma=function(){this.s||(this.s=!0,this.N())},mn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Zt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var po=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function mr(c,f){if(Zt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(De){e:{try{se(f.nodeName);var F=!0;break e}catch{}F=!1}F||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:jd[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&mr.aa.h.call(this)}}k(mr,Zt);var jd={2:"touch",3:"pen",4:"mouse"};mr.prototype.h=function(){mr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $r="closure_listenable_"+(1e6*Math.random()|0),bl=0;function Xg(c,f,g,b,F){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=F,this.key=++bl,this.da=this.fa=!1}function mo(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function go(c){this.src=c,this.g={},this.h=0}go.prototype.add=function(c,f,g,b,F){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var Y=Il(c,f,b,F);return-1<Y?(f=c[Y],g||(f.fa=!1)):(f=new Xg(f,this.src,j,!!b,F),f.fa=g,c.push(f)),f};function vo(c,f){var g=f.type;if(g in c.g){var b=c.g[g],F=Array.prototype.indexOf.call(b,f,void 0),j;(j=0<=F)&&Array.prototype.splice.call(b,F,1),j&&(mo(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Il(c,f,g,b){for(var F=0;F<c.length;++F){var j=c[F];if(!j.da&&j.listener==f&&j.capture==!!g&&j.ha==b)return F}return-1}var on="closure_lm_"+(1e6*Math.random()|0),$n={};function Bd(c,f,g,b,F){if(b&&b.once)return Cl(c,f,g,b,F);if(Array.isArray(f)){for(var j=0;j<f.length;j++)Bd(c,f[j],g,b,F);return null}return g=Ot(g),c&&c[$r]?c.K(f,g,d(b)?!!b.capture:!!b,F):gn(c,f,g,!1,b,F)}function gn(c,f,g,b,F,j){if(!f)throw Error("Invalid event type");var Y=d(F)?!!F.capture:!!F,et=gr(c);if(et||(c[on]=et=new go(c)),g=et.add(f,g,b,Y,j),g.proxy)return g;if(b=Sa(),g.proxy=b,b.src=c,b.listener=g,c.addEventListener)po||(F=Y),F===void 0&&(F=!1),c.addEventListener(f.toString(),b,F);else if(c.attachEvent)c.attachEvent(Hn(f.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Sa(){function c(g){return f.call(c.src,c.listener,g)}let f=Hr;return c}function Cl(c,f,g,b,F){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Cl(c,f[j],g,b,F);return null}return g=Ot(g),c&&c[$r]?c.L(f,g,d(b)?!!b.capture:!!b,F):gn(c,f,g,!0,b,F)}function Tl(c,f,g,b,F){if(Array.isArray(f))for(var j=0;j<f.length;j++)Tl(c,f[j],g,b,F);else b=d(b)?!!b.capture:!!b,g=Ot(g),c&&c[$r]?(c=c.i,f=String(f).toString(),f in c.g&&(j=c.g[f],g=Il(j,g,b,F),-1<g&&(mo(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete c.g[f],c.h--)))):c&&(c=gr(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Il(f,g,b,F)),(g=-1<c?f[c]:null)&&Ne(g))}function Ne(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[$r])vo(f.i,c);else{var g=c.type,b=c.proxy;f.removeEventListener?f.removeEventListener(g,b,c.capture):f.detachEvent?f.detachEvent(Hn(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=gr(f))?(vo(g,c),g.h==0&&(g.src=null,f[on]=null)):mo(c)}}}function Hn(c){return c in $n?$n[c]:$n[c]="on"+c}function Hr(c,f){if(c.da)c=!0;else{f=new mr(f,this);var g=c.listener,b=c.ha||c.src;c.fa&&Ne(c),c=g.call(b,f)}return c}function gr(c){return c=c[on],c instanceof go?c:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(c){return typeof c=="function"?c:(c[bt]||(c[bt]=function(f){return c.handleEvent(f)}),c[bt])}function kt(){mn.call(this),this.i=new go(this),this.M=this,this.F=null}k(kt,mn),kt.prototype[$r]=!0,kt.prototype.removeEventListener=function(c,f,g,b){Tl(this,c,f,g,b)};function Jt(c,f){var g,b=c.F;if(b)for(g=[];b;b=b.F)g.push(b);if(c=c.M,b=f.type||f,typeof f=="string")f=new Zt(f,c);else if(f instanceof Zt)f.target=f.target||c;else{var F=f;f=new Zt(b,c),P(f,F)}if(F=!0,g)for(var j=g.length-1;0<=j;j--){var Y=f.g=g[j];F=qr(Y,b,!0,f)&&F}if(Y=f.g=c,F=qr(Y,b,!0,f)&&F,F=qr(Y,b,!1,f)&&F,g)for(j=0;j<g.length;j++)Y=f.g=g[j],F=qr(Y,b,!1,f)&&F}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],b=0;b<g.length;b++)mo(g[b]);delete c.g[f],c.h--}}this.F=null},kt.prototype.K=function(c,f,g,b){return this.i.add(String(c),f,!1,g,b)},kt.prototype.L=function(c,f,g,b){return this.i.add(String(c),f,!0,g,b)};function qr(c,f,g,b){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var F=!0,j=0;j<f.length;++j){var Y=f[j];if(Y&&!Y.da&&Y.capture==g){var et=Y.listener,zt=Y.ha||Y.src;Y.fa&&vo(c.i,Y),F=et.call(zt,b)!==!1&&F}}return F&&!b.defaultPrevented}function sn(c,f,g){if(typeof c=="function")g&&(c=I(c,g));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function $d(c){c.g=sn(()=>{c.g=null,c.i&&(c.i=!1,$d(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Hd extends mn{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:$d(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(c){mn.call(this),this.h=c,this.g={}}k(yo,mn);var Da=[];function qd(c){ce(c.g,function(f,g){this.g.hasOwnProperty(g)&&Ne(f)},c),c.g={}}yo.prototype.N=function(){yo.aa.N.call(this),qd(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sl=a.JSON.stringify,ev=a.JSON.parse,tv=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vr(){}vr.prototype.h=null;function zd(c){return c.h||(c.h=c.i())}function Gd(){}var ps={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dl(){Zt.call(this,"d")}k(Dl,Zt);function Al(){Zt.call(this,"c")}k(Al,Zt);var yr={},Wd=null;function Aa(){return Wd=Wd||new kt}yr.La="serverreachability";function Kd(c){Zt.call(this,yr.La,c)}k(Kd,Zt);function ms(c){let f=Aa();Jt(f,new Kd(f))}yr.STAT_EVENT="statevent";function Qd(c,f){Zt.call(this,yr.STAT_EVENT,c),this.stat=f}k(Qd,Zt);function qt(c){let f=Aa();Jt(f,new Qd(f,c))}yr.Ma="timingevent";function Yd(c,f){Zt.call(this,yr.Ma,c),this.size=f}k(Yd,Zt);function gs(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function nv(c,f,g,b,F,j){c.info(function(){if(c.g)if(j)for(var Y="",et=j.split("&"),zt=0;zt<et.length;zt++){var Ue=et[zt].split("=");if(1<Ue.length){var Xt=Ue[0];Ue=Ue[1];var Gt=Xt.split("_");Y=2<=Gt.length&&Gt[1]=="type"?Y+(Xt+"="+Ue+"&"):Y+(Xt+"=redacted&")}}else Y=null;else Y=j;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+f+`
`+g+`
`+Y})}function rv(c,f,g,b,F,j,Y){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+f+`
`+g+`
`+j+" "+Y})}function ze(c,f,g,b){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+ov(c,g)+(b?" "+b:"")})}function iv(c,f){c.info(function(){return"TIMEOUT: "+f})}vs.prototype.info=function(){};function ov(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var b=g[c];if(!(2>b.length)){var F=b[1];if(Array.isArray(F)&&!(1>F.length)){var j=F[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Y=1;Y<F.length;Y++)F[Y]=""}}}}return Sl(g)}catch{return f}}var xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xl;function Ma(){}k(Ma,vr),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},xl=new Ma;function Xn(c,f,g,b){this.j=c,this.i=f,this.l=g,this.R=b||1,this.U=new yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _o}function _o(){this.i=null,this.g="",this.h=!1}var Ml={},wo={};function ut(c,f,g){c.L=1,c.v=Pa(er(f)),c.m=g,c.P=!0,Jd(c,null)}function Jd(c,f){c.F=Date.now(),ys(c),c.A=er(c.v);var g=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ph(g.i,"t",b),c.C=0,g=c.j.J,c.h=new _o,c.g=zl(c.j,g?f:null,!c.m),0<c.O&&(c.M=new Hd(I(c.Y,c,c.g),c.O)),f=c.U,g=c.g,b=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Da[0]=F.toString()),F=Da);for(var j=0;j<F.length;j++){var Y=Bd(g,F[j],b||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=c.H?D(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),ms(),nv(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;let f=this.M;f&&wr(c)==3?f.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{let Gt=wr(this.g);var f=this.g.Ba();let Qr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Eh(this.g)))){this.J||Gt!=4||f==7||(f==8||0>=Qr?ms(3):ms(2)),Rl(this);var g=this.g.Z();this.X=g;t:if(Xd(this)){var b=Eh(this.g);c="";var F=b.length,j=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),_s(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<F;f++)this.h.h=!0,c+=this.h.i.decode(b[f],{stream:!(j&&f==F-1)});b.length=0,this.h.g+=c,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,rv(this.i,this.u,this.A,this.l,this.R,Gt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var et,zt=this.g;if((et=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(et)){var Ue=et;break t}}Ue=null}if(g=Ue)ze(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pl(this,g);else{this.o=!1,this.s=3,qt(12),zr(this),_s(this);break e}}if(this.P){g=!0;let qn;for(;!this.J&&this.C<Y.length;)if(qn=sv(this,Y),qn==wo){Gt==4&&(this.s=4,qt(14),g=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Ml){this.s=4,qt(15),ze(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else ze(this.i,this.l,qn,null),Pl(this,qn);if(Xd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Y.length!=0||this.h.h||(this.s=1,qt(16),g=!1),this.o=this.o&&g,!g)ze(this.i,this.l,Y,"[Invalid Chunked Response]"),zr(this),_s(this);else if(0<Y.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),So(Xt),Xt.M=!0,qt(11))}}else ze(this.i,this.l,Y,null),Pl(this,Y);Gt==4&&zr(this),this.o&&!this.J&&(Gt==4?Bl(this.j,this):(this.o=!1,ys(this)))}else mv(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),zr(this),_s(this)}}}catch{}finally{}};function Xd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sv(c,f){var g=c.C,b=f.indexOf(`
`,g);return b==-1?wo:(g=Number(f.substring(g,b)),isNaN(g)?Ml:(b+=1,b+g>f.length?wo:(f=f.slice(b,b+g),c.C=b+g,f)))}Xn.prototype.cancel=function(){this.J=!0,zr(this)};function ys(c){c.S=Date.now()+c.I,eh(c,c.I)}function eh(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gs(I(c.ba,c),f)}function Rl(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(iv(this.i,this.A),this.L!=2&&(ms(),qt(17)),zr(this),this.s=2,_s(this)):eh(this,this.S-c)};function _s(c){c.j.G==0||c.J||Bl(c.j,c)}function zr(c){Rl(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,qd(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Pl(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||Nl(g.h,c))){if(!c.K&&Nl(g.h,c)&&g.G==3){try{var b=g.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Ds(g),Fa(g);else break e;Ss(g),qt(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=gs(I(g.Za,g),6e3));if(1>=ih(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Kr(g,11)}else if((c.K||g.g==c)&&Ds(g),!re(f))for(F=g.Da.g.parse(f),f=0;f<F.length;f++){let Ue=F[f];if(g.T=Ue[0],Ue=Ue[1],g.G==2)if(Ue[0]=="c"){g.K=Ue[1],g.ia=Ue[2];let Xt=Ue[3];Xt!=null&&(g.la=Xt,g.j.info("VER="+g.la));let Gt=Ue[4];Gt!=null&&(g.Aa=Gt,g.j.info("SVER="+g.Aa));let Qr=Ue[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(b=1.5*Qr,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;let qn=c.g;if(qn){let La=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var j=b.h;j.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ol(j,j.h),j.h=null))}if(b.D){let Wl=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(b.ya=Wl,ot(b.I,b.D,Wl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var Y=c;if(b.qa=ql(b,b.J?b.ia:null,b.W),Y.K){oh(b.h,Y);var et=Y,zt=b.L;zt&&(et.I=zt),et.B&&(Rl(et),ys(et)),b.g=Y}else jl(b);0<g.i.length&&Va(g)}else Ue[0]!="stop"&&Ue[0]!="close"||Kr(g,7);else g.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Kr(g,7):ka(g):Ue[0]!="noop"&&g.l&&g.l.ta(Ue),g.v=0)}}ms(4)}catch{}}var th=class{constructor(c,f){this.g=c,this.map=f}};function nh(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rh(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ih(c){return c.h?1:c.g?c.g.size:0}function Nl(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Ol(c,f){c.g?c.g.add(f):c.h=f}function oh(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}nh.prototype.cancel=function(){if(this.i=sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function sh(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return $(c.i)}function ah(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],g=c.length,b=0;b<g;b++)f.push(c[b]);return f}f=[],g=0;for(b in c)f[g++]=c[b];return f}function av(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let b in c)f[g++]=b;return f}}}function kl(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=av(c),b=ah(c),F=b.length,j=0;j<F;j++)f.call(void 0,b[j],g&&g[j],c)}var ch=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cv(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var b=c[g].indexOf("="),F=null;if(0<=b){var j=c[g].substring(0,b);F=c[g].substring(b+1)}else j=c[g];f(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Rn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rn){this.h=c.h,Ra(this,c.j),this.o=c.o,this.g=c.g,Eo(this,c.s),this.l=c.l;var f=c.i,g=new bs;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Fl(this,g),this.m=c.m}else c&&(f=String(c).match(ch))?(this.h=!1,Ra(this,f[1]||"",!0),this.o=ws(f[2]||""),this.g=ws(f[3]||"",!0),Eo(this,f[4]),this.l=ws(f[5]||"",!0),Fl(this,f[6]||"",!0),this.m=ws(f[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}Rn.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Es(f,lh,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Es(f,lh,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Es(g,g.charAt(0)=="/"?uv:bo,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Es(g,dh)),c.join("")};function er(c){return new Rn(c)}function Ra(c,f,g){c.j=g?ws(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Eo(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Fl(c,f,g){f instanceof bs?(c.i=f,dv(c.i,c.h)):(g||(f=Es(f,uh)),c.i=new bs(f,c.h))}function ot(c,f,g){c.i.set(f,g)}function Pa(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ws(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,lv),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lv(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lh=/[#\/\?@]/g,bo=/[#\?:]/g,uv=/[#\?]/g,uh=/[#\?@]/g,dh=/#/g;function bs(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Gr(c){c.g||(c.g=new Map,c.h=0,c.i&&cv(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=bs.prototype,n.add=function(c,f){Gr(this),this.i=null,c=Io(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function hh(c,f){Gr(c),f=Io(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function fh(c,f){return Gr(c),f=Io(c,f),c.g.has(f)}n.forEach=function(c,f){Gr(this),this.g.forEach(function(g,b){g.forEach(function(F){c.call(f,F,b,this)},this)},this)},n.na=function(){Gr(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let b=0;b<f.length;b++){let F=c[b];for(let j=0;j<F.length;j++)g.push(f[b])}return g},n.V=function(c){Gr(this);let f=[];if(typeof c=="string")fh(this,c)&&(f=f.concat(this.g.get(Io(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},n.set=function(c,f){return Gr(this),this.i=null,c=Io(this,c),fh(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function ph(c,f,g){hh(c,f),0<g.length&&(c.i=null,c.g.set(Io(c,f),$(g)),c.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var b=f[g];let j=encodeURIComponent(String(b)),Y=this.V(b);for(b=0;b<Y.length;b++){var F=j;Y[b]!==""&&(F+="="+encodeURIComponent(String(Y[b]))),c.push(F)}}return this.i=c.join("&")};function Io(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function dv(c,f){f&&!c.j&&(Gr(c),c.i=null,c.g.forEach(function(g,b){var F=b.toLowerCase();b!=F&&(hh(this,b),ph(this,F,g))},c)),c.j=f}function Co(c,f){let g=new vs;if(a.Image){let b=new Image;b.onload=S(Wr,g,"TestLoadImage: loaded",!0,f,b),b.onerror=S(Wr,g,"TestLoadImage: error",!1,f,b),b.onabort=S(Wr,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=S(Wr,g,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else f(!1)}function hv(c,f){let g=new vs,b=new AbortController,F=setTimeout(()=>{b.abort(),Wr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:b.signal}).then(j=>{clearTimeout(F),j.ok?Wr(g,"TestPingServer: ok",!0,f):Wr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),Wr(g,"TestPingServer: error",!1,f)})}function Wr(c,f,g,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(g)}catch{}}function mh(){this.g=new tv}function fv(c,f,g){let b=g||"";try{kl(c,function(F,j){let Y=F;d(F)&&(Y=Sl(F)),f.push(b+j+"="+encodeURIComponent(Y))})}catch(F){throw f.push(b+"type="+encodeURIComponent("_badmap")),F}}function Pn(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Pn,vr),Pn.prototype.g=function(){return new Na(this.l,this.j)},Pn.prototype.i=function(c){return function(){return c}}({});function Na(c,f){kt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Na,kt),n=Na.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Is(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?_r(this):Is(this),this.readyState==3&&Vl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,_r(this))},n.Qa=function(c){this.g&&(this.response=c,_r(this))},n.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Is(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Is(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gh(c){let f="";return ce(c,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function Ll(c,f,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=gh(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):ot(c,f,g))}function dt(c){kt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(dt,kt);var To=/^https?$/i,pv=["POST","PUT"];n=dt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xl.g(),this.v=this.o?zd(this.o):zd(xl),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(j){vh(this,j);return}if(c=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)g.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let j of b.keys())g.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pv,f,void 0))||b||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[j,Y]of g)this.g.setRequestHeader(j,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wh(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){vh(this,j)}};function vh(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,yh(c),Oa(c)}function yh(c){c.A||(c.A=!0,Jt(c,"complete"),Jt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Jt(this,"complete"),Jt(this,"abort"),Oa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oa(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_h(this):this.bb())},n.bb=function(){_h(this)};function _h(c){if(c.h&&typeof s<"u"&&(!c.v[1]||wr(c)!=4||c.Z()!=2)){if(c.u&&wr(c)==4)sn(c.Ea,0,c);else if(Jt(c,"readystatechange"),wr(c)==4){c.h=!1;try{let Y=c.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var b;if(b=Y===0){var F=String(c.D).match(ch)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),b=!To.test(F?F.toLowerCase():"")}g=b}if(g)Jt(c,"complete"),Jt(c,"success");else{c.m=6;try{var j=2<wr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",yh(c)}}finally{Oa(c)}}}}function Oa(c,f){if(c.g){wh(c);let g=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Jt(c,"ready");try{g.onreadystatechange=b}catch{}}}function wh(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function wr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),ev(f)}};function Eh(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mv(c){let f={};c=(c.g&&2<=wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var g=N(c[b]);let F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let j=f[F]||[];f[F]=j,j.push(g)}R(f,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Ts(c){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new nh(c&&c.concurrentRequestLimit),this.Da=new mh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ts.prototype,n.la=8,n.G=1,n.connect=function(c,f,g,b){qt(0),this.W=c,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=ql(this,null,this.W),Va(this)};function ka(c){if(bh(c),c.G==3){var f=c.U++,g=er(c.I);if(ot(g,"SID",c.K),ot(g,"RID",f),ot(g,"TYPE","terminate"),Ai(c,g),f=new Xn(c,c.j,f),f.L=2,f.v=Pa(er(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=zl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ys(f)}Hl(c)}function Fa(c){c.g&&(So(c),c.g.cancel(),c.g=null)}function bh(c){Fa(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ds(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Va(c){if(!rh(c.h)&&!c.s){c.s=!0;var f=c.Ga;uo||Bn(),Di||(uo(),Di=!0),ho.add(f,c),c.B=0}}function Ih(c,f){return ih(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gs(I(c.Ga,c,f),$l(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let F=new Xn(this,this.j,c),j=this.o;if(this.S&&(j?(j=D(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(F.H=j,j=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Ul(this,F,f),g=er(this.I),ot(g,"RID",c),ot(g,"CVER",22),this.D&&ot(g,"X-HTTP-Session-Id",this.D),Ai(this,g),j&&(this.O?f="headers="+encodeURIComponent(String(gh(j)))+"&"+f:this.m&&Ll(g,this.m,j)),Ol(this.h,F),this.Ua&&ot(g,"TYPE","init"),this.P?(ot(g,"$req",f),ot(g,"SID","null"),F.T=!0,ut(F,g,null)):ut(F,g,f),this.G=2}}else this.G==3&&(c?Ch(this,c):this.i.length==0||rh(this.h)||Ch(this))};function Ch(c,f){var g;f?g=f.l:g=c.U++;let b=er(c.I);ot(b,"SID",c.K),ot(b,"RID",g),ot(b,"AID",c.T),Ai(c,b),c.m&&c.o&&Ll(b,c.m,c.o),g=new Xn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Ul(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ol(c.h,g),ut(g,b,f)}function Ai(c,f){c.H&&ce(c.H,function(g,b){ot(f,b,g)}),c.l&&kl({},function(g,b){ot(f,b,g)})}function Ul(c,f,g){g=Math.min(c.i.length,g);var b=c.l?I(c.l.Na,c.l,c):null;e:{var F=c.i;let j=-1;for(;;){let Y=["count="+g];j==-1?0<g?(j=F[0].g,Y.push("ofs="+j)):j=0:Y.push("ofs="+j);let et=!0;for(let zt=0;zt<g;zt++){let Ue=F[zt].g,Xt=F[zt].map;if(Ue-=j,0>Ue)j=Math.max(0,F[zt].g-100),et=!1;else try{fv(Xt,Y,"req"+Ue+"_")}catch{b&&b(Xt)}}if(et){b=Y.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,b}function jl(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;uo||Bn(),Di||(uo(),Di=!0),ho.add(f,c),c.v=0}}function Ss(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gs(I(c.Fa,c),$l(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gs(I(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Fa(this),Th(this))};function So(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Th(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=er(c.qa);ot(f,"RID","rpc"),ot(f,"SID",c.K),ot(f,"AID",c.T),ot(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(f,"TO",c.ja),ot(f,"TYPE","xmlhttp"),Ai(c,f),c.m&&c.o&&Ll(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Pa(er(f)),g.m=null,g.P=!0,Jd(g,c)}n.Za=function(){this.C!=null&&(this.C=null,Fa(this),Ss(this),qt(19))};function Ds(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Bl(c,f){var g=null;if(c.g==f){Ds(c),So(c),c.g=null;var b=2}else if(Nl(c.h,f))g=f.D,oh(c.h,f),b=1;else return;if(c.G!=0){if(f.o)if(b==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var F=c.B;b=Aa(),Jt(b,new Yd(b,g)),Va(c)}else jl(c);else if(F=f.s,F==3||F==0&&0<f.X||!(b==1&&Ih(c,f)||b==2&&Ss(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),F){case 1:Kr(c,5);break;case 4:Kr(c,10);break;case 3:Kr(c,6);break;default:Kr(c,2)}}}function $l(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function Kr(c,f){if(c.j.info("Error code "+f),f==2){var g=I(c.fb,c),b=c.Xa;let F=!b;b=new Rn(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ra(b,"https"),Pa(b),F?Co(b.toString(),g):hv(b.toString(),g)}else qt(2);c.G=0,c.l&&c.l.sa(f),Hl(c),bh(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Hl(c){if(c.G=0,c.ka=[],c.l){let f=sh(c.h);(f.length!=0||c.i.length!=0)&&(V(c.ka,f),V(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function ql(c,f,g){var b=g instanceof Rn?er(g):new Rn(g);if(b.g!="")f&&(b.g=f+"."+b.g),Eo(b,b.s);else{var F=a.location;b=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;var j=new Rn(null);b&&Ra(j,b),f&&(j.g=f),F&&Eo(j,F),g&&(j.l=g),b=j}return g=c.D,f=c.ya,g&&f&&ot(b,g,f),ot(b,"VER",c.la),Ai(c,b),b}function zl(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new dt(new Pn({eb:g})):new dt(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gl(){}n=Gl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function As(){}As.prototype.g=function(c,f){return new Ft(c,f)};function Ft(c,f){kt.call(this),this.g=new Ts(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!re(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!re(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Do(this)}k(Ft,kt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){ka(this.g)},Ft.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Sl(c),c=g);f.i.push(new th(f.Ya++,c)),f.G==3&&Va(f)},Ft.prototype.N=function(){this.g.l=null,delete this.j,ka(this.g),delete this.g,Ft.aa.N.call(this)};function Sh(c){Dl.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}k(Sh,Dl);function Dh(){Al.call(this),this.status=1}k(Dh,Al);function Do(c){this.g=c}k(Do,Gl),Do.prototype.ua=function(){Jt(this.g,"a")},Do.prototype.ta=function(c){Jt(this.g,new Sh(c))},Do.prototype.sa=function(c){Jt(this.g,new Dh)},Do.prototype.ra=function(){Jt(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Qw=no.createWebChannelTransport=function(){return new As},Kw=no.getStatEventTarget=function(){return Aa()},Ww=no.Event=yr,ym=no.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,td=no.ErrorCode=xa,Zd.COMPLETE="complete",Gw=no.EventType=Zd,Gd.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Vc=no.WebChannel=Gd,Z$=no.FetchXmlHttpFactory=Pn,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,zw=no.XhrIo=dt}).apply(typeof vm<"u"?vm:typeof self<"u"?self:typeof window<"u"?window:{});var fx="@firebase/firestore";var tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");var nl="10.14.0";var fa=new Ko("@firebase/firestore");function nd(){return fa.logLevel}function ae(n,...e){if(fa.logLevel<=Ve.DEBUG){let t=e.map(Pb);fa.debug(`Firestore (${nl}): ${n}`,...t)}}function io(n,...e){if(fa.logLevel<=Ve.ERROR){let t=e.map(Pb);fa.error(`Firestore (${nl}): ${n}`,...t)}}function qc(n,...e){if(fa.logLevel<=Ve.WARN){let t=e.map(Pb);fa.warn(`Firestore (${nl}): ${n}`,...t)}}function Pb(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ge(n="Unexpected state"){let e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+n;throw io(e),new Error(e)}function it(n,e){n||ge()}function we(n,e){return n}var z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ne=class extends An{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var kr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Im=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},eE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}},tE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},nE=class{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>T(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new Im(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new tn(e)}},rE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},iE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new rE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},oE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){it(this.o===void 0);let r=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string"),this.R=t.token,new oE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function J$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Cm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=J$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Qe(n,e){return n<e?-1:n>e?1:0}function zc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var hn=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Te=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new hn(0,0))}static max(){return new n(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(),r===void 0?r=e.length-t:r>e.length-t&&ge(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Et=class n extends Tm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ne(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},X$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zn=class n extends Tm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return X$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ne(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ne(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var fe=class n{constructor(e){this.path=e}static fromPath(e){return new n(Et.fromString(e))}static fromName(e){return new n(Et.fromString(e).popFirst(5))}static empty(){return new n(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Et(e.slice()))}};var aE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};aE.UNKNOWN_ID=-1;function eH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new hn(t+1,0):new hn(t,r));return new pa(i,fe.empty(),e)}function tH(n){return new pa(n.readTime,n.key,-1)}var pa=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Te.min(),fe.empty(),-1)}static max(){return new n(Te.max(),fe.empty(),-1)}};function nH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}var rH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function wd(n){return T(this,null,function*(){if(n.code!==z.FAILED_PRECONDITION||n.message!==rH)throw n;ae("LocalStore","Unexpectedly lost primary lease")})}var Q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let d=l;t(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function iH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ed(n){return n.name==="IndexedDbTransactionError"}var Wx=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function ig(n){return n==null}function cd(n){return n===0&&1/n==-1/0}function oH(n){return typeof n=="number"&&Number.isInteger(n)&&!cd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var sH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zee=[...sH,"documentOverlays"],aH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cH=aH,lH=[...cH,"indexConfiguration","indexState","indexEntries"];var Gee=[...lH,"globals"];function px(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ea(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Tt=class n{constructor(e,t){this.comparator=e,this.root=t||mi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}},Bc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();let e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1;mi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,t,r,i,o){return this}insert(e,t,r){return new mi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var En=class n{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sm(this.data.getIterator())}getIteratorFrom(e){return new Sm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Sm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hr=class n{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new n([])}unionWith(e){let t=new En(Zn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Dm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Dm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bn.EMPTY_BYTE_STRING=new bn("");var uH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(n){if(it(!!n),typeof n=="string"){let e=0,t=uH.exec(n);if(it(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}function Nb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ob(n){let e=n.mapValue.fields.__previous_value__;return Nb(e)?Ob(e):e}function ld(n){let e=oo(n.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}var lE=class{constructor(e,t,r,i,o,s,a,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}},Am=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var _m={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nb(n)?4:Yx(n)?9007199254740991:Qx(n)?10:11:ge()}function yi(n,e){if(n===e)return!0;let t=ma(n);if(t!==ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ld(n).isEqual(ld(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=oo(i.timestampValue),a=oo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return rs(i.bytesValue).isEqual(rs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=vt(i.doubleValue),a=vt(o.doubleValue);return s===a?cd(s)===cd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return zc(n.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(px(s)!==px(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!yi(s[l],a[l])))return!1;return!0}(n,e);default:return ge()}}function ud(n,e){return(n.values||[]).find(t=>yi(t,e))!==void 0}function Gc(n,e){if(n===e)return 0;let t=ma(n),r=ma(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=vt(o.integerValue||o.doubleValue),l=vt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return mx(n.timestampValue,e.timestampValue);case 4:return mx(ld(n),ld(e));case 5:return Qe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=rs(o),l=rs(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){let p=Qe(a[d],l[d]);if(p!==0)return p}return Qe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Qe(vt(o.latitude),vt(s.latitude));return a!==0?a:Qe(vt(o.longitude),vt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return gx(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,d,p;let m=o.fields||{},I=s.fields||{},S=(a=m.value)===null||a===void 0?void 0:a.arrayValue,k=(l=I.value)===null||l===void 0?void 0:l.arrayValue,$=Qe(((d=S?.values)===null||d===void 0?void 0:d.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return $!==0?$:gx(S,k)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===_m.mapValue&&s===_m.mapValue)return 0;if(o===_m.mapValue)return 1;if(s===_m.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),d=s.fields||{},p=Object.keys(d);l.sort(),p.sort();for(let m=0;m<l.length&&m<p.length;++m){let I=Qe(l[m],p[m]);if(I!==0)return I;let S=Gc(a[l[m]],d[p[m]]);if(S!==0)return S}return Qe(l.length,p.length)}(n.mapValue,e.mapValue);default:throw ge()}}function mx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);let t=oo(n),r=oo(e),i=Qe(t.seconds,r.seconds);return i!==0?i:Qe(t.nanos,r.nanos)}function gx(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Gc(t[i],r[i]);if(o)return o}return Qe(t.length,r.length)}function Wc(n){return uE(n)}function uE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=oo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=uE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${uE(t.fields[s])}`;return i+"}"}(n.mapValue):ge()}function vx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dE(n){return!!n&&"integerValue"in n}function kb(n){return!!n&&"arrayValue"in n}function yx(n){return!!n&&"nullValue"in n}function _x(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Em(n){return!!n&&"mapValue"in n}function Qx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function id(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ea(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=id(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=id(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Em(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=id(t)}setAll(e){let t=Zn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=id(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Em(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ea(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(id(this.value))}};function Zx(n){let e=[];return Ea(n.fields,(t,r)=>{let i=new Zn([t]);if(Em(r)){let o=Zx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new hr(e)}var Fr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Te.min(),Te.min(),Te.min(),Yn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Te.min(),Te.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Te.min(),Te.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Kc=class{constructor(e,t){this.position=e,this.inclusive=t}};function wx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(s.referenceValue),t.key):r=Gc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ex(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yi(n.position[t],e.position[t]))return!1;return!0}var ga=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function dH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var xm=class{},Ht=class n extends xm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fE(e,t,r):t==="array-contains"?new gE(e,r):t==="in"?new vE(e,r):t==="not-in"?new yE(e,r):t==="array-contains-any"?new _E(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pE(e,r):new mE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Gc(t,this.value)):t!==null&&ma(this.value)===ma(t)&&this.matchesComparison(Gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vr=class n extends xm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Jx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Jx(n){return n.op==="and"}function Xx(n){return hH(n)&&Jx(n)}function hH(n){for(let e of n.filters)if(e instanceof Vr)return!1;return!0}function hE(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+Wc(n.value);if(Xx(n))return n.filters.map(e=>hE(e)).join(",");{let e=n.filters.map(t=>hE(t)).join(",");return`${n.op}(${e})`}}function eM(n,e){return n instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&yi(r.value,i.value)}(n,e):n instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&eM(s,i.filters[a]),!0):!1}(n,e):void ge()}function tM(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${Wc(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(tM).join(" ,")+"}"}(n):"Filter"}var fE=class extends Ht{constructor(e,t,r){super(e,t,r),this.key=fe.fromName(r.referenceValue)}matches(e){let t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}},pE=class extends Ht{constructor(e,t){super(e,"in",t),this.keys=nM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},mE=class extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=nM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function nM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>fe.fromName(r.referenceValue))}var gE=class extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return kb(t)&&ud(t.arrayValue,this.value)}},vE=class extends Ht{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ud(this.value.arrayValue,t)}},yE=class extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ud(this.value.arrayValue,t)}},_E=class extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!kb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ud(this.value.arrayValue,r))}};var wE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function bx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new wE(n,e,t,r,i,o,s)}function Fb(n){let e=we(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ig(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wc(r)).join(",")),e.ue=t}return e.ue}function Vb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ex(n.startAt,e.startAt)&&Ex(n.endAt,e.endAt)}function EE(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var is=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function fH(n,e,t,r,i,o,s,a){return new is(n,e,t,r,i,o,s,a)}function Lb(n){return new is(n)}function Ix(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rM(n){return n.collectionGroup!==null}function od(n){let e=we(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new En(Zn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ga(o,r))}),t.has(Zn.keyField().canonicalString())||e.ce.push(new ga(Zn.keyField(),r))}return e.ce}function gi(n){let e=we(n);return e.le||(e.le=pH(e,od(n))),e.le}function pH(n,e){if(n.limitType==="F")return bx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ga(i.field,o)});let t=n.endAt?new Kc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kc(n.startAt.position,n.startAt.inclusive):null;return bx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function bE(n,e){let t=n.filters.concat([e]);return new is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function IE(n,e,t){return new is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function og(n,e){return Vb(gi(n),gi(e))&&n.limitType===e.limitType}function iM(n){return`${Fb(gi(n))}|lt:${n.limitType}`}function Lc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>tM(i)).join(", ")}]`),ig(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wc(i)).join(",")),`Target(${r})`}(gi(n))}; limitType=${n.limitType})`}function sg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of od(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let d=wx(s,a,l);return s.inclusive?d<=0:d<0}(r.startAt,od(r),i)||r.endAt&&!function(s,a,l){let d=wx(s,a,l);return s.inclusive?d>=0:d>0}(r.endAt,od(r),i))}(n,e)}function mH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oM(n){return(e,t)=>{let r=!1;for(let i of od(n)){let o=gH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gH(n,e,t){let r=n.field.isKeyField()?fe.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),d=a.data.field(o);return l!==null&&d!==null?Gc(l,d):ge()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}var os=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Kx(this.inner)}size(){return this.innerSize}};var vH=new Tt(fe.comparator);function so(){return vH}var sM=new Tt(fe.comparator);function rd(...n){let e=sM;for(let t of n)e=e.insert(t.key,t);return e}function aM(n){let e=sM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ua(){return sd()}function cM(){return sd()}function sd(){return new os(n=>n.toString(),(n,e)=>n.isEqual(e))}var yH=new Tt(fe.comparator),_H=new En(fe.comparator);function Le(...n){let e=_H;for(let t of n)e=e.add(t);return e}var wH=new En(Qe);function EH(){return wH}function Ub(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function lM(n){return{integerValue:""+n}}function bH(n,e){return oH(e)?lM(e):Ub(n,e)}var Qc=class{constructor(){this._=void 0}};function IH(n,e,t){return n instanceof Yc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Nb(o)&&(o=Ob(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof va?dM(n,e):n instanceof ya?hM(n,e):function(i,o){let s=uM(i,o),a=Cx(s)+Cx(i.Pe);return dE(s)&&dE(i.Pe)?lM(a):Ub(i.serializer,a)}(n,e)}function CH(n,e,t){return n instanceof va?dM(n,e):n instanceof ya?hM(n,e):t}function uM(n,e){return n instanceof Zc?function(r){return dE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Yc=class extends Qc{},va=class extends Qc{constructor(e){super(),this.elements=e}};function dM(n,e){let t=fM(e);for(let r of n.elements)t.some(i=>yi(i,r))||t.push(r);return{arrayValue:{values:t}}}var ya=class extends Qc{constructor(e){super(),this.elements=e}};function hM(n,e){let t=fM(e);for(let r of n.elements)t=t.filter(i=>!yi(i,r));return{arrayValue:{values:t}}}var Zc=class extends Qc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Cx(n){return vt(n.integerValue||n.doubleValue)}function fM(n){return kb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function TH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof va&&i instanceof va||r instanceof ya&&i instanceof ya?zc(r.elements,i.elements,yi):r instanceof Zc&&i instanceof Zc?yi(r.Pe,i.Pe):r instanceof Yc&&i instanceof Yc}(n.transform,e.transform)}var CE=class{constructor(e,t){this.version=e,this.transformResults=t}},ro=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Jc=class{};function pM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mm(n.key,ro.none()):new _a(n.key,n.data,ro.none());{let t=n.data,r=Yn.empty(),i=new En(Zn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _i(n.key,r,new hr(i.toArray()),ro.none())}}function SH(n,e,t){n instanceof _a?function(i,o,s){let a=i.value.clone(),l=Sx(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof _i?function(i,o,s){if(!bm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Sx(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(mM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ad(n,e,t,r){return n instanceof _a?function(o,s,a,l){if(!bm(o.precondition,s))return a;let d=o.value.clone(),p=Dx(o.fieldTransforms,l,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof _i?function(o,s,a,l){if(!bm(o.precondition,s))return a;let d=Dx(o.fieldTransforms,l,s),p=s.data;return p.setAll(mM(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(o,s,a){return bm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function DH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=uM(r.transform,i||null);o!=null&&(t===null&&(t=Yn.empty()),t.set(r.field,o))}return t||null}function Tx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zc(r,i,(o,s)=>TH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var _a=class extends Jc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_i=class extends Jc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function mM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Sx(n,e,t){let r=new Map;it(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,CH(s,a,t[i]))}return r}function Dx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,IH(o,s,e))}return r}var Mm=class extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},TE=class extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var SE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&SH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ad(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ad(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=cM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=pM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(t,r)=>Tx(t,r))&&zc(this.baseMutations,e.baseMutations,(t,r)=>Tx(t,r))}},DE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){it(e.mutations.length===r.length);let i=function(){return yH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var AE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Bt,qe;function AH(n){switch(n){default:return ge();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function gM(n){if(n===void 0)return io("GRPC error has no .code"),z.UNKNOWN;switch(n){case Bt.OK:return z.OK;case Bt.CANCELLED:return z.CANCELLED;case Bt.UNKNOWN:return z.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return z.INTERNAL;case Bt.UNAVAILABLE:return z.UNAVAILABLE;case Bt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Bt.NOT_FOUND:return z.NOT_FOUND;case Bt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Bt.ABORTED:return z.ABORTED;case Bt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Bt.DATA_LOSS:return z.DATA_LOSS;default:return ge()}}(qe=Bt||(Bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var Ax=null;function xH(){return new TextEncoder}var MH=new ts([4294967295,4294967295],0);function xx(n){let e=xH().encode(n),t=new qw;return t.update(e),new Uint8Array(t.digest())}function Mx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ts([t,r],0),new ts([i,o],0)]}var ME=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new da(`Invalid padding: ${t}`);if(r<0)throw new da(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new da(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new da(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ts.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ts.fromNumber(r)));return i.compare(MH)===1&&(i=new ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=xx(e),[r,i]=Mx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=xx(e),[r,i]=Mx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},da=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Te.min(),i,new Tt(Qe),so(),Le())}},dd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Le(),Le(),Le())}};var $c=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Pm=class{constructor(e,t){this.targetId=e,this.me=t}},Nm=class{constructor(e,t,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Om=class{constructor(){this.fe=0,this.ge=Px(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),r=Le();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new dd(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Px()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},RE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=so(),this.qe=Rx(),this.Qe=new Tt(Qe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(EE(o))if(r===0){let s=new fe(o.path);this.Ue(t,s,Fr.newNoDocument(s,Te.min()))}else it(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}Ax?.et(function(p,m,I,S,k){var $,V,W,re,te,se;let De={localCacheCount:p,existenceFilterCount:m.count,databaseId:I.database,projectId:I.projectId},ce=m.unchangedNames;return ce&&(De.bloomFilter={applied:k===0,hashCount:($=ce?.hashCount)!==null&&$!==void 0?$:0,bitmapLength:(re=(W=(V=ce?.bits)===null||V===void 0?void 0:V.bitmap)===null||W===void 0?void 0:W.length)!==null&&re!==void 0?re:0,padding:(se=(te=ce?.bits)===null||te===void 0?void 0:te.padding)!==null&&se!==void 0?se:0,mightContain:R=>{var D;return(D=S?.mightContain(R))!==null&&D!==void 0&&D}}),De}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=rs(r).toUint8Array()}catch(l){if(l instanceof Dm)return qc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ME(s,i,o)}catch(l){return qc(l instanceof da?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&EE(a.target)){let l=new fe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Fr.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Le();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Rm(e,t,this.Qe,this.ke,r);return this.ke=so(),this.qe=Rx(),this.Qe=new Tt(Qe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Om,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new En(Qe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Om),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Rx(){return new Tt(fe.comparator)}function Px(){return new Tt(fe.comparator)}var RH={asc:"ASCENDING",desc:"DESCENDING"},PH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NH={and:"AND",or:"OR"},PE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function NE(n,e){return n.useProto3Json||ig(e)?e:{value:e}}function km(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OH(n,e){return km(n,e.toTimestamp())}function vi(n){return it(!!n),Te.fromTimestamp(function(t){let r=oo(t);return new hn(r.seconds,r.nanos)}(n))}function jb(n,e){return OE(n,e).canonicalString()}function OE(n,e){let t=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yM(n){let e=Et.fromString(n);return it(IM(e)),e}function kE(n,e){return jb(n.databaseId,e.path)}function Yw(n,e){let t=yM(e);if(t.get(1)!==n.databaseId.projectId)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(wM(t))}function _M(n,e){return jb(n.databaseId,e)}function kH(n){let e=yM(n);return e.length===4?Et.emptyPath():wM(e)}function FE(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wM(n){return it(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Nx(n,e,t){return{name:kE(n,e),fields:t.value.mapValue.fields}}function FH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(it(p===void 0||typeof p=="string"),bn.fromBase64String(p||"")):(it(p===void 0||p instanceof Buffer||p instanceof Uint8Array),bn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?z.UNKNOWN:gM(d.code);return new ne(p,d.message||"")}(s);t=new Nm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Yw(n,r.document.name),o=vi(r.document.updateTime),s=r.document.createTime?vi(r.document.createTime):Te.min(),a=new Yn({mapValue:{fields:r.document.fields}}),l=Fr.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new $c(d,p,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Yw(n,r.document),o=r.readTime?vi(r.readTime):Te.min(),s=Fr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new $c([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Yw(n,r.document),o=r.removedTargetIds||[];t=new $c([],o,i,null)}else{if(!("filter"in e))return ge();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new xE(i,o),a=r.targetId;t=new Pm(a,s)}}return t}function VH(n,e){let t;if(e instanceof _a)t={update:Nx(n,e.key,e.value)};else if(e instanceof Mm)t={delete:kE(n,e.key)};else if(e instanceof _i)t={update:Nx(n,e.key,e.data),updateMask:GH(e.fieldMask)};else{if(!(e instanceof TE))return ge();t={verify:kE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Yc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof va)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ya)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:OH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(n,e.precondition)),t}function LH(n,e){return n&&n.length>0?(it(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?vi(i.updateTime):vi(o);return s.isEqual(Te.min())&&(s=vi(o)),new CE(s,i.transformResults||[])}(t,e))):[]}function UH(n,e){return{documents:[_M(n,e.path)]}}function jH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_M(n,i);let o=function(d){if(d.length!==0)return bM(Vr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(I){return{field:Uc(I.field),direction:HH(I.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=NE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function BH(n){let e=kH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){it(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(m){let I=EM(m);return I instanceof Vr&&Xx(I)?I.getFilters():[I]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(I=>function(k){return new ga(jc(k.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(I))}(t.orderBy));let a=null;t.limit&&(a=function(m){let I;return I=typeof m=="object"?m.value:m,ig(I)?null:I}(t.limit));let l=null;t.startAt&&(l=function(m){let I=!!m.before,S=m.values||[];return new Kc(S,I)}(t.startAt));let d=null;return t.endAt&&(d=function(m){let I=!m.before,S=m.values||[];return new Kc(S,I)}(t.endAt)),fH(e,i,s,o,a,"F",l,d)}function $H(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=jc(t.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=jc(t.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=jc(t.unaryFilter.field);return Ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=jc(t.unaryFilter.field);return Ht.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(jc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(r=>EM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(t.compositeFilter.op))}(n):ge()}function HH(n){return RH[n]}function qH(n){return PH[n]}function zH(n){return NH[n]}function Uc(n){return{fieldPath:n.canonicalString()}}function jc(n){return Zn.fromServerFormat(n.fieldPath)}function bM(n){return n instanceof Ht?function(t){if(t.op==="=="){if(_x(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NAN"}};if(yx(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_x(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NAN"}};if(yx(t.value))return{unaryFilter:{field:Uc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(t.field),op:qH(t.op),value:t.value}}}(n):n instanceof Vr?function(t){let r=t.getFilters().map(i=>bM(i));return r.length===1?r[0]:{compositeFilter:{op:zH(t.op),filters:r}}}(n):ge()}function GH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var hd=class n{constructor(e,t,r,i,o=Te.min(),s=Te.min(),a=bn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var VE=class{constructor(e){this.ct=e}};function WH(n){let e=BH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?IE(e,e.limit,"L"):e}var Fm=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(vt(e.integerValue));else if("doubleValue"in e){let r=vt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),cd(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=oo(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(rs(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?Yx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Qx(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ge()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(vt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),fe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Fm.vt=new Fm;var LE=class{constructor(){this.un=new UE}addToCollectionParentIndex(e,t){return this.un.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(pa.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}},UE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new En(Et.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Et.comparator)).toArray()}};var Kee=new Uint8Array(0);var pi=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(41943040,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);var fd=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var jE=class{constructor(){this.changes=new os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var BE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var $E=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ad(r.mutation,i,hr.empty(),hn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){let i=ua();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=rd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ua();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=so(),s=sd(),a=function(){return sd()}();return t.forEach((l,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof _i)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),ad(p.mutation,d,p.mutation.getFieldMask(),hn.now())):s.set(d.key,hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,p)=>s.set(d,p)),t.forEach((d,p)=>{var m;return a.set(d,new BE(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=sd(),i=new Tt((s,a)=>s-a),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let d=t.get(l);if(d===null)return;let p=r.get(l)||hr.empty();p=a.applyToLocalView(d,p),r.set(l,p);let m=(i.get(a.batchId)||Le()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),d=l.key,p=l.value,m=cM();p.forEach(I=>{if(!o.has(I)){let S=pM(t.get(I),r.get(I));S!==null&&m.set(I,S),o=o.add(I)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Q.resolve(ua()),a=-1,l=o;return s.next(d=>Q.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next(I=>{l=l.insert(p,I)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,Le())).next(p=>({batchId:a,changes:aM(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(r=>{let i=rd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=rd();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,l=>{let d=function(m,I){return new is(I,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,I)=>{s=s.insert(m,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,Fr.newInvalidDocument(p)))});let a=rd();return s.forEach((l,d)=>{let p=o.get(l);p!==void 0&&ad(p.mutation,d,hr.empty(),hn.now()),sg(t,d)&&(a=a.insert(l,d))}),a})}};var HE=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:vi(i.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:WH(i.bundledQuery),readTime:vi(i.readTime)}}(t)),Q.resolve()}};var qE=class{constructor(){this.overlays=new Tt(fe.comparator),this.Ir=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ua();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){let i=ua(),o=t.length+1,s=new fe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,d=l.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Tt((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=ua(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=ua(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return Q.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new AE(t,r));let o=this.Ir.get(t);o===void 0&&(o=Le(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var zE=class{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}};var pd=class{constructor(){this.Tr=new En($t.Er),this.dr=new En($t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new $t(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new $t(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new fe(new Et([])),r=new $t(t,e),i=new $t(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new fe(new Et([])),r=new $t(t,e),i=new $t(t,e+1),o=Le();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new $t(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},$t=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return fe.comparator(e.key,t.key)||Qe(e.wr,t.wr)}static Ar(e,t){return Qe(e.wr,t.wr)||fe.comparator(e.key,t.key)}};var GE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new En($t.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new SE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new $t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,t){return Q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Qe);return t.forEach(i=>{let o=new $t(i,0),s=new $t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;fe.isDocumentKey(o)||(o=o.child(""));let s=new $t(new fe(o),0),a=new En(Qe);return this.br.forEachWhile(l=>{let d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(l.wr)),!0)},s),Q.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){it(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(t.mutations,i=>{let o=new $t(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new $t(t,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var WE=class{constructor(e){this.Mr=e,this.docs=function(){return new Tt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Fr.newInvalidDocument(t))}getEntries(e,t){let r=so();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fr.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=so(),s=t.path,a=new fe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:d,value:{document:p}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||nH(tH(p),r)<=0||(i.has(p.key)||sg(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ge()}Or(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KE(this)}getSize(e){return Q.resolve(this.size)}},KE=class extends jE{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var QE=class{constructor(e){this.persistence=e,this.Nr=new os(t=>Fb(t),Vb),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new pd,this.targetCount=0,this.kr=fd.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Q.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new fd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Kn(t),Q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Br.containsKey(t))}};var YE=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Wx(0),this.Kr=!1,this.Kr=!0,this.$r=new zE,this.referenceDelegate=e(this),this.Ur=new QE(this),this.indexManager=new LE,this.remoteDocumentCache=function(i){return new WE(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new VE(t),this.Gr=new HE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new GE(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ae("MemoryPersistence","Starting transaction:",e);let i=new ZE(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},ZE=class extends cE{constructor(e){super(),this.currentSequenceNumber=e}},JE=class n{constructor(e){this.persistence=e,this.Jr=new pd,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{let i=fe.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Q.or([()=>Q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var XE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Le(),i=Le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var eb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tb=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zA()?8:iH(en())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new eb;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(nd()<=Ve.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(nd()<=Ve.DEBUG&&ae("QueryEngine","Query:",Lc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(nd()<=Ve.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(t))):Q.resolve())}Yi(e,t){if(Ix(t))return Q.resolve(null);let r=gi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=IE(t,null,"F"),r=gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Le(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let d=this.ts(t,a);return this.ns(t,d,s,l.readTime)?this.Yi(e,IE(t,null,"F")):this.rs(e,d,t,l)}))})))}Zi(e,t,r,i){return Ix(t)||i.isEqual(Te.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?Q.resolve(null):(nd()<=Ve.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lc(t)),this.rs(e,s,t,eH(i,-1)).next(a=>a))})}ts(e,t){let r=new En(oM(e));return t.forEach((i,o)=>{sg(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return nd()<=Ve.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Lc(t)),this.Ji.getDocumentsMatchingQuery(e,t,pa.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var nb=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Tt(Qe),this._s=new os(o=>Fb(o),Vb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $E(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function KH(n,e,t,r){return new nb(n,e,t,r)}function CM(n,e){return T(this,null,function*(){let t=we(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Le();for(let d of i){s.push(d.batchId);for(let p of d.mutations)l=l.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)l=l.add(p.key)}return t.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function QH(n,e){let t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,p){let m=d.batch,I=m.keys(),S=Q.resolve();return I.forEach(k=>{S=S.next(()=>p.getEntry(l,k)).next($=>{let V=d.docVersions.get(k);it(V!==null),$.version.compareTo(V)<0&&(m.applyToRemoteDocument($,d),$.isValidDocument()&&($.setReadTime(d.commitVersion),p.addEntry($)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Le();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function TM(n){let e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function YH(n,e){let t=we(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,m)=>{let I=i.get(m);if(!I)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,m)));let S=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?S=S.withResumeToken(bn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,r)),i=i.insert(m,S),function($,V,W){return $.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(I,S,p)&&a.push(t.Ur.updateTargetData(o,S))});let l=so(),d=Le();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(ZH(o,s,e.documentUpdates).next(p=>{l=p.Ps,d=p.Is})),!r.isEqual(Te.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(m=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(t.os=i,o))}function ZH(n,e,t){let r=Le(),i=Le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=so();return t.forEach((a,l)=>{let d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function JH(n,e){let t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XH(n,e){let t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new hd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function rb(n,e,t){return T(this,null,function*(){let r=we(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ed(s))throw s;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Ox(n,e,t){let r=we(n),i=Te.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,p){let m=we(l),I=m._s.get(p);return I!==void 0?Q.resolve(m.os.get(I)):m.Ur.getTargetData(d,p)}(r,s,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:Te.min(),t?o:Le())).next(a=>(e5(r,mH(e),a),{documents:a,Ts:o})))}function e5(n,e,t){let r=n.us.get(e)||Te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Vm=class{constructor(){this.activeTargetIds=EH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ib=class{constructor(){this.so=new Vm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ob=class{_o(e){}shutdown(){}};var Lm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wm=null;function Zw(){return wm===null?wm=function(){return 268435456+Math.round(2147483648*Math.random())}():wm++,"0x"+wm.toString(16)}var t5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var sb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var wn="WebChannelConnection",ab=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=Zw(),l=this.xo(t,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,l,d,i).then(p=>(ae("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw qc("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=t5[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Zw();return new Promise((s,a)=>{let l=new zw;l.setWithCredentials(!0),l.listenOnce(Gw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case td.NO_ERROR:let p=l.getResponseJson();ae(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case td.TIMEOUT:ae(wn,`RPC '${e}' ${o} timed out`),a(new ne(z.DEADLINE_EXCEEDED,"Request time out"));break;case td.HTTP_ERROR:let m=l.getStatus();if(ae(wn,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let I=l.getResponseJson();Array.isArray(I)&&(I=I[0]);let S=I?.error;if(S&&S.status&&S.message){let k=function(V){let W=V.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(W)>=0?W:z.UNKNOWN}(S.status);a(new ne(k,S.message))}else a(new ne(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(z.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(wn,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);ae(wn,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=Zw(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qw(),a=Kw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let p=o.join("");ae(wn,`Creating RPC '${e}' stream ${i}: ${p}`,l);let m=s.createWebChannel(p,l),I=!1,S=!1,k=new sb({Io:V=>{S?ae(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(I||(ae(wn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),I=!0),ae(wn,`RPC '${e}' stream ${i} sending:`,V),m.send(V))},To:()=>m.close()}),$=(V,W,re)=>{V.listen(W,te=>{try{re(te)}catch(se){setTimeout(()=>{throw se},0)}})};return $(m,Vc.EventType.OPEN,()=>{S||(ae(wn,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),$(m,Vc.EventType.CLOSE,()=>{S||(S=!0,ae(wn,`RPC '${e}' stream ${i} transport closed`),k.So())}),$(m,Vc.EventType.ERROR,V=>{S||(S=!0,qc(wn,`RPC '${e}' stream ${i} transport errored:`,V),k.So(new ne(z.UNAVAILABLE,"The operation could not be completed")))}),$(m,Vc.EventType.MESSAGE,V=>{var W;if(!S){let re=V.data[0];it(!!re);let te=re,se=te.error||((W=te[0])===null||W===void 0?void 0:W.error);if(se){ae(wn,`RPC '${e}' stream ${i} received error:`,se);let De=se.status,ce=function(x){let P=Bt[x];if(P!==void 0)return gM(P)}(De),R=se.message;ce===void 0&&(ce=z.INTERNAL,R="Unknown error status: "+De+" with message "+se.message),S=!0,k.So(new ne(ce,R)),m.close()}else ae(wn,`RPC '${e}' stream ${i} received:`,re),k.bo(re)}}),$(a,Ww.STAT_EVENT,V=>{V.stat===ym.PROXY?ae(wn,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===ym.NOPROXY&&ae(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}};function Jw(){return typeof document<"u"?document:null}function ag(n){return new PE(n,!0)}var Um=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var jm=class{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Um(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(io(t.toString()),io("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new ne(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cb=class extends jm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=FH(this.serializer,e),r=function(o){if(!("targetChange"in o))return Te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?vi(s.readTime):Te.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=FE(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=EE(l)?{documents:UH(o,l)}:{query:jH(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vM(o,s.resumeToken);let d=NE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(Te.min())>0){a.readTime=km(o,s.snapshotVersion.toTimestamp());let d=NE(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=$H(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=FE(this.serializer),t.removeTarget=e,this.a_(t)}},lb=class extends jm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=LH(e.writeResults,e.commitTime),r=vi(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=FE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>VH(this.serializer,r))};this.a_(t)}};var ub=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,OE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(z.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,OE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(z.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},db=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(io(t),this.D_=!1):ae("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var hb=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>T(this,null,function*(){ba(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield function(l){return T(this,null,function*(){let d=we(l);d.L_.add(4),yield bd(d),d.q_.set("Unknown"),d.L_.delete(4),yield cg(d)})}(this))}))}),this.q_=new db(r,i)}};function cg(n){return T(this,null,function*(){if(ba(n))for(let e of n.B_)yield e(!0)})}function bd(n){return T(this,null,function*(){for(let e of n.B_)yield e(!1)})}function SM(n,e){let t=we(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),qb(t)?Hb(t):rl(t).r_()&&$b(t,e))}function Bb(n,e){let t=we(n),r=rl(t);t.N_.delete(e),r.r_()&&DM(t,e),t.N_.size===0&&(r.r_()?r.o_():ba(t)&&t.q_.set("Unknown"))}function $b(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(n).A_(e)}function DM(n,e){n.Q_.xe(e),rl(n).R_(e)}function Hb(n){n.Q_=new RE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.q_.v_()}function qb(n){return ba(n)&&!rl(n).n_()&&n.N_.size>0}function ba(n){return we(n).L_.size===0}function AM(n){n.Q_=void 0}function n5(n){return T(this,null,function*(){n.q_.set("Online")})}function r5(n){return T(this,null,function*(){n.N_.forEach((e,t)=>{$b(n,e)})})}function i5(n,e){return T(this,null,function*(){AM(n),qb(n)?(n.q_.M_(e),Hb(n)):n.q_.set("Unknown")})}function o5(n,e,t){return T(this,null,function*(){if(n.q_.set("Online"),e instanceof Nm&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bm(n,r)}else if(e instanceof $c?n.Q_.Ke(e):e instanceof Pm?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Te.min()))try{let r=yield TM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{let p=o.N_.get(l);if(!p)return;o.N_.set(l,p.withResumeToken(bn.EMPTY_BYTE_STRING,p.snapshotVersion)),DM(o,l);let m=new hd(p.target,l,d,p.sequenceNumber);$b(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),yield Bm(n,r)}})}function Bm(n,e,t){return T(this,null,function*(){if(!Ed(e))throw e;n.L_.add(1),yield bd(n),n.q_.set("Offline"),t||(t=()=>TM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){ae("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield cg(n)}))})}function xM(n,e){return e().catch(t=>Bm(n,t,e))}function lg(n){return T(this,null,function*(){let e=we(n),t=ss(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;s5(e);)try{let i=yield JH(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,a5(e,i)}catch(i){yield Bm(e,i)}MM(e)&&RM(e)})}function s5(n){return ba(n)&&n.O_.length<10}function a5(n,e){n.O_.push(e);let t=ss(n);t.r_()&&t.V_&&t.m_(e.mutations)}function MM(n){return ba(n)&&!ss(n).n_()&&n.O_.length>0}function RM(n){ss(n).start()}function c5(n){return T(this,null,function*(){ss(n).p_()})}function l5(n){return T(this,null,function*(){let e=ss(n);for(let t of n.O_)e.m_(t.mutations)})}function u5(n,e,t){return T(this,null,function*(){let r=n.O_.shift(),i=DE.from(r,e,t);yield xM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield lg(n)})}function d5(n,e){return T(this,null,function*(){e&&ss(n).V_&&(yield function(r,i){return T(this,null,function*(){if(function(s){return AH(s)&&s!==z.ABORTED}(i.code)){let o=r.O_.shift();ss(r).s_(),yield xM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield lg(r)}})}(n,e)),MM(n)&&RM(n)})}function kx(n,e){return T(this,null,function*(){let t=we(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");let r=ba(t);t.L_.add(3),yield bd(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield cg(t)})}function h5(n,e){return T(this,null,function*(){let t=we(n);e?(t.L_.delete(2),yield cg(t)):e||(t.L_.add(2),yield bd(t),t.q_.set("Unknown"))})}function rl(n){return n.K_||(n.K_=function(t,r,i){let o=we(t);return o.w_(),new cb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:n5.bind(null,n),Ro:r5.bind(null,n),mo:i5.bind(null,n),d_:o5.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.K_.s_(),qb(n)?Hb(n):n.q_.set("Unknown")):(yield n.K_.stop(),AM(n))}))),n.K_}function ss(n){return n.U_||(n.U_=function(t,r,i){let o=we(t);return o.w_(),new lb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c5.bind(null,n),mo:d5.bind(null,n),f_:l5.bind(null,n),g_:u5.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.U_.s_(),yield lg(n)):(yield n.U_.stop(),n.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var fb=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zb(n,e){if(io("AsyncQueue",`${e}: ${n}`),Ed(n))return new ne(z.UNAVAILABLE,`${e}: ${n}`);throw n}var $m=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||fe.comparator(t.key,r.key):(t,r)=>fe.comparator(t.key,r.key),this.keyedMap=rd(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Hm=class{constructor(){this.W_=new Tt(fe.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Xc=class n{constructor(e,t,r,i,o,s,a,l,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,$m.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var pb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},mb=class{constructor(){this.queries=Fx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=we(t),o=i.queries;i.queries=Fx(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new ne(z.ABORTED,"Firestore shutting down"))}};function Fx(){return new os(n=>iM(n),og)}function PM(n,e){return T(this,null,function*(){let t=we(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new pb,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=zb(s,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Gb(t)})}function NM(n,e){return T(this,null,function*(){let t=we(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function f5(n,e){let t=we(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Gb(t)}function p5(n,e,t){let r=we(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Gb(n){n.Y_.forEach(e=>{e.next()})}var gb,Vx;(Vx=gb||(gb={})).ea="default",Vx.Cache="cache";var qm=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gb.Cache}};var zm=class{constructor(e){this.key=e}},Gm=class{constructor(e){this.key=e}},vb=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=oM(e),this.Ra=new $m(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Hm,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let I=i.get(p),S=sg(this.query,m)?m:null,k=!!I&&this.mutatedKeys.has(I.key),$=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations),V=!1;I&&S?I.data.isEqual(S.data)?k!==$&&(r.track({type:3,doc:S}),V=!0):this.ga(I,S)||(r.track({type:2,doc:S}),V=!0,(l&&this.Aa(S,l)>0||d&&this.Aa(S,d)<0)&&(a=!0)):!I&&S?(r.track({type:0,doc:S}),V=!0):I&&!S&&(r.track({type:1,doc:I}),V=!0,(l||d)&&(a=!0)),V&&(S?(s=s.add(S),o=$?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(S,k){let $=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return $(S)-$(k)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,d=l!==this.Ea;return this.Ea=l,s.length!==0||d?{snapshot:new Xc(this.query,e.Ra,o,s,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Hm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Gm(r))}),this.da.forEach(r=>{e.has(r)||t.push(new zm(r))}),t}ba(e){this.Ta=e.Ts,this.da=Le();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Xc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},yb=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},_b=class{constructor(e){this.key=e,this.va=!1}},wb=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new os(a=>iM(a),og),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(fe.comparator),this.Na=new Map,this.La=new pd,this.Ba={},this.ka=new Map,this.qa=fd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function m5(n,e,t=!0){return T(this,null,function*(){let r=UM(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield OM(r,e,t,!0),i})}function g5(n,e){return T(this,null,function*(){let t=UM(n);yield OM(t,e,!0,!1)})}function OM(n,e,t,r){return T(this,null,function*(){let i=yield XH(n.localStore,gi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield v5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&SM(n.remoteStore,i),a})}function v5(n,e,t,r,i){return T(this,null,function*(){n.Ka=(m,I,S)=>function($,V,W,re){return T(this,null,function*(){let te=V.view.ma(W);te.ns&&(te=yield Ox($.localStore,V.query,!1).then(({documents:R})=>V.view.ma(R,te)));let se=re&&re.targetChanges.get(V.targetId),De=re&&re.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(te,$.isPrimaryClient,se,De);return Ux($,V.targetId,ce.wa),ce.snapshot})}(n,m,I,S);let o=yield Ox(n.localStore,e,!0),s=new vb(e,o.Ts),a=s.ma(o.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,l);Ux(n,t,d.wa);let p=new yb(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function y5(n,e,t){return T(this,null,function*(){let r=we(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!og(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Bb(r.remoteStore,i.targetId),Eb(r,i.targetId)}).catch(wd))):(Eb(r,i.targetId),yield rb(r.localStore,i.targetId,!0))})}function _5(n,e){return T(this,null,function*(){let t=we(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Bb(t.remoteStore,r.targetId))})}function w5(n,e,t){return T(this,null,function*(){let r=D5(n);try{let i=yield function(s,a){let l=we(s),d=hn.now(),p=a.reduce((S,k)=>S.add(k.key),Le()),m,I;return l.persistence.runTransaction("Locally write mutations","readwrite",S=>{let k=so(),$=Le();return l.cs.getEntries(S,p).next(V=>{k=V,k.forEach((W,re)=>{re.isValidDocument()||($=$.add(W))})}).next(()=>l.localDocuments.getOverlayedDocuments(S,k)).next(V=>{m=V;let W=[];for(let re of a){let te=DH(re,m.get(re.key).overlayedDocument);te!=null&&W.push(new _i(re.key,te,Zx(te.value.mapValue),ro.exists(!0)))}return l.mutationQueue.addMutationBatch(S,d,W,a)}).next(V=>{I=V;let W=V.applyToLocalDocumentSet(m,$);return l.documentOverlayCache.saveOverlays(S,V.batchId,W)})}).then(()=>({batchId:I.batchId,changes:aM(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let d=s.Ba[s.currentUser.toKey()];d||(d=new Tt(Qe)),d=d.insert(a,l),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield Id(r,i.changes),yield lg(r.remoteStore)}catch(i){let o=zb(i,"Failed to persist write");t.reject(o)}})}function kM(n,e){return T(this,null,function*(){let t=we(n);try{let r=yield YH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?it(s.va):i.removedDocuments.size>0&&(it(s.va),s.va=!1))}),yield Id(t,r,e)}catch(r){yield wd(r)}})}function Lx(n,e,t){let r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=we(s);l.onlineState=a;let d=!1;l.queries.forEach((p,m)=>{for(let I of m.j_)I.Z_(a)&&(d=!0)}),d&&Gb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function E5(n,e,t){return T(this,null,function*(){let r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Tt(fe.comparator);s=s.insert(o,Fr.newNoDocument(o,Te.min()));let a=Le().add(o),l=new Rm(Te.min(),new Map,new Tt(Qe),s,a);yield kM(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Wb(r)}else yield rb(r.localStore,e,!1).then(()=>Eb(r,e,t)).catch(wd)})}function b5(n,e){return T(this,null,function*(){let t=we(n),r=e.batch.batchId;try{let i=yield QH(t.localStore,e);VM(t,r,null),FM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Id(t,i)}catch(i){yield wd(i)}})}function I5(n,e,t){return T(this,null,function*(){let r=we(n);try{let i=yield function(s,a){let l=we(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return l.mutationQueue.lookupMutationBatch(d,a).next(m=>(it(m!==null),p=m.keys(),l.mutationQueue.removeMutationBatch(d,m))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>l.localDocuments.getDocuments(d,p))})}(r.localStore,e);VM(r,e,t),FM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Id(r,i)}catch(i){yield wd(i)}})}function FM(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function VM(n,e,t){let r=we(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Eb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||LM(n,r)})}function LM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Bb(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Wb(n))}function Ux(n,e,t){for(let r of t)r instanceof zm?(n.La.addReference(r.key,e),C5(n,r)):r instanceof Gm?(ae("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||LM(n,r.key)):ge()}function C5(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ae("SyncEngine","New document in limbo: "+t),n.xa.add(r),Wb(n))}function Wb(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new fe(Et.fromString(e)),r=n.qa.next();n.Na.set(r,new _b(t)),n.Oa=n.Oa.insert(t,r),SM(n.remoteStore,new hd(gi(Lb(t.path)),r,"TargetPurposeLimboResolution",Wx.oe))}}function Id(n,e,t){return T(this,null,function*(){let r=we(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let m=d?!d.fromCache:(p=t?.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(d){i.push(d);let m=XE.Wi(l.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,d){return T(this,null,function*(){let p=we(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Q.forEach(d,I=>Q.forEach(I.$i,S=>p.persistence.referenceDelegate.addReference(m,I.targetId,S)).next(()=>Q.forEach(I.Ui,S=>p.persistence.referenceDelegate.removeReference(m,I.targetId,S)))))}catch(m){if(!Ed(m))throw m;ae("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let I=m.targetId;if(!m.fromCache){let S=p.os.get(I),k=S.snapshotVersion,$=S.withLastLimboFreeSnapshotVersion(k);p.os=p.os.insert(I,$)}}})}(r.localStore,o))})}function T5(n,e){return T(this,null,function*(){let t=we(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());let r=yield CM(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ne(z.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Id(t,r.hs)}})}function S5(n,e){let t=we(n),r=t.Na.get(e);if(r&&r.va)return Le().add(r.key);{let i=Le(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function UM(n){let e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E5.bind(null,e),e.Ca.d_=f5.bind(null,e.eventManager),e.Ca.$a=p5.bind(null,e.eventManager),e}function D5(n){let e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I5.bind(null,e),e}var jx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return T(this,null,function*(){this.serializer=ag(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return KH(this.persistence,new tb,t.initialUser,this.serializer)}Ga(t){return new YE(JE.Zr,this.serializer)}Wa(t){return new ib}terminate(){return T(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var A5=(()=>{class n{initialize(t,r){return T(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=T5.bind(null,this.syncEngine),yield h5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new mb}()}createDatastore(t){let r=ag(t.databaseInfo.databaseId),i=function(s){return new ab(s)}(t.databaseInfo);return function(s,a,l,d){return new ub(s,a,l,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new hb(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>Lx(this.syncEngine,r,0),function(){return Lm.D()?new Lm:new ob}())}createSyncEngine(t,r){return function(o,s,a,l,d,p,m){let I=new wb(o,s,a,l,d,p);return m&&(I.Qa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var t,r;yield function(o){return T(this,null,function*(){let s=we(o);ae("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield bd(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Wm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var bb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>T(this,null,function*(){ae("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ae("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=zb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Xw(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield CM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Bx(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield x5(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>kx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>kx(e.remoteStore,i)),n._onlineComponents=e})}function x5(n){return T(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;qc("Error using user provided cache. Falling back to memory cache: "+t),yield Xw(n,new jx)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield Xw(n,new jx);return n._offlineComponents})}function jM(n){return T(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bx(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield Bx(n,new A5))),n._onlineComponents})}function M5(n){return jM(n).then(e=>e.syncEngine)}function BM(n){return T(this,null,function*(){let e=yield jM(n),t=e.eventManager;return t.onListen=m5.bind(null,e.syncEngine),t.onUnlisten=y5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=g5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_5.bind(null,e.syncEngine),t})}function R5(n,e,t={}){let r=new kr;return n.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,l,d){let p=new Wm({next:I=>{p.Za(),s.enqueueAndForget(()=>NM(o,m));let S=I.docs.has(a);!S&&I.fromCache?d.reject(new ne(z.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&I.fromCache&&l&&l.source==="server"?d.reject(new ne(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(I)},error:I=>d.reject(I)}),m=new qm(Lb(a.path),p,{includeMetadataChanges:!0,_a:!0});return PM(o,m)}(yield BM(n),n.asyncQueue,e,t,r)})),r.promise}function P5(n,e,t={}){let r=new kr;return n.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,l,d){let p=new Wm({next:I=>{p.Za(),s.enqueueAndForget(()=>NM(o,m)),I.fromCache&&l.source==="server"?d.reject(new ne(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(I)},error:I=>d.reject(I)}),m=new qm(a,p,{includeMetadataChanges:!0,_a:!0});return PM(o,m)}(yield BM(n),n.asyncQueue,e,t,r)})),r.promise}function $M(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $x=new Map;function HM(n,e,t){if(!t)throw new ne(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N5(n,e,t,r){if(e===!0&&r===!0)throw new ne(z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hx(n){if(!fe.isDocumentKey(n))throw new ne(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qx(n){if(fe.isDocumentKey(n))throw new ne(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ug(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge()}function wi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ug(n);throw new ne(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Km=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$M((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},el=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eE;switch(r.type){case"firstParty":return new iE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=$x.get(t);r&&(ae("ComponentProvider","Removing Datastore"),$x.delete(t),r.terminate())}(this),Promise.resolve()}};function qM(n,e,t,r={}){var i;let o=(n=wi(n,el))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tn.MOCK_USER;else{a=Gp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ne(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tn(d)}n._authCredentials=new tE(new Im(a,l))}}var wa=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},xn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ns=class n extends wa{constructor(e,t,r){super(e,t,Lb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new fe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function zM(n,e,...t){if(n=pt(n),HM("collection","path",e),n instanceof el){let r=Et.fromString(e,...t);return qx(r),new ns(n,null,r)}{if(!(n instanceof xn||n instanceof ns))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Et.fromString(e,...t));return qx(r),new ns(n.firestore,null,r)}}function Kb(n,e,...t){if(n=pt(n),arguments.length===1&&(e=Cm.newId()),HM("doc","path",e),n instanceof el){let r=Et.fromString(e,...t);return Hx(r),new xn(n,null,new fe(r))}{if(!(n instanceof xn||n instanceof ns))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Et.fromString(e,...t));return Hx(r),new xn(n.firestore,n instanceof ns?n.converter:null,new fe(r))}}var Qm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Um(this,"async_queue_retry"),this.Vu=()=>{let r=Jw();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Jw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Jw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new kr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ed(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw io("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=fb.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var as=class extends el{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qm(e),this._firestoreClient=void 0,yield e}})}};function GM(n,e){let t=typeof n=="object"?n:Yo(),r=typeof n=="string"?n:e||"(default)",i=ta(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zp("firestore");o&&qM(i,...o)}return i}function Qb(n){if(n._terminated)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||O5(n),n._firestoreClient}function O5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,d,p){return new lE(a,l,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$M(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new bb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var md=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bn.fromBase64String(e))}catch(t){throw new ne(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var tl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ne(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gd=class{constructor(e){this._methodName=e}};var vd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}};var yd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var k5=/^__.*__$/,Ib=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,t,this.fieldTransforms):new _a(e,this.data,t,this.fieldTransforms)}},Ym=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _i(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function WM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var Cb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(WM(this.Cu)&&k5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Tb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ag(e)}Qu(e,t,r,i=!1){return new Cb({Cu:e,methodName:t,qu:r,path:Zn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function dg(n){let e=n._freezeSettings(),t=ag(n._databaseId);return new Tb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KM(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);Yb("Data must be an object, but it was:",s,r);let a=QM(r,s),l,d;if(o.merge)l=new hr(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let I=Sb(e,m,t);if(!s.contains(I))throw new ne(z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ZM(p,I)||p.push(I)}l=new hr(p),d=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,d=s.fieldTransforms;return new Ib(new Yn(a),l,d)}var Zm=class n extends gd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function F5(n,e,t,r){let i=n.Qu(1,e,t);Yb("Data must be an object, but it was:",i,r);let o=[],s=Yn.empty();Ea(r,(l,d)=>{let p=Zb(e,l,t);d=pt(d);let m=i.Nu(p);if(d instanceof Zm)o.push(p);else{let I=Cd(d,m);I!=null&&(o.push(p),s.set(p,I))}});let a=new hr(o);return new Ym(s,a,i.fieldTransforms)}function V5(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[Sb(e,r,t)],l=[i];if(o.length%2!=0)throw new ne(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<o.length;I+=2)a.push(Sb(e,o[I])),l.push(o[I+1]);let d=[],p=Yn.empty();for(let I=a.length-1;I>=0;--I)if(!ZM(d,a[I])){let S=a[I],k=l[I];k=pt(k);let $=s.Nu(S);if(k instanceof Zm)d.push(S);else{let V=Cd(k,$);V!=null&&(d.push(S),p.set(S,V))}}let m=new hr(d);return new Ym(p,m,s.fieldTransforms)}function L5(n,e,t,r=!1){return Cd(t,n.Qu(r?4:3,e))}function Cd(n,e){if(YM(n=pt(n)))return Yb("Unsupported field value:",e,n),QM(n,e);if(n instanceof gd)return function(r,i){if(!WM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Cd(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=hn.fromDate(r);return{timestampValue:km(i.serializer,o)}}if(r instanceof hn){let o=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:km(i.serializer,o)}}if(r instanceof vd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof md)return{bytesValue:vM(i.serializer,r._byteString)};if(r instanceof xn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yd)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ub(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ug(r)}`)}(n,e)}function QM(n,e){let t={};return Kx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(n,(r,i)=>{let o=Cd(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function YM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof vd||n instanceof md||n instanceof xn||n instanceof gd||n instanceof yd)}function Yb(n,e,t){if(!YM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=ug(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Sb(n,e,t){if((e=pt(e))instanceof tl)return e._internalPath;if(typeof e=="string")return Zb(n,e);throw Jm("Field path arguments must be of type string or ",n,!1,void 0,t)}var U5=new RegExp("[~\\*/\\[\\]]");function Zb(n,e,t){if(e.search(U5)>=0)throw Jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tl(...e.split("."))._internalPath}catch{throw Jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ne(z.INVALID_ARGUMENT,a+n+l)}function ZM(n,e){return n.some(t=>t.isEqual(e))}var Xm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(hg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Db=class extends Xm{data(){return super.data()}};function hg(n,e){return typeof e=="string"?Zb(n,e):e instanceof tl?e._internalPath:e._delegate._internalPath}function j5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ne(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _d=class{},eg=class extends _d{};function JM(n,e,...t){let r=[];e instanceof _d&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof Ab).length,a=o.filter(l=>l instanceof tg).length;if(s>1||s>0&&a>0)throw new ne(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var tg=class n extends eg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return tR(e._query,t),new wa(e.firestore,e.converter,bE(e._query,t))}_parse(e){let t=dg(e.firestore);return function(o,s,a,l,d,p,m){let I;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ne(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Gx(m,p);let S=[];for(let k of m)S.push(zx(l,o,k));I={arrayValue:{values:S}}}else I=zx(l,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Gx(m,p),I=L5(a,s,m,p==="in"||p==="not-in");return Ht.create(d,p,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function XM(n,e,t){let r=e,i=hg("where",n);return tg._create(i,r,t)}var Ab=class n extends _d{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Vr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)tR(s,l),s=bE(s,l)}(e._query,t),new wa(e.firestore,e.converter,bE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var xb=class n extends eg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new ne(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ga(o,s)}(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new is(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function eR(n,e="asc"){let t=e,r=hg("orderBy",n);return xb._create(r,t)}function zx(n,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new ne(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rM(e)&&t.indexOf("/")!==-1)throw new ne(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Et.fromString(t));if(!fe.isDocumentKey(r))throw new ne(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vx(n,new fe(r))}if(t instanceof xn)return vx(n,t._key);throw new ne(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ug(t)}.`)}function Gx(n,e){if(!Array.isArray(n)||n.length===0)throw new ne(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tR(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ne(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Mb=class{convertValue(e,t="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ea(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>vt(s.doubleValue));return new yd(o)}convertGeoPoint(e){return new vd(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ob(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){let t=oo(e);return new hn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Et.fromString(e);it(IM(r));let i=new Am(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(t)||io(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function nR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ha=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ng=class extends Xm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Hc=class extends ng{data(e={}){return super.data(e)}},Rb=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hc(this._firestore,this._userDataWriter,r.key,r,new ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:B5(a.type),doc:l,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function B5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function rR(n){n=wi(n,xn);let e=wi(n.firestore,as);return R5(Qb(e),n._key).then(t=>$5(e,n,t))}var rg=class extends Mb{constructor(e){super(),this.firestore=e}convertBytes(e){return new md(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}};function iR(n){n=wi(n,wa);let e=wi(n.firestore,as),t=Qb(e),r=new rg(e);return j5(n._query),P5(t,n._query).then(i=>new Rb(e,r,n,i))}function oR(n,e,t){n=wi(n,xn);let r=wi(n.firestore,as),i=nR(n.converter,e,t);return Jb(r,[KM(dg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ro.none())])}function sR(n,e,t,...r){n=wi(n,xn);let i=wi(n.firestore,as),o=dg(i),s;return s=typeof(e=pt(e))=="string"||e instanceof tl?V5(o,"updateDoc",n._key,e,t,r):F5(o,"updateDoc",n._key,e),Jb(i,[s.toMutation(n._key,ro.exists(!0))])}function aR(n,e){let t=wi(n.firestore,as),r=Kb(n),i=nR(n.converter,e);return Jb(t,[KM(dg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function Jb(n,e){return function(r,i){let o=new kr;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return w5(yield M5(r),i,o)})),o.promise}(Qb(n),e)}function $5(n,e,t){let r=t.docs.get(e._key),i=new rg(n);return new ng(n,i,e._key,r,new ha(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){nl=i})(ui),li(new Ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new as(new nE(r.getProvider("auth-internal")),new sE(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ne(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Am(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),mt(fx,"4.7.3",e),mt(fx,"4.7.3","esm2017")})();var fn=class{constructor(e){return e}},cR="firestore",Xb=class{constructor(){return ra(cR)}};var eI=new ue("angularfire2.firestore-instances");function H5(n,e){let t=Oc(cR,n,e);return t&&new fn(t)}function q5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fn(r)}}var z5={provide:Xb,deps:[[new Ut,eI]]},G5={provide:fn,useFactory:H5,deps:[[new Ut,eI],Or]};function lR(n,...e){return mt("angularfire",Qi.full,"fst"),or([G5,z5,{provide:eI,useFactory:q5(n),multi:!0,deps:[tt,cn,Jo,Yi,[new Ut,la],[new Ut,Zo],...e]}])}var il=gt(aR,!0);var yt=gt(zM,!0);var Rt=gt(Kb,!0);var uR=gt(rR,!0);var ht=gt(iR,!0);var dR=gt(GM,!0);var tI=gt(eR,!0);var nn=gt(JM,!0);var ol=gt(oR,!0);var Mn=gt(sR,!0);var ao=gt(XM,!0);var yR="firebasestorage.googleapis.com",_R="storageBucket",W5=2*60*1e3,K5=10*60*1e3;var St=class n extends An{constructor(e,t,r=0){super(nI(e),`Firebase Storage: ${t} (${nI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Pt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Pt||{});function nI(n){return"storage/"+n}function cI(){let n="An unknown error occurred, please check the error payload for server response.";return new St(Pt.UNKNOWN,n)}function Q5(n){return new St(Pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Y5(n){return new St(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Z5(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(Pt.UNAUTHENTICATED,n)}function J5(){return new St(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X5(n){return new St(Pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function e6(){return new St(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t6(){return new St(Pt.CANCELED,"User canceled the upload/download.")}function n6(n){return new St(Pt.INVALID_URL,"Invalid URL '"+n+"'.")}function r6(n){return new St(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function i6(){return new St(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_R+"' property when initializing the app?")}function o6(){return new St(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function s6(){return new St(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a6(n){return new St(Pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rI(n){return new St(Pt.INVALID_ARGUMENT,n)}function wR(){return new St(Pt.APP_DELETED,"The Firebase app was deleted.")}function c6(n){return new St(Pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sd(n,e){return new St(Pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Td(n){throw new St(Pt.INTERNAL_ERROR,"Internal error: "+n)}var Lr=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw r6(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function d(se){se.path_=decodeURIComponent(se.path)}let p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",S=new RegExp(`^https?://${m}/${p}/b/${i}/o${I}`,"i"),k={bucket:1,path:3},$=t===yR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",W=new RegExp(`^https?://${$}/${i}/${V}`,"i"),te=[{regex:a,indices:l,postModify:o},{regex:S,indices:k,postModify:d},{regex:W,indices:{bucket:1,path:2},postModify:d}];for(let se=0;se<te.length;se++){let De=te[se],ce=De.regex.exec(e);if(ce){let R=ce[De.indices.bucket],D=ce[De.indices.path];D||(D=""),r=new n(R,D),De.postModify(r);break}}if(r==null)throw n6(e);return r}},iI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function l6(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let d=!1;function p(...V){d||(d=!0,e.apply(null,V))}function m(V){i=setTimeout(()=>{i=null,n(S,l())},V)}function I(){o&&clearTimeout(o)}function S(V,...W){if(d){I();return}if(V){I(),p.call(null,V,...W);return}if(l()||s){I(),p.call(null,V,...W);return}r<64&&(r*=2);let te;a===1?(a=2,te=0):te=(r+Math.random())*1e3,m(te)}let k=!1;function $(V){k||(k=!0,I(),!d&&(i!==null?(V||(a=2),clearTimeout(i),m(0)):V||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,$(!0)},t),$}function u6(n){n(!1)}function d6(n){return n!==void 0}function h6(n){return typeof n=="object"&&!Array.isArray(n)}function lI(n){return typeof n=="string"||n instanceof String}function hR(n){return uI()&&n instanceof Blob}function uI(){return typeof Blob<"u"}function fR(n,e,t,r){if(r<e)throw rI(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw rI(`Invalid value for '${n}'. Expected ${t} or less.`)}function dI(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ER(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var cl=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(cl||{});function f6(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var oI=class{constructor(e,t,r,i,o,s,a,l,d,p,m,I=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new al(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===cl.NO_ERROR,l=o.getStatus();if(!a||f6(l,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===cl.ABORT;r(!1,new al(!1,null,p));return}let d=this.successCodes_.indexOf(l)!==-1;r(!0,new al(d,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());d6(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=cI();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?wR():t6();s(l)}else{let l=e6();s(l)}};this.canceled_?t(!1,new al(!1,null,!0)):this.backoffId_=l6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},al=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function p6(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function m6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g6(n,e){e&&(n["X-Firebase-GMPID"]=e)}function v6(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function y6(n,e,t,r,i,o,s=!0){let a=ER(n.urlParams),l=n.url+a,d=Object.assign({},n.headers);return g6(d,e),p6(d,t),m6(d,o),v6(d,r),new oI(l,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function _6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w6(...n){let e=_6();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(uI())return new Blob(n);throw new St(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function b6(n){if(typeof atob>"u")throw a6("base-64");return atob(n)}var Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Dd=class{constructor(e,t){this.data=e,this.contentType=t||null}};function I6(n,e){switch(n){case Ei.RAW:return new Dd(bR(e));case Ei.BASE64:case Ei.BASE64URL:return new Dd(IR(n,e));case Ei.DATA_URL:return new Dd(T6(e),S6(e))}throw cI()}function bR(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=n.charCodeAt(++t);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function C6(n){let e;try{e=decodeURIComponent(n)}catch{throw Sd(Ei.DATA_URL,"Malformed data URL.")}return bR(e)}function IR(n,e){switch(n){case Ei.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Sd(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Sd(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=b6(e)}catch(i){throw i.message.includes("polyfill")?i:Sd(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var pg=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Sd(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=D6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function T6(n){let e=new pg(n);return e.base64?IR(Ei.BASE64,e.rest):C6(e.rest)}function S6(n){return new pg(n).contentType}function D6(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var mg=class n{constructor(e,t){let r=0,i="";hR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(hR(this.data_)){let r=this.data_,i=E6(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(uI()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(w6.apply(null,t))}else{let t=e.map(s=>lI(s)?I6(Ei.RAW,s).data:s.data_),r=0;t.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new n(i,!0)}}uploadData(){return this.data_}};function CR(n){let e;try{e=JSON.parse(n)}catch{return null}return h6(e)?e:null}function A6(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function x6(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function TR(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function M6(n,e){return e}var pn=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||M6}},fg=null;function R6(n){return!lI(n)||n.length<2?n:TR(n)}function SR(){if(fg)return fg;let n=[];n.push(new pn("bucket")),n.push(new pn("generation")),n.push(new pn("metageneration")),n.push(new pn("name","fullPath",!0));function e(o,s){return R6(s)}let t=new pn("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}let i=new pn("size");return i.xform=r,n.push(i),n.push(new pn("timeCreated")),n.push(new pn("updated")),n.push(new pn("md5Hash",null,!0)),n.push(new pn("cacheControl",null,!0)),n.push(new pn("contentDisposition",null,!0)),n.push(new pn("contentEncoding",null,!0)),n.push(new pn("contentLanguage",null,!0)),n.push(new pn("contentType",null,!0)),n.push(new pn("metadata","customMetadata",!0)),fg=n,fg}function P6(n,e){function t(){let r=n.bucket,i=n.fullPath,o=new Lr(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function N6(n,e,t){let r={};r.type="file";let i=t.length;for(let o=0;o<i;o++){let s=t[o];r[s.local]=s.xform(r,e[s.server])}return P6(r,n),r}function DR(n,e,t){let r=CR(e);return r===null?null:N6(n,r,t)}function O6(n,e,t,r){let i=CR(e);if(i===null||!lI(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let p=n.bucket,m=n.fullPath,I="/b/"+s(p)+"/o/"+s(m),S=dI(I,t,r),k=ER({alt:"media",token:d});return S+k})[0]}function k6(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var gg=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function AR(n){if(!n)throw cI()}function F6(n,e){function t(r,i){let o=DR(n,i,e);return AR(o!==null),o}return t}function V6(n,e){function t(r,i){let o=DR(n,i,e);return AR(o!==null),O6(o,i,n.host,n._protocol)}return t}function xR(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=J5():i=Z5():t.getStatus()===402?i=Y5(n.bucket):t.getStatus()===403?i=X5(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function L6(n){let e=xR(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Q5(n.path)),o.serverResponse=i.serverResponse,o}return t}function U6(n,e,t){let r=e.fullServerUrl(),i=dI(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new gg(i,o,V6(n,t),s);return a.errorHandler=L6(e),a}function j6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function B6(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=j6(null,e)),r}function $6(n,e,t,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let te="";for(let se=0;se<2;se++)te=te+Math.random().toString().slice(2);return te}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let d=B6(e,r,i),p=k6(d,t),m="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,I=`\r
--`+l+"--",S=mg.getBlob(m,r,I);if(S===null)throw o6();let k={name:d.fullPath},$=dI(o,n.host,n._protocol),V="POST",W=n.maxUploadRetryTime,re=new gg($,V,F6(n,t),W);return re.urlParams=k,re.headers=s,re.body=S.uploadData(),re.errorHandler=xR(e),re}var pne=256*1024;var pR=null,sI=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Td("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Td("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Td("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Td("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Td("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},aI=class extends sI{initXhr(){this.xhr_.responseType="text"}};function MR(){return pR?pR():new aI}var ll=class n{constructor(e,t){this._service=e,t instanceof Lr?this._location=t:this._location=Lr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TR(this._location.path)}get storage(){return this._service}get parent(){let e=A6(this._location.path);if(e===null)return null;let t=new Lr(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw c6(e)}};function H6(n,e,t){n._throwIfRoot("uploadBytes");let r=$6(n.storage,n._location,SR(),new mg(e,!0),t);return n.storage.makeRequestWithTokens(r,MR).then(i=>({metadata:i,ref:n}))}function q6(n){n._throwIfRoot("getDownloadURL");let e=U6(n.storage,n._location,SR());return n.storage.makeRequestWithTokens(e,MR).then(t=>{if(t===null)throw s6();return t})}function z6(n,e){let t=x6(n._location.path,e),r=new Lr(n._location.bucket,t);return new ll(n.storage,r)}function G6(n){return/^[A-Za-z]+:\/\//.test(n)}function W6(n,e){return new ll(n,e)}function RR(n,e){if(n instanceof Ad){let t=n;if(t._bucket==null)throw i6();let r=new ll(t,t._bucket);return e!=null?RR(r,e):r}else return e!==void 0?z6(n,e):n}function K6(n,e){if(e&&G6(e)){if(n instanceof Ad)return W6(n,e);throw rI("To use ref(service, url), the first argument must be a Storage instance.")}else return RR(n,e)}function mR(n,e){let t=e?.[_R];return t==null?null:Lr.makeFromBucketSpec(t,n)}function Q6(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Gp(i,n.app.options.projectId))}var Ad=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=yR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W5,this._maxUploadRetryTime=K5,this._requests=new Set,i!=null?this._bucket=Lr.makeFromBucketSpec(i,this._host):this._bucket=mR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lr.makeFromBucketSpec(this._url,e):this._bucket=mR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return T(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return T(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ll(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new iI(wR());{let s=y6(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return T(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},gR="@firebase/storage",vR="0.13.2";var PR="storage";function NR(n,e,t){return n=pt(n),H6(n,e,t)}function OR(n){return n=pt(n),q6(n)}function kR(n,e){return n=pt(n),K6(n,e)}function FR(n=Yo(),e){n=pt(n);let r=ta(n,PR).getImmediate({identifier:e}),i=zp("storage");return i&&VR(r,...i),r}function VR(n,e,t,r={}){Q6(n,e,t,r)}function Y6(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ad(t,r,i,e,ui)}function Z6(){li(new Ln(PR,Y6,"PUBLIC").setMultipleInstances(!0)),mt(gR,vR,""),mt(gR,vR,"esm2017")}Z6();var xd=class{constructor(e){return e}},LR="storage",hI=class{constructor(){return ra(LR)}};var fI=new ue("angularfire2.storage-instances");function J6(n,e){let t=Oc(LR,n,e);return t&&new xd(t)}function X6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xd(r)}}var eq={provide:hI,deps:[[new Ut,fI]]},tq={provide:xd,useFactory:J6,deps:[[new Ut,fI],Or]};function UR(n,...e){return mt("angularfire",Qi.full,"gcs"),or([tq,eq,{provide:fI,useFactory:X6(n),multi:!0,deps:[tt,cn,Jo,Yi,[new Ut,la],[new Ut,Zo],...e]}])}var jR=gt(OR,!0);var vg=gt(FR,!0);var BR=gt(kR,!0);var $R=gt(NR,!0);var cs=class n{storage=vg();constructor(){}subirImagen(e,t){return T(this,null,function*(){let r=BR(this.storage,t);return yield $R(r,e),yield jR(r)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var ul=class n{constructor(e,t){this.firestore=e;this.storage=t}altaPaciente(e,t){return T(this,null,function*(){let r={};t.imagen1&&(r.imagen1Url=yield this.storage.subirImagen(t.imagen1,`pacientes/${e}/imagen1`)),t.imagen2&&(r.imagen2Url=yield this.storage.subirImagen(t.imagen2,`pacientes/${e}/imagen2`));let i=Rt(this.firestore,`pacientes/${e}`),o=Ee(K({uid:e},t),{urlsImagenes:r});delete o.imagen1,delete o.imagen2,yield ol(i,o),alert("Registro de paciente exitoso")})}obtenerPacientes(){return T(this,null,function*(){let e=yt(this.firestore,"pacientes");return(yield ht(e)).docs.map(i=>K({id:i.id},i.data()))})}getAllTwo(){let e=yt(this.firestore,"pacientes"),t=nn(e);return je(ht(t).then(r=>{let i=[];return r.forEach(o=>{i.push(o.data())}),i}).catch(r=>{throw console.error("Error al obtener los especialistas:",r),r}))}static \u0275fac=function(t){return new(t||n)(le(fn),le(cs))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var fr=class n{constructor(e,t){this.firestore=e;this.storage=t}altaEspecialista(e,t){return T(this,null,function*(){let r;t.imagenPerfil&&(r=yield this.storage.subirImagen(t.imagenPerfil,`especialistas/${e}/imagenPerfil`));let i=Rt(this.firestore,`especialistas/${e}`),o=Ee(K({uid:e},t),{imagenPerfil:r});delete o.imagenPerfil,yield ol(i,o)})}obtenerEspecialistas(){return T(this,null,function*(){let e=yt(this.firestore,"especialistas");return(yield ht(e)).docs.map(i=>K({},i.data()))})}habilitarCuentaEspecialista(e){return T(this,null,function*(){yield this.actualizarEstadoCuenta(e,!0)})}inhabilitarCuentaEspecialista(e){return T(this,null,function*(){yield this.actualizarEstadoCuenta(e,!1)})}actualizarEstadoCuenta(e,t){return T(this,null,function*(){let r=Rt(this.firestore,`especialistas/${e}`);yield Mn(r,{cuentaHabilitada:t})})}getAllTwo(){let e=yt(this.firestore,"especialistas"),t=nn(e);return je(ht(t).then(r=>{let i=[];return r.forEach(o=>{i.push(o.data())}),i}).catch(r=>{throw console.error("Error al obtener los especialistas:",r),r}))}updateHorarios(e){return T(this,null,function*(){console.log("update Horarios Especialista"),console.log(e),console.log(e.horarios);let t=Rt(this.firestore,`especialistas/${e.uid}`);try{yield Mn(t,{horarios:K({},e.horarios)}),console.log("Horarios actualizados exitosamente")}catch(r){console.error("Error al actualizar los horarios:",r)}})}static \u0275fac=function(t){return new(t||n)(le(fn),le(cs))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var dl=class n{constructor(e,t){this.firestore=e;this.storage=t}altaAdmin(e,t){return T(this,null,function*(){let r;t.imagenPerfil&&(r=yield this.storage.subirImagen(t.imagenPerfil,`administradores/${e}/imagenPerfil`),console.log("imagen perfil",r));let i=Rt(this.firestore,`administradores/${e}`),o=Ee(K({uid:e},t),{imagenPerfil:r});yield ol(i,o)})}obtenerAdmins(){return T(this,null,function*(){let e=yt(this.firestore,"administradores");return(yield ht(e)).docs.map(i=>K({},i.data()))})}static \u0275fac=function(t){return new(t||n)(le(fn),le(cs))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ye=class n{constructor(e,t,r,i,o){this.auth=e;this.pacienteService=t;this.especialistaService=r;this.router=i;this.adminService=o;this.setearUsuarioYAccesos();let s=this.auth.currentUser;s!=null&&(this.usuario={id:s.uid,email:s.email,emailVerificado:s.emailVerified},this.getIsAdmin(s.email??""),this.getIsEspecialista(s.email??""),this.getIsPaciente(s.email??""))}usuarioLogeado;usuario;msjError="";ITEM_ACCESOS;usuarioSubject=new Kt(null);usuario$=this.usuarioSubject.asObservable();setearUsuario(e){this.usuarioSubject.next(e)}registrarPaciente(e){return T(this,null,function*(){try{let{user:t}=yield gm(this.auth,e.email,e.password),r=t?.uid;yield this.sendVerifcationEmail(t),r&&(this.pacienteService.altaPaciente(r,e),bi.default.fire({position:"center",icon:"success",title:"Registro de paciente exitoso",showConfirmButton:!1,timer:1500}).then(()=>{this.router.navigate(["/login"])}))}catch(t){console.error("Error en el registro del paciente:",t),bi.default.fire({position:"center",icon:"error",title:"Error en el registro del paciente",showConfirmButton:!0})}})}registrarEspecialista(e){return T(this,null,function*(){try{let{user:t}=yield gm(this.auth,e.email,e.password),r=t?.uid;yield this.sendVerifcationEmail(t),r&&(this.especialistaService.altaEspecialista(r,e),bi.default.fire({position:"center",icon:"success",title:"Registro de especialista exitoso",showConfirmButton:!1,timer:1500}).then(()=>{this.router.navigate(["/login"])}))}catch(t){console.error("Error en el registro del especialista:",t),bi.default.fire({position:"center",icon:"error",title:"Error en el registro del especialista",showConfirmButton:!0})}})}registrarAdministrador(e){return T(this,null,function*(){try{let{user:t}=yield gm(this.auth,e.email,e.password),r=t?.uid;yield this.sendVerifcationEmail(t),r&&(this.adminService.altaAdmin(r,e),bi.default.fire({position:"center",icon:"success",title:"Registro de administrador exitoso",showConfirmButton:!1,timer:1500}).then(()=>{this.router.navigate(["/login"])}))}catch(t){console.error("Error en el registro del administrador:",t),bi.default.fire({position:"center",icon:"error",title:"Error en el registro del administrador",showConfirmButton:!0})}})}setearUsuarioYAccesos(){this.usuario=null,this.setearItemAccesos(),this.setearUsuarioLogeado(null),this.setearUsuario(null)}setearUsuarioLogeado(e){this.usuarioLogeado=e}setearItemAccesos(){this.ITEM_ACCESOS={cuentaHabilitada:!1,isAdmin:!1,isPaciente:!1,isEspecialista:!1},console.log("setearItemAccesos")}getIsEspecialista(e){return T(this,null,function*(){e!=""&&this.especialistaService.obtenerEspecialistas().then(t=>{t.forEach(r=>{r.email==e&&(this.ITEM_ACCESOS.isEspecialista=!0,this.ITEM_ACCESOS.cuentaHabilitada=r.cuentaHabilitada,this.setearUsuarioLogeado(r),console.log("Es Especialista",this.ITEM_ACCESOS),console.log("item Especialista",r),this.setearUsuario(r))})})})}getIsPaciente(e){return T(this,null,function*(){e!=""&&this.pacienteService.obtenerPacientes().then(t=>{t.forEach(r=>{r.email==e&&(this.ITEM_ACCESOS.isPaciente=!0,this.ITEM_ACCESOS.cuentaHabilitada=r.cuentaHabilitada,this.setearUsuarioLogeado(r),console.log("Es Paciente",this.ITEM_ACCESOS),console.log("item Paciente",r),this.setearUsuario(r))})})})}getIsAdmin(e){return T(this,null,function*(){e!=""&&this.adminService.obtenerAdmins().then(t=>{t.forEach(r=>{r.email==e&&(this.ITEM_ACCESOS.isAdmin=!0,this.ITEM_ACCESOS.cuentaHabilitada=r.cuentaHabilitada,this.setearUsuarioLogeado(r),console.log("Es Admin",this.ITEM_ACCESOS),console.log("item Admin",r),this.setearUsuario(r))})})})}singIn(e,t){return T(this,null,function*(){try{let r=yield lx(this.auth,e,t);if(this.msjError="",console.log(r),r.user){if(!r.user.emailVerified){bi.default.fire({position:"center",icon:"error",title:"Por favor, verifica tu correo antes de iniciar sesi\xF3n.",showConfirmButton:!0});return}this.usuario={id:r.user.uid,email:r.user.email,emailVerificado:r.user.emailVerified},yield this.getIsAdmin(this.usuario.email),yield this.getIsEspecialista(this.usuario.email),yield this.getIsPaciente(this.usuario.email),this.router.navigate(["/home"]).then(()=>{bi.default.fire({position:"center",icon:"success",title:"Ingreso exitoso"})})}}catch(r){this.setearUsuarioYAccesos(),this.msjError=this.getError(r.code),bi.default.fire({position:"center",icon:"error",title:"Datos inv\xE1lidos",showConfirmButton:!1,timer:1500})}})}logout(){return this.setearUsuarioYAccesos(),this.auth.signOut()}getError(e){switch(console.log("getError ->",e),e){case"auth/user-not-found":return"No existe ning\xFAn registro de usuario que corresponda al correo electr\xF3nico indicado.";case"auth/email-already-in-use":return"Otro usuario ya est\xE1 utilizando el correo electr\xF3nico indicado.";case"auth/invalid-email":return"El formato del correo electr\xF3nico no es correcto.";case"auth/invalid-password":return"El valor que se proporcion\xF3 para la contrase\xF1a no es v\xE1lido. Debe contener al menos seis caracteres.";case"auth/invalid-phone-number":return"El valor que se proporcion\xF3 para el n\xFAmero de celular no es v\xE1lido. Debe no estar vac\xEDo y que cumpla con el est\xE1ndar E.164.";case"auth/wrong-password":return"La contrase\xF1a no es v\xE1lida.";case"auth/email-already-in-use":return"La direcci\xF3n de correo electr\xF3nico ya est\xE1 en uso por otra cuenta."}return"Ocurri\xF3 un error."}setearMsjError(){this.msjError=""}sendVerifcationEmail(){return T(this,arguments,function*(e=this.auth.currentUser){try{console.log("sendVerifcationEmail",e);let t=cx(yield e);return console.log(t),t}catch(t){console.log("Error->",t),this.msjError=this.getError(t)}})}static \u0275fac=function(t){return new(t||n)(le(ca),le(ul),le(fr),le(ft),le(dl))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function nq(n,e){if(n&1){let t=oe();_(0,"div",19)(1,"button",20),G("click",function(){X(t);let i=L();return ee(i.goIniciarSesion())}),w(2," Iniciar Sesi\xF3n "),v(),_(3,"button",20),G("click",function(){X(t);let i=L();return ee(i.goRegistrarme())}),w(4," Registrarme "),v()()}}var yg=class n{constructor(e,t,r){this.authService=e;this.router=t;this.especialistaService=r}ngOnInit(){}goIniciarSesion(){this.router.navigate(["/login"])}goRegistrarme(){this.router.navigate(["/register"])}static \u0275fac=function(t){return new(t||n)(q(Ye),q(ft),q(fr))};static \u0275cmp=ve({type:n,selectors:[["app-home"]],standalone:!0,features:[ye],decls:33,vars:1,consts:[["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://st4.depositphotos.com/3662505/20756/i/450/depositphotos_207561022-stock-photo-stethoscope-and-pills-on-table.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","https://www.miperiodico.com.ar/wp-content/uploads/2021/05/clinicas.jpg","alt","...",1,"d-block","w-100"],["src","https://fotos.perfil.com/2023/12/23/trim/1280/720/23-12-2023-clinicas-1725596.jpg","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"section-bienvenido","container"],[1,"container-h3-bienvenido"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["type","button",1,"btn-dark","btn-lg",3,"click"]],template:function(t,r){t&1&&(_(0,"body")(1,"div",0)(2,"div",1),B(3,"button",2)(4,"button",3)(5,"button",4),v(),_(6,"div",5)(7,"div",6),B(8,"img",7),v(),_(9,"div",8),B(10,"img",9),v(),_(11,"div",8),B(12,"img",10),v()(),_(13,"button",11),B(14,"span",12),_(15,"span",13),w(16,"Anterior"),v()(),_(17,"button",14),B(18,"span",15),_(19,"span",13),w(20,"Siguiente"),v()()(),_(21,"section",16)(22,"div",17)(23,"h2"),w(24,"Bienvenido a "),_(25,"strong"),w(26,"Cl\xEDnica OnLine"),v()(),_(27,"p"),w(28," Somos una Instituci\xF3n especialista en salud, cuenta actualmente con consultorios (6 en la actualidad), dos laboratorios (f\xEDsicos en la cl\xEDnica), y una sala de espera general. Est\xE1 abierta al p\xFAblico de lunes a viernes en el horario de 8:00 a 19:00, y los s\xE1bados en el horario de 8:00 a 14:00. "),B(29,"br")(30,"br"),w(31," Trabajan en ella profesionales de diversas especialidades, que ocupan los consultorios acorde a su disponibilidad, y reciben en ellos pacientes con turno para consulta o tratamiento. Dichos turnos son pedidos por la web seleccionando el profesional o la especialidad. La duraci\xF3n m\xEDnima de un turno es 30 minutos.\u201D pero los profesionales pueden cambiar la duraci\xF3n seg\xFAn su especialidad. Estos profesionales pueden tener m\xE1s de una especialidad. Tambi\xE9n contamos con un sector dentro de la cl\xEDnica que se encarga de la organizaci\xF3n y administraci\xF3n de la misma. "),v(),H(32,nq,5,0,"div",18),v()()()),t&2&&(E(32),A("ngIf",r.authService.usuario==null))},dependencies:[Ie,Fe],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:55em}@media only screen and (max-width: 993px){body[_ngcontent-%COMP%]{height:60em}}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:80em}}footer[_ngcontent-%COMP%]{background-color:#6d6d6d;color:#f2f2f2}img[_ngcontent-%COMP%]{width:100%;height:350px;display:block;object-fit:cover}.container-h3-bienvenido[_ngcontent-%COMP%]{padding:50px 0}.container-h3-bienvenido[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}.btn-dark[_ngcontent-%COMP%]{width:200px;margin:10px 5px 0 0;float:left}.btn-dark[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #a5a5a5}"]})};var eP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(q(ii),q(Mr))}}static{this.\u0275dir=ct({type:n})}}return n})(),Ca=(()=>{class n extends eP{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,features:[yn]})}}return n})(),co=new ue(""),rq={provide:co,useExisting:kn(()=>EI),multi:!0},EI=(()=>{class n extends Ca{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Vn([rq]),yn]})}}return n})(),iq={provide:co,useExisting:kn(()=>_t),multi:!0};function oq(){let n=qi()?qi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var sq=new ue(""),_t=(()=>{class n extends eP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!oq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(q(ii),q(Mr),q(sq,8))}}static{this.\u0275dir=ct({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&G("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Vn([iq]),yn]})}}return n})();function ls(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function tP(n){return n!=null&&typeof n.length=="number"}var Ag=new ue(""),bI=new ue(""),aq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rt=class{static min(e){return cq(e)}static max(e){return lq(e)}static required(e){return nP(e)}static requiredTrue(e){return uq(e)}static email(e){return dq(e)}static minLength(e){return hq(e)}static maxLength(e){return fq(e)}static pattern(e){return pq(e)}static nullValidator(e){return wg(e)}static compose(e){return cP(e)}static composeAsync(e){return uP(e)}};function cq(n){return e=>{if(ls(e.value)||ls(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function lq(n){return e=>{if(ls(e.value)||ls(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function nP(n){return ls(n.value)?{required:!0}:null}function uq(n){return n.value===!0?null:{required:!0}}function dq(n){return ls(n.value)||aq.test(n.value)?null:{email:!0}}function hq(n){return e=>ls(e.value)||!tP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function fq(n){return e=>tP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function pq(n){if(!n)return wg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ls(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function wg(n){return null}function rP(n){return n!=null}function iP(n){return zs(n)?je(n):n}function oP(n){let e={};return n.forEach(t=>{e=t!=null?K(K({},e),t):e}),Object.keys(e).length===0?null:e}function sP(n,e){return e.map(t=>t(n))}function mq(n){return!n.validate}function aP(n){return n.map(e=>mq(e)?e:t=>e.validate(t))}function cP(n){if(!n)return null;let e=n.filter(rP);return e.length==0?null:function(t){return oP(sP(t,e))}}function lP(n){return n!=null?cP(aP(n)):null}function uP(n){if(!n)return null;let e=n.filter(rP);return e.length==0?null:function(t){let r=sP(t,e).map(iP);return Bv(r).pipe(me(oP))}}function dP(n){return n!=null?uP(aP(n)):null}function zR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hP(n){return n._rawValidators}function fP(n){return n._rawAsyncValidators}function mI(n){return n?Array.isArray(n)?n:[n]:[]}function Eg(n,e){return Array.isArray(n)?n.includes(e):n===e}function GR(n,e){let t=mI(e);return mI(n).forEach(i=>{Eg(t,i)||t.push(i)}),t}function WR(n,e){return mI(e).filter(t=>!Eg(n,t))}var bg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ia=class extends bg{get formDirective(){return null}get path(){return null}},us=class extends bg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ig=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ere=Ee(K({},gq),{"[class.ng-submitted]":"isSubmitted"}),Dt=(()=>{class n extends Ig{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(q(us,2))}}static{this.\u0275dir=ct({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&cp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yn]})}}return n})(),Ii=(()=>{class n extends Ig{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(q(Ia,10))}}static{this.\u0275dir=ct({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&cp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[yn]})}}return n})();var Rd="VALID",_g="INVALID",hl="PENDING",Pd="DISABLED",ds=class{},Cg=class extends ds{constructor(e,t){super(),this.value=e,this.source=t}},Nd=class extends ds{constructor(e,t){super(),this.pristine=e,this.source=t}},Od=class extends ds{constructor(e,t){super(),this.touched=e,this.source=t}},fl=class extends ds{constructor(e,t){super(),this.status=e,this.source=t}},gI=class extends ds{constructor(e){super(),this.source=e}},vI=class extends ds{constructor(e){super(),this.source=e}};function II(n){return(xg(n)?n.validators:n)||null}function vq(n){return Array.isArray(n)?lP(n):n||null}function CI(n,e){return(xg(e)?e.asyncValidators:n)||null}function yq(n){return Array.isArray(n)?dP(n):n||null}function xg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function pP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new de(1e3,"");if(!r[t])throw new de(1001,"")}function mP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new de(1002,"")})}var pl=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=_u(()=>this.statusReactive()),this.statusReactive=mu(void 0),this._pristine=_u(()=>this.pristineReactive()),this.pristineReactive=mu(!0),this._touched=_u(()=>this.touchedReactive()),this.touchedReactive=mu(!1),this._events=new an,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Bi(this.statusReactive)}set status(e){Bi(()=>this.statusReactive.set(e))}get valid(){return this.status===Rd}get invalid(){return this.status===_g}get pending(){return this.status==hl}get disabled(){return this.status===Pd}get enabled(){return this.status!==Pd}get pristine(){return Bi(this.pristineReactive)}set pristine(e){Bi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Bi(this.touchedReactive)}set touched(e){Bi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WR(e,this._rawAsyncValidators))}hasValidator(e){return Eg(this._rawValidators,e)}hasAsyncValidator(e){return Eg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(K({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Od(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Od(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(K({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nd(!0,r))}markAsPending(e={}){this.status=hl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(K({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pd,this.errors=null,this._forEachChild(i=>{i.disable(Ee(K({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cg(this.value,r)),this._events.next(new fl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rd,this._forEachChild(r=>{r.enable(Ee(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rd||this.status===hl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cg(this.value,t)),this._events.next(new fl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(K({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pd:Rd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=iP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Pd:this.errors?_g:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hl)?hl:this._anyControlsHaveStatus(_g)?_g:Rd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Nd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Od(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yq(this._rawAsyncValidators)}},Tg=class extends pl{constructor(e,t,r){super(II(t),CI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mP(this,!0,e),Object.keys(e).forEach(r=>{pP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yI=class extends Tg{};var Fd=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Vd}),Vd="always";function gP(n,e){return[...e.path,n]}function _I(n,e,t=Vd){TI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),wq(n,e),bq(n,e),Eq(n,e),_q(n,e)}function KR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Dg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _q(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function TI(n,e){let t=hP(n);e.validator!==null?n.setValidators(zR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=fP(n);e.asyncValidator!==null?n.setAsyncValidators(zR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Sg(e._rawValidators,i),Sg(e._rawAsyncValidators,i)}function Dg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=hP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=fP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Sg(e._rawValidators,r),Sg(e._rawAsyncValidators,r),t}function wq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&vP(n,e)})}function Eq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&vP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function vP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Iq(n,e){n==null,TI(n,e)}function Cq(n,e){return Dg(n,e)}function yP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Tq(n){return Object.getPrototypeOf(n.constructor)===Ca}function Sq(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _P(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===_t?t=o:Tq(o)?r=o:i=o}),i||r||t||null}function Dq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function QR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var kd=class extends pl{constructor(e=null,t,r){super(II(t),CI(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Aq=n=>n instanceof kd;var xq={provide:us,useExisting:kn(()=>Jn)},ZR=Promise.resolve(),Jn=(()=>{class n extends us{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new kd,this._registered=!1,this.name="",this.update=new Ze,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),yP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_I(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ZR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&yu(r);ZR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?gP(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(q(Ia,9),q(Ag,10),q(bI,10),q(co,10),q(Ws,8),q(Fd,8))}}static{this.\u0275dir=ct({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vn([xq]),yn,ji]})}}return n})(),Ci=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Mq={provide:co,useExisting:kn(()=>Ld),multi:!0},Ld=(()=>{class n extends Ca{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&G("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Vn([Mq]),yn]})}}return n})(),Rq={provide:co,useExisting:kn(()=>SI),multi:!0};var Pq=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SI=(()=>{class n extends Ca{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Z(Fd,{optional:!0})??Vd}ngOnInit(){this._control=this._injector.get(us),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||n)(q(ii),q(Mr),q(Pq),q(cn))}}static{this.\u0275dir=ct({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Vn([Rq]),yn]})}}return n})(),Nq={provide:co,useExisting:kn(()=>DI),multi:!0},DI=(()=>{class n extends Ca{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Vn([Nq]),yn]})}}return n})(),wP=new ue("");var Oq={provide:Ia,useExisting:kn(()=>Ur)},Ur=(()=>{class n extends Ia{get submitted(){return Bi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=_u(()=>this._submittedReactive()),this._submittedReactive=mu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return _I(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){KR(t.control||null,t,!1),Dq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Sq(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new gI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new vI(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(KR(r||null,t),Aq(i)&&(_I(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Iq(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Cq(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){TI(this.form,this),this._oldForm&&Dg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(q(Ag,10),q(bI,10),q(Fd,8))}}static{this.\u0275dir=ct({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&G("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vn([Oq]),yn,ji]})}}return n})();var kq={provide:us,useExisting:kn(()=>jr)},jr=(()=>{class n extends us{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ze,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(t){this._added||this._setUpControl(),yP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return gP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(q(Ia,13),q(Ag,10),q(bI,10),q(co,10),q(wP,8))}}static{this.\u0275dir=ct({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Vn([kq]),yn,ji]})}}return n})(),Fq={provide:co,useExisting:kn(()=>Mg),multi:!0};function EP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Vq(n){return n.split(":")[0]}var Mg=(()=>{class n extends Ca{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=EP(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Vq(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vn([Fq]),yn]})}}return n})(),Rg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(EP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(q(Mr),q(ii),q(Mg,9))}}static{this.\u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Lq={provide:co,useExisting:kn(()=>bP),multi:!0};function JR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Uq(n){return n.split(":")[0]}var bP=(()=>{class n extends Ca{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Uq(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&G("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vn([Lq]),yn]})}}return n})(),Pg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(JR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(JR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(q(Mr),q(ii),q(bP,9))}}static{this.\u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var jq=(()=>{class n{constructor(){this._validator=wg}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):wg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ct({type:n,features:[ji]})}}return n})();var Bq={provide:Ag,useExisting:kn(()=>Ud),multi:!0};var Ud=(()=>{class n extends jq{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yu,this.createValidator=t=>nP}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=ct({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ap("required",i._enabled?"":null)},inputs:{required:"required"},features:[Vn([Bq]),yn]})}}return n})();var IP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bo({type:n})}static{this.\u0275inj=jo({})}}return n})(),wI=class extends pl{constructor(e,t,r){super(II(t),CI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){mP(this,!1,e),e.forEach((r,i)=>{pP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function XR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ti=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return XR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Tg(i,o)}record(t,r=null){let i=this._reduceControls(t);return new yI(i,r)}control(t,r,i){let o={};return this.useNonNullable?(XR(r)?o=r:(o.validators=r,o.asyncValidators=i),new kd(t,Ee(K({},o),{nonNullable:!0}))):new kd(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new wI(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof kd)return t;if(t instanceof pl)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fd,useValue:t.callSetDisabledState??Vd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bo({type:n})}static{this.\u0275inj=jo({imports:[IP]})}}return n})(),Si=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fd,useValue:t.callSetDisabledState??Vd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bo({type:n})}static{this.\u0275inj=jo({imports:[IP]})}}return n})();var hs=class n{constructor(e){this.firestore=e;this.especialidadesRef=yt(this.firestore,"especialidades")}especialidadesRef;obtenerEspecialidades(){return T(this,null,function*(){try{return(yield ht(this.especialidadesRef)).docs.map(t=>t.data().nombre)}catch(e){return console.error("Error obteniendo especialidades:",e),[]}})}getAllEsp(){let e=nn(this.especialidadesRef);return je(ht(e).then(t=>{let r=[];return t.forEach(i=>{r.push(i.data())}),r}).catch(t=>{throw console.error("Error al obtener los especialistas:",t),t}))}agregarEspecialidad(e){return T(this,null,function*(){let t=nn(this.especialidadesRef,ao("nombre","==",e));if((yield ht(t)).empty)try{yield il(this.especialidadesRef,{nombre:e}),console.log("Especialidad agregada:",e)}catch(i){console.error("Error al agregar especialidad:",i)}})}static \u0275fac=function(t){return new(t||n)(le(fn))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function $q(n,e){if(n&1){let t=oe();_(0,"li",8)(1,"div",9)(2,"input",10),G("change",function(){let i=X(t).$implicit,o=L();return ee(o.toggleEspecialidad(i))}),v(),_(3,"label",11),w(4),v()()()}if(n&2){let t=e.$implicit;E(2),A("id",t),E(),A("for",t),E(),ke(t)}}var Ng=class n{constructor(e){this.especialidadesService=e}especialidades=[];especialidadesSeleccionadas=new Ze;especialidadesSeleccionadasList=[];nuevaEspecialidad="";ngOnInit(){this.especialidadesSeleccionadas.emit(this.especialidadesSeleccionadasList)}toggleEspecialidad(e){let t=this.especialidadesSeleccionadasList.indexOf(e);t===-1?this.especialidadesSeleccionadasList.push(e):this.especialidadesSeleccionadasList.splice(t,1),this.especialidadesSeleccionadas.emit(this.especialidadesSeleccionadasList)}agregarEspecialidad(){return T(this,null,function*(){if(this.nuevaEspecialidad.trim()!=="")try{yield this.especialidadesService.agregarEspecialidad(this.nuevaEspecialidad.trim()),this.especialidades.push(this.nuevaEspecialidad.trim()),this.nuevaEspecialidad="",this.especialidadesSeleccionadas.emit(this.especialidadesSeleccionadasList),console.log("Especialidad agregada:",this.nuevaEspecialidad)}catch(e){console.error("Error al agregar especialidad:",e)}})}static \u0275fac=function(t){return new(t||n)(q(hs))};static \u0275cmp=ve({type:n,selectors:[["app-tabla-especialidades"]],inputs:{especialidades:"especialidades"},outputs:{especialidadesSeleccionadas:"especialidadesSeleccionadas"},standalone:!0,features:[ye],decls:11,vars:4,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],[1,"mb-3"],["type","text","placeholder","Agregar nueva especialidad",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],[1,"btn","btn-primary","mt-2","w-100",3,"click","disabled"],[1,"list-group","mb-3"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id"],[1,"form-check-label",3,"for"]],template:function(t,r){t&1&&(_(0,"h4",0)(1,"span",1),w(2,"Especialidades"),v(),_(3,"span",2),w(4),v()(),_(5,"div",3)(6,"input",4),un("ngModelChange",function(o){return _n(r.nuevaEspecialidad,o)||(r.nuevaEspecialidad=o),o}),G("keydown.enter",function(){return r.agregarEspecialidad()}),v(),_(7,"button",5),G("click",function(){return r.agregarEspecialidad()}),w(8," Agregar Especialidad "),v()(),_(9,"ul",6),H(10,$q,5,3,"li",7),v()),t&2&&(E(4),ke(r.especialidadesSeleccionadasList.length),E(2),ln("ngModel",r.nuevaEspecialidad),E(),A("disabled",!r.nuevaEspecialidad),E(3),A("ngForOf",r.especialidades))},dependencies:[Ie,Ct,jn,_t,Dt,Jn]})};var Hq=n=>({"is-invalid":n});function qq(n,e){n&1&&(_(0,"div",7),w(1," Respuesta incorrecta. Int\xE9ntalo de nuevo. "),v())}function zq(n,e){n&1&&(_(0,"div",8)(1,"strong"),w(2,"Error:"),v(),w(3," Respuesta incorrecta. "),v())}var Og=class n{captchaText;userInput="";captchaValido=void 0;captchaImage;constructor(){this.generarCaptcha()}generarCaptcha(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";this.captchaText="";for(let t=0;t<6;t++)this.captchaText+=e.charAt(Math.floor(Math.random()*e.length));this.captchaImage=`data:image/svg+xml;base64,${btoa(this.crearImagenCaptcha(this.captchaText))}`}crearImagenCaptcha(e){return`<svg xmlns="http://www.w3.org/2000/svg" width="150" height="50">
              <rect width="100%" height="100%" fill="lightgray"/>
              <text x="50%" y="50%" font-size="24" text-anchor="middle" fill="black" dy=".3em">${e}</text>
            </svg>`}validarCaptcha(){this.userInput===this.captchaText?(this.captchaValido=!0,this.enviarResultado()):(this.captchaValido=!1,this.generarCaptcha())}captchaValidado=new Ze;enviarResultado(){this.captchaValidado.emit(this.captchaValido)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-captcha-propio"]],outputs:{captchaValidado:"captchaValidado"},standalone:!0,features:[ye],decls:8,vars:8,consts:[[1,"captcha-container","d-flex","flex-column","align-items-center","p-4","border","rounded","shadow-sm"],["alt","Captcha",1,"captcha-image","mb-3",2,"max-width","100%","height","auto","border-radius","8px",3,"src"],[1,"form-group","w-100","mb-3"],["type","text","placeholder","Ingrese el texto de la imagen","required","",1,"form-control","form-control-lg",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-lg","btn-primary","w-100",3,"click","disabled"],["class","alert alert-danger mt-3 w-100 text-center","role","alert",4,"ngIf"],[1,"invalid-feedback"],["role","alert",1,"alert","alert-danger","mt-3","w-100","text-center"]],template:function(t,r){t&1&&(_(0,"div",0),B(1,"img",1),_(2,"div",2)(3,"input",3),un("ngModelChange",function(o){return _n(r.userInput,o)||(r.userInput=o),o}),v(),H(4,qq,2,0,"div",4),v(),_(5,"button",5),G("click",function(){return r.validarCaptcha()}),w(6," Validar "),v(),H(7,zq,4,0,"div",6),v()),t&2&&(E(),A("src",r.captchaImage,vn),E(2),ln("ngModel",r.userInput),A("ngClass",yD(6,Hq,r.captchaValido===!1&&r.userInput.length>0)),E(),A("ngIf",r.captchaValido===!1),E(),A("disabled",!r.userInput.trim().length),E(2),A("ngIf",r.captchaValido===!1))},dependencies:[Ie,oi,Fe,jn,_t,Dt,Ud,Jn],styles:[".captcha-container[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;background-color:#f9f9f9;box-shadow:0 4px 10px #0000001a}.captcha-image[_ngcontent-%COMP%]{border-radius:8px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function Gq(n,e){n&1&&(_(0,"p",6),w(1,"Por favor, seleccione si desea registrarse como especialista o paciente."),v())}function Wq(n,e){if(n&1){let t=oe();_(0,"div",8)(1,"img",13),G("click",function(){X(t);let i=L(2);return ee(i.seleccionarTipo("administrador"))}),v(),_(2,"p",10),w(3,"Administrador"),v()()}}function Kq(n,e){if(n&1){let t=oe();_(0,"div",7)(1,"div",8)(2,"img",9),G("click",function(){X(t);let i=L();return ee(i.seleccionarTipo("especialista"))}),v(),_(3,"p",10),w(4,"Especialista"),v()(),_(5,"div",8)(6,"img",11),G("click",function(){X(t);let i=L();return ee(i.seleccionarTipo("paciente"))}),v(),_(7,"p",10),w(8,"Paciente"),v()(),H(9,Wq,4,0,"div",12),v()}if(n&2){let t=L();E(9),A("ngIf",t.authService.ITEM_ACCESOS.isAdmin)}}function Qq(n,e){if(n&1){let t=oe();_(0,"app-tabla-especialidades",40),G("especialidadesSeleccionadas",function(i){X(t);let o=L(2);return ee(o.actualizarEspecialidades(i))}),v()}if(n&2){let t=L(2);A("especialidades",t.especialidades)}}function Yq(n,e){if(n&1){let t=oe();_(0,"div",27)(1,"label",41),w(2,"Imagen de Perfil (Admin)"),v(),_(3,"input",42),G("change",function(i){X(t);let o=L(2);return ee(o.onFileChange(i,"imagenAdmin"))}),v()()}}function Zq(n,e){n&1&&(_(0,"div",27)(1,"label",43),w(2,"Obra Social"),v(),B(3,"input",44),v())}function Jq(n,e){if(n&1){let t=oe();_(0,"div",27)(1,"label",45),w(2,"Imagen 1 (Paciente)"),v(),_(3,"input",46),G("change",function(i){X(t);let o=L(2);return ee(o.onFileChange(i,"imagenPaciente1"))}),v()()}}function Xq(n,e){if(n&1){let t=oe();_(0,"div",27)(1,"label",47),w(2,"Imagen 2 (Paciente)"),v(),_(3,"input",48),G("change",function(i){X(t);let o=L(2);return ee(o.onFileChange(i,"imagenPaciente2"))}),v()()}}function e9(n,e){if(n&1){let t=oe();_(0,"div",27)(1,"label",49),w(2,"Imagen de Perfil (Especialista)"),v(),_(3,"input",50),G("change",function(i){X(t);let o=L(2);return ee(o.onFileChange(i,"imagenEspecialista"))}),v()()}}function t9(n,e){n&1&&(_(0,"p",51),w(1,"Por favor, valide el CAPTCHA antes de continuar."),v())}function n9(n,e){if(n&1){let t=oe();_(0,"div")(1,"div",14)(2,"div",15),H(3,Qq,1,1,"app-tabla-especialidades",16),v(),_(4,"div",17)(5,"h4",18),w(6,"Datos del Usuario"),v(),_(7,"form",19),G("ngSubmit",function(){X(t);let i=L();return ee(i.alEnviar())}),_(8,"div",20)(9,"div",21)(10,"label",22),w(11,"Nombre"),v(),B(12,"input",23),_(13,"div",24),w(14,"Nombre requerido."),v()(),_(15,"div",21)(16,"label",25),w(17,"Apellido"),v(),B(18,"input",26),_(19,"div",24),w(20,"Apellido requerido."),v()(),_(21,"div",27)(22,"label",28),w(23,"Edad"),v(),B(24,"input",29),_(25,"div",24),w(26,"Edad requerida."),v()(),_(27,"div",27)(28,"label",30),w(29,"DNI"),v(),B(30,"input",31),_(31,"div",24),w(32,"DNI requerido."),v()(),_(33,"div",27)(34,"label",32),w(35,"Correo Electr\xF3nico"),v(),B(36,"input",33),_(37,"div",24),w(38,"Correo electr\xF3nico requerido."),v()(),_(39,"div",27)(40,"label",34),w(41,"Contrase\xF1a"),v(),B(42,"input",35),_(43,"div",24),w(44,"Contrase\xF1a requerida."),v()(),H(45,Yq,4,0,"div",36)(46,Zq,4,0,"div",36)(47,Jq,4,0,"div",36)(48,Xq,4,0,"div",36)(49,e9,4,0,"div",36),v(),_(50,"app-captcha-propio",37),G("captchaValidado",function(i){X(t);let o=L();return ee(o.handleCaptchaValidado(i))}),v(),H(51,t9,2,0,"p",38),_(52,"button",39),w(53,"Registrar"),v()()()()()}if(n&2){let t=L();E(3),A("ngIf",t.esEspecialista),E(4),A("formGroup",t.formularioRegistro),E(38),A("ngIf",t.esAdmin),E(),A("ngIf",t.esPaciente),E(),A("ngIf",t.esPaciente),E(),A("ngIf",t.esPaciente),E(),A("ngIf",t.esEspecialista),E(2),A("ngIf",!t.captchaValidado),E(),A("disabled",t.formularioRegistro.invalid||!t.captchaValidado)}}var kg=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.especialidadesService=r;this.formularioRegistro=this.fb.group({nombre:["",rt.required],apellido:["",rt.required],edad:["",[rt.required,rt.min(22)]],dni:["",rt.required],correo:["",[rt.required,rt.email]],contrase\u00F1a:["",rt.required],obraSocial:[""]})}formularioRegistro;tipoSeleccionado=null;esPaciente=!1;esEspecialista=!1;esAdmin=!1;especialidades=[];especialidadesSeleccionadas=[];imagenPaciente1=null;imagenPaciente2=null;imagenEspecialista=null;imagenAdmin=null;captchaValidado=!1;ngOnInit(){this.obtenerEspecialidades(),console.log(this.authService.ITEM_ACCESOS),console.log(this.authService.usuario)}handleCaptchaValidado(e){this.captchaValidado=e}seleccionarTipo(e){this.tipoSeleccionado=e,this.esPaciente=e==="paciente",this.esEspecialista=e==="especialista",this.esAdmin=e==="administrador",this.esEspecialista?this.formularioRegistro.get("obraSocial")?.disable():this.formularioRegistro.get("obraSocial")?.enable()}obtenerEspecialidades(){return T(this,null,function*(){this.especialidades=yield this.especialidadesService.obtenerEspecialidades()})}actualizarEspecialidades(e){this.especialidadesSeleccionadas=e}onFileChange(e,t){let r=e.target.files[0];r&&(t==="imagenPaciente1"?this.imagenPaciente1=r:t==="imagenPaciente2"?this.imagenPaciente2=r:t==="imagenEspecialista"?this.imagenEspecialista=r:t==="imagenAdmin"&&(this.imagenAdmin=r))}alEnviar(){return T(this,null,function*(){if(!(this.formularioRegistro.invalid||!this.captchaValidado))try{if(this.esEspecialista){let e={nombre:this.formularioRegistro.value.nombre,apellido:this.formularioRegistro.value.apellido,edad:this.formularioRegistro.value.edad,dni:this.formularioRegistro.value.dni,especialidades:this.especialidadesSeleccionadas.length>0?this.especialidadesSeleccionadas:null,email:this.formularioRegistro.value.correo,cuentaHabilitada:!1,password:this.formularioRegistro.value.contrase\u00F1a,imagenPerfil:this.imagenEspecialista,horarios:null};yield this.authService.registrarEspecialista(e)}else if(this.esPaciente){let e={nombre:this.formularioRegistro.value.nombre,apellido:this.formularioRegistro.value.apellido,edad:this.formularioRegistro.value.edad,dni:this.formularioRegistro.value.dni,obraSocial:this.formularioRegistro.value.obraSocial,email:this.formularioRegistro.value.correo,password:this.formularioRegistro.value.contrase\u00F1a,imagen1:this.imagenPaciente1,imagen2:this.imagenPaciente2};yield this.authService.registrarPaciente(e)}else if(this.esAdmin){let e={nombre:this.formularioRegistro.value.nombre,apellido:this.formularioRegistro.value.apellido,edad:this.formularioRegistro.value.edad,dni:this.formularioRegistro.value.dni,email:this.formularioRegistro.value.correo,password:this.formularioRegistro.value.contrase\u00F1a,imagenPerfil:this.imagenAdmin};yield this.authService.registrarAdministrador(e)}}catch(e){console.error("Error al registrar el usuario:",e)}})}static \u0275fac=function(t){return new(t||n)(q(Ti),q(Ye),q(hs))};static \u0275cmp=ve({type:n,selectors:[["app-register"]],standalone:!0,features:[ye],decls:8,vars:3,consts:[[1,"main-container"],[1,"py-5","text-center"],["src","https://cdn-icons-png.flaticon.com/512/2771/2771402.png","alt","","width","72","height","57",1,"d-block","mx-auto","mb-4"],["class","lead",4,"ngIf"],["class","d-flex justify-content-center mb-4",4,"ngIf"],[4,"ngIf"],[1,"lead"],[1,"d-flex","justify-content-center","mb-4"],[1,"m-3"],["src","https://i.postimg.cc/hPdp3BYs/doctor-icon-134827.png","alt","Especialista",1,"img-fluid","pointer",3,"click"],[1,"text-center"],["src","https://i.postimg.cc/VNDRbLSf/fever-thermometer-coronavirus-virus-icon-134832.png","alt","Paciente",1,"img-fluid","pointer",3,"click"],["class","m-3",4,"ngIf"],["src","https://i.postimg.cc/J09K46sj/manager-icon-129392.png","alt","Administrador",1,"img-fluid","pointer",3,"click"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[3,"especialidades","especialidadesSeleccionadas",4,"ngIf"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-sm-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],[1,"invalid-feedback"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],[1,"col-12"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","required","",1,"form-control"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni","required","",1,"form-control"],["for","correo",1,"form-label"],["type","email","id","correo","formControlName","correo","required","",1,"form-control"],["for","contrase\xF1a",1,"form-label"],["type","password","id","contrase\xF1a","formControlName","contrase\xF1a","required","",1,"form-control"],["class","col-12",4,"ngIf"],[3,"captchaValidado"],["class","text-warning",4,"ngIf"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[3,"especialidadesSeleccionadas","especialidades"],["for","imagenAdmin",1,"form-label"],["type","file","id","imagenAdmin",3,"change"],["for","obraSocial",1,"form-label"],["type","text","id","obraSocial","formControlName","obraSocial","required","",1,"form-control"],["for","imagenPaciente1",1,"form-label"],["type","file","id","imagenPaciente1",3,"change"],["for","imagenPaciente2",1,"form-label"],["type","file","id","imagenPaciente2",3,"change"],["for","imagenEspecialista",1,"form-label"],["type","file","id","imagenEspecialista",3,"change"],[1,"text-warning"]],template:function(t,r){t&1&&(_(0,"main",0)(1,"div",1),B(2,"img",2),_(3,"h2"),w(4,"Formulario de Registro"),v(),H(5,Gq,2,0,"p",3),v(),H(6,Kq,10,1,"div",4)(7,n9,54,9,"div",5),v()),t&2&&(E(5),A("ngIf",!r.tipoSeleccionado),E(),A("ngIf",!r.tipoSeleccionado),E(),A("ngIf",r.tipoSeleccionado))},dependencies:[Ie,Fe,Si,Ci,_t,Ld,Dt,Ii,Ud,Ur,jr,Ng,Og],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f7f8fc;color:#333}.main-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.5rem;font-weight:600}.lead[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.2rem}p.text-muted[_ngcontent-%COMP%]{color:#7f8c8d}.d-flex[_ngcontent-%COMP%]{justify-content:center;align-items:center}.m-3[_ngcontent-%COMP%]{margin:1rem}.pointer[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,box-shadow .3s ease}.pointer[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 15px #007bff4d}img[_ngcontent-%COMP%]{width:150px;height:auto;border-radius:8px;box-shadow:0 2px 10px #0000001a}.text-center[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50}hr[_ngcontent-%COMP%]{border:0;border-top:1px solid #dcdfe6;margin:2rem 0}.form-label[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}.form-control[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #ccc;padding:10px;font-size:1rem;margin-bottom:1rem}.form-control[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 5px #3498db4d}.invalid-feedback[_ngcontent-%COMP%]{color:#e74c3c}.app-especialidades-cart[_ngcontent-%COMP%]{background-color:#ecf0f1;padding:20px;border-radius:10px;box-shadow:0 2px 15px #007bff33;margin-bottom:2rem}.w-100[_ngcontent-%COMP%]{background-color:#3498db;border:none;color:#fff;padding:15px;font-size:1.2rem;border-radius:8px;cursor:pointer;transition:background-color .3s ease}.w-100[_ngcontent-%COMP%]:hover{background-color:#2980b9}.w-100[_ngcontent-%COMP%]:disabled{background-color:#b0bec5;cursor:not-allowed}.col-12[_ngcontent-%COMP%]   input#obraSocial[_ngcontent-%COMP%]{background-color:#f4f6f9}.list-group-item[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px}.list-group-item.bg-light[_ngcontent-%COMP%]{background-color:#ecf0f1}.list-group-item[_ngcontent-%COMP%]   .my-0[_ngcontent-%COMP%]{font-weight:500}.list-group-item[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d}.text-primary[_ngcontent-%COMP%]{color:#3498db!important}.badge[_ngcontent-%COMP%]{background-color:#3498db}.invalid-feedback[_ngcontent-%COMP%]{display:block;font-size:.85rem}"]})};function r9(n,e){n&1&&(_(0,"small",26),w(1,"El correo electr\xF3nico es requerido"),v())}function i9(n,e){n&1&&(_(0,"small",26),w(1,"La contrase\xF1a es requerida"),v())}function o9(n,e){n&1&&(_(0,"small",26),w(1,"La contrase\xF1a debe contener al menos 6 caracteres"),v())}function s9(n,e){if(n&1&&(_(0,"div",27)(1,"label",26),w(2),v()()),n&2){let t=L();E(2),he("- ",t.authService.msjError,"")}}var Fg=class n{constructor(e,t,r,i){this.adminService=e;this.formBuilder=t;this.authService=r;this.router=i;this.formulario=t.group({email:["",[rt.required]],password:["",[rt.required,rt.minLength(6)]]})}formulario;spinner=!1;ngOnInit(){}submit(){return T(this,null,function*(){let e={email:this.formulario.controls.email.value,password:this.formulario.controls.password.value};try{this.spinnerShow(),this.authService.singIn(e.email,e.password).then(t=>{this.spinnerHide(),this.authService.msjError==""&&this.router.navigate(["/home"])})}catch{this.spinnerHide()}})}ngOnDestroy(){this.authService.setearMsjError()}onAdmin1(){this.formulario.controls.email.setValue("tiltijulti@gufum.com"),this.formulario.controls.password.setValue("asd1234")}onEspecialista1(){this.formulario.controls.email.setValue("diydokerzu@gufum.com"),this.formulario.controls.password.setValue("asd1234")}onEspecialista2(){this.formulario.controls.email.setValue("mimidel759@edectus.com"),this.formulario.controls.password.setValue("asd1234")}onPaciente1(){this.formulario.controls.email.setValue("kilmizedro@gufum.com"),this.formulario.controls.password.setValue("asd1234")}onPaciente2(){this.formulario.controls.email.setValue("fipsurugni@gufum.com"),this.formulario.controls.password.setValue("asd1234")}onPaciente3(){this.formulario.controls.email.setValue("yestigorku@gufum.com"),this.formulario.controls.password.setValue("asd1234")}spinnerShow(){this.spinner=!0}spinnerHide(){this.spinner=!1}static \u0275fac=function(t){return new(t||n)(q(dl),q(Ti),q(Ye),q(ft))};static \u0275cmp=ve({type:n,selectors:[["app-login"]],standalone:!0,features:[ye],decls:69,vars:8,consts:[[1,"container","section-register"],[1,"row","g-4","container-form","mx-auto"],[1,"text-center"],[1,"col-md-5","col-lg-7","mx-auto"],[1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-4"],[1,"col-sm-12"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","autocomplete","on",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","autocomplete","off",1,"form-control"],["class","col-md-12",4,"ngIf"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled","hidden"],["role","status",1,"spinner-border","text-dark","mx-auto",3,"hidden"],[1,"visually-hidden"],[1,"col-md-5","col-lg-8","order-md-last","mx-auto"],["for","especialidades",1,"form-label",2,"margin","20px 0px"],[1,"my-4"],[1,"quick-access-buttons"],[1,"quick-access-button","admin",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-especialista-c2249.firebasestorage.app/o/administradores%2FNnahW5LquSVd2EvEiOWcDuMoNed2%2FimagenPerfil?alt=media&token=86ee2786-f059-46d7-9dd4-d1a4d2a1c775","alt","Imagen de perfil del especialista"],[1,"quick-access-button","specialist",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-especialista-c2249.firebasestorage.app/o/especialistas%2FIl6Xjc94GrYb7fPAshyLIHAZegH3%2FimagenPerfil?alt=media&token=1218a85c-2dd9-4e30-ab1d-b238c4fa349f","alt","Imagen de perfil del paciente"],[1,"quick-access-button","patient",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-especialista-c2249.firebasestorage.app/o/pacientes%2F42Qe24PklvdXQLZ0HDlkokHGRcA3%2Fimagen1?alt=media&token=94ad5b26-b6cf-45b7-adda-17a8c992cb27","alt","Imagen de perfil del administrador"],[1,"text-danger"],[1,"col-md-12"]],template:function(t,r){if(t&1&&(_(0,"body")(1,"section",0)(2,"div",1)(3,"h3",2),w(4,"Iniciar sesi\xF3n"),v(),_(5,"div",3)(6,"form",4),G("ngSubmit",function(){return r.submit()}),_(7,"div",5)(8,"div",6)(9,"label",7),w(10,"Correo electr\xF3nico"),v(),B(11,"input",8),H(12,r9,2,0,"small",9),v(),_(13,"div",6)(14,"label",10),w(15,"Constrase\xF1a"),v(),B(16,"input",11),H(17,i9,2,0,"small",9)(18,o9,2,0,"small",9),v(),H(19,s9,3,1,"div",12),_(20,"div")(21,"button",13),w(22," Ingresar "),v()(),_(23,"div",14)(24,"span",15),w(25,"Loading..."),v()()()()(),_(26,"div",16)(27,"label",17),w(28,"Si usted no se ha registrado nunca en el portal pero es paciente de nuestra instituci\xF3n, ingrese en la opci\xF3n Acceder/Registrarme para crear su usuario."),v()()(),B(29,"hr",18),_(30,"h3",2),w(31,"Accesos"),v(),_(32,"div",19)(33,"button",20),G("click",function(){return r.onAdmin1()}),B(34,"img",21),_(35,"span"),w(36,"Julti"),B(37,"br"),w(38,"(Admin)"),v()(),_(39,"button",22),G("click",function(){return r.onEspecialista1()}),B(40,"img",23),_(41,"span"),w(42,"Erzu"),B(43,"br"),w(44,"(Especialista)"),v()(),_(45,"button",24),G("click",function(){return r.onEspecialista2()}),B(46,"img",23),_(47,"span"),w(48,"Mimi"),B(49,"br"),w(50,"(Especialista)"),v()(),_(51,"button",20),G("click",function(){return r.onPaciente1()}),B(52,"img",25),_(53,"span"),w(54,"Kilmi"),B(55,"br"),w(56,"(Paciente)"),v()(),_(57,"button",20),G("click",function(){return r.onPaciente2()}),B(58,"img",25),_(59,"span"),w(60,"Rugni"),B(61,"br"),w(62,"(Paciente)"),v()(),_(63,"button",20),G("click",function(){return r.onPaciente3()}),B(64,"img",25),_(65,"span"),w(66,"Yesti"),B(67,"br"),w(68,"(Paciente)"),v()()()()()),t&2){let i,o,s;E(6),A("formGroup",r.formulario),E(6),A("ngIf",((i=r.formulario.get("email"))==null?null:i.hasError("required"))&&((i=r.formulario.get("email"))==null?null:i.touched)),E(5),A("ngIf",((o=r.formulario.get("password"))==null?null:o.hasError("required"))&&((o=r.formulario.get("password"))==null?null:o.touched)),E(),A("ngIf",((s=r.formulario.get("password"))==null?null:s.hasError("minLength"))&&((s=r.formulario.get("password"))==null?null:s.touched)),E(),A("ngIf",r.authService.msjError!=""),E(2),A("disabled",r.formulario.invalid)("hidden",r.spinner),E(2),A("hidden",!r.spinner)}},dependencies:[Ie,Fe,Si,Ci,_t,Dt,Ii,Ur,jr],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:55em;padding:20px}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:80em}}h3[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.container-form[_ngcontent-%COMP%]{border-radius:20px;margin:0;padding:0}img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#696969;font-weight:400;margin-top:10px}.container-table[_ngcontent-%COMP%]{padding:10px}.quick-access-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.quick-access-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:120px;height:120px;margin:0 10px;border-radius:8px;background-color:#f1f1f1;cursor:pointer}.quick-access-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-bottom:10px}.quick-access-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:700;text-align:center}"]})};function a9(n,e){n&1&&(_(0,"div"),w(1,"Cargando..."),v())}function c9(n,e){n&1&&(_(0,"div"),w(1,"No hay usuarios registrados."),v())}function l9(n,e){if(n&1){let t=oe();_(0,"li")(1,"div"),w(2),v(),_(3,"div")(4,"button",4),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.cambiarEstado(i,!0))}),w(5,"Habilitar"),v(),_(6,"button",5),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.cambiarEstado(i,!1))}),w(7,"Inhabilitar"),v()()()}if(n&2){let t=e.$implicit;E(2),Ke("",t.nombre," ",t.apellido,"")}}function u9(n,e){if(n&1&&(_(0,"div")(1,"ul"),H(2,l9,8,2,"li",3),v()()),n&2){let t=L();E(2),A("ngForOf",t.usuarios)}}var Vg=class n{constructor(e,t,r){this.especialistaService=e;this.authService=t;this.router=r}usuarios=[];isLoading=!1;ngOnInit(){this.cargarUsuarios()}cargarUsuarios(){return T(this,null,function*(){try{this.isLoading=!0,this.usuarios=yield this.especialistaService.obtenerEspecialistas()}catch(e){console.error("Error al cargar los usuarios",e)}finally{this.isLoading=!1}})}cambiarEstado(e,t){return T(this,null,function*(){try{t?(yield this.especialistaService.habilitarCuentaEspecialista(e.uid),alert(`Estado del especialista ${e.nombre} ${e.apellido} cambiado a: habilitado`)):(yield this.especialistaService.inhabilitarCuentaEspecialista(e.uid),alert(`Estado del especialista ${e.nombre} ${e.apellido} cambiado a: inhabilitado`))}catch(r){console.error("Error al cambiar estado",r),alert("Hubo un error al intentar cambiar el estado del especialista. Por favor, intente nuevamente.")}})}redirectToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(t){return new(t||n)(q(fr),q(Ye),q(ft))};static \u0275cmp=ve({type:n,selectors:[["app-admin-usuarios"]],standalone:!0,features:[ye],decls:8,vars:3,consts:[[1,"container","mt-5"],[1,"btn","btn-primary","mb-3",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"h2"),w(2,"Gesti\xF3n de Usuarios"),v(),_(3,"button",1),G("click",function(){return r.redirectToRegister()}),w(4,"Agregar Administrador"),v(),H(5,a9,2,0,"div",2)(6,c9,2,0,"div",2)(7,u9,3,1,"div",2),v()),t&2&&(E(5),A("ngIf",r.isLoading),E(),A("ngIf",!r.isLoading&&r.usuarios.length===0),E(),A("ngIf",!r.isLoading))},dependencies:[Ie,Ct,Fe],styles:[".container[_ngcontent-%COMP%]{background-color:#f5faff;border-radius:10px;padding:30px;box-shadow:0 4px 8px #0000001a;margin-top:20px}h2[_ngcontent-%COMP%]{font-size:2rem;color:#007bff;font-weight:700;text-align:center;margin-bottom:30px}button.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;font-size:1.1rem;padding:10px 20px;border-radius:5px;display:block;margin:0 auto 20px;transition:background-color .3s,transform .3s}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}button.btn-primary[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #268fff80}ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}li[_ngcontent-%COMP%]{background-color:#fff;padding:15px;border-radius:8px;margin-bottom:15px;box-shadow:0 2px 6px #0000001a;display:flex;justify-content:space-between;align-items:center}li[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{font-size:1.2rem;color:#007bff;font-weight:500}button.btn-success[_ngcontent-%COMP%], button.btn-danger[_ngcontent-%COMP%]{padding:8px 15px;border-radius:5px;font-size:1rem;transition:background-color .3s,transform .3s}button.btn-success[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}button.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;transform:translateY(-2px)}button.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}button.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;transform:translateY(-2px)}.isLoading[_ngcontent-%COMP%]{font-size:1.2rem;color:#007bff;text-align:center;padding:20px}.no-usuarios[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;color:#6c757d}"]})};var Lg=class n{transform(e,t){let r=[];if(t!=null){for(let i of e)(i.especialidad.descripcion.toLowerCase().indexOf(t)>-1||i.paciente.nombre.toLowerCase().indexOf(t)>-1||i.paciente.apellido.toLowerCase().indexOf(t)>-1||i.historiaClinica!=""&&(i.historiaClinica.altura.toString().indexOf(t)>-1||i.historiaClinica.peso.toString().indexOf(t)>-1||i.historiaClinica.temperatura.toString().indexOf(t)>-1||i.historiaClinica.presion.indexOf(t)>-1||i.historiaClinica.clave1.indexOf(t)>-1||i.historiaClinica.clave3.indexOf(t)>-1||i.historiaClinica.clave2.indexOf(t)>-1||i.historiaClinica.clave4.indexOf(t)>-1||i.historiaClinica.clave5.indexOf(t)>-1||i.historiaClinica.clave6.indexOf(t)>-1))&&r.push(i);return r}else return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=gc({name:"filterEspecialista",type:n,pure:!0,standalone:!0})};var rn=class n{constructor(e){this.firestore=e;this.cargarCollection()}dbPath="turnos";turnos=[];turnosCollection;turnosObs;turnosPorEspecialidad=[];cantTurnosPorEspecialidad;cargarCollection(){return T(this,null,function*(){let e=yt(this.firestore,this.dbPath),t=nn(e,tI("fecha")),r=yield ht(t);this.turnos=r.docs.map(i=>{let o=i.data();return o.id=i.id,o})})}getTurnos(){let e=yt(this.firestore,this.dbPath),t=nn(e,tI("fecha"));return je(ht(t)).pipe(me(r=>r.docs.map(i=>{let o=i.data();return o.id=i.id,o})))}updateID(e){let t=Rt(this.firestore,`${this.dbPath}/${e}`);return Mn(t,{id:e})}addTurno(e){return T(this,null,function*(){let t=yt(this.firestore,this.dbPath),r={id:"",estado:e.estado,paciente:e.paciente,especialista:e.especialista,especialidad:e.especialidad,fecha:e.fecha,hora:e.hora,comentariosPaciente:e.comentariosPaciente,comentariosEspecialista:e.comentariosEspecialista,comentariosAdmin:e.comentariosAdmin,historiaClinica:"",encuesta:"",calificacionAtencion:""},i=yield il(t,r);return yield this.updateID(i.id),i})}updateTurno(e){let t=Rt(this.firestore,`${this.dbPath}/${e.id}`);return Mn(t,K({},e))}updateTurnoEstado(e){let t=Rt(this.firestore,`${this.dbPath}/${e.id}`);return Mn(t,{estado:e.estado})}updateTurnoEstadoComentariosPaciente(e){let t=Rt(this.firestore,`${this.dbPath}/${e.id}`);return Mn(t,{estado:e.estado,comentariosPaciente:e.comentariosPaciente})}updateTurnoEstadoComentariosEspecialista(e){let t=Rt(this.firestore,`${this.dbPath}/${e.id}`);return Mn(t,{estado:e.estado,comentariosEspecialista:e.comentariosEspecialista})}updateTurnoEstadoComentariosAdmin(e){let t=Rt(this.firestore,`${this.dbPath}/${e.id}`);return Mn(t,{estado:e.estado,comentariosAdmin:e.comentariosAdmin})}updateTurnoHistoriaClinica(e,t){let r=Rt(this.firestore,`${this.dbPath}/${t}`),i=K({},e);return delete i.id,Mn(r,{historiaClinica:i})}getTurnosByEspecialidad(e){let t=yt(this.firestore,this.dbPath),r=nn(t,ao("especialidad.nombre","==",e));return je(ht(r)).pipe(me(i=>i.docs.map(o=>{let s=o.data();return s.id=o.id,s})))}getTurnosPorDia(){let e=yt(this.firestore,this.dbPath);return je(ht(e)).pipe(me(t=>t.docs.map(r=>{let i=r.data();return i.id=r.id,i})))}addEncuesta(e,t){return T(this,null,function*(){let r=Rt(this.firestore,`${this.dbPath}/${e.id}`);return yield Mn(r,{encuesta:t}),r})}addCalificacionAtencion(e,t){return T(this,null,function*(){let r=Rt(this.firestore,`${this.dbPath}/${e.id}`);return yield Mn(r,{calificacionAtencion:t}),r})}getTurnosByEspecialista(e){let t=yt(this.firestore,this.dbPath),r=nn(t,ao("especialista.email","==",e));return je(ht(r)).pipe(me(i=>i.docs.map(o=>{let s=o.data();return s.id=o.id,s})))}static \u0275fac=function(t){return new(t||n)(le(fn))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function d9(n,e){if(n&1&&(_(0,"h4")(1,"b"),w(2,"Comentario Especialista"),v(),w(3),v()),n&2){let t=L();E(3),he(": ",t.turnoDetalle.comentariosEspecialista," ")}}function h9(n,e){if(n&1&&(_(0,"h4")(1,"b"),w(2,"Comentario Paciente"),v(),w(3),v()),n&2){let t=L();E(3),he(": ",t.turnoDetalle.comentariosPaciente," ")}}function f9(n,e){if(n&1){let t=oe();_(0,"textarea",16),un("ngModelChange",function(i){X(t);let o=L(3);return _n(o.nuevoComentarioEspecialista,i)||(o.nuevoComentarioEspecialista=i),ee(i)}),v()}if(n&2){let t=L(3);ln("ngModel",t.nuevoComentarioEspecialista)}}function p9(n,e){if(n&1){let t=oe();_(0,"div",13),H(1,f9,1,1,"textarea",14),_(2,"button",15),G("click",function(){X(t);let i=L(2);return ee(i.enviarComentario())}),w(3," Enviar "),v()()}if(n&2){let t=L(2);E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isEspecialista)}}function m9(n,e){if(n&1&&(_(0,"div"),H(1,p9,4,1,"div",12),v()),n&2){let t=L();E(),A("ngIf",t.turnoDetalle.estado=="REALIZADO")}}function g9(n,e){if(n&1){let t=oe();_(0,"textarea",18),un("ngModelChange",function(i){X(t);let o=L(3);return _n(o.nuevoComentarioPaciente,i)||(o.nuevoComentarioPaciente=i),ee(i)}),v()}if(n&2){let t=L(3);ln("ngModel",t.nuevoComentarioPaciente)}}function v9(n,e){if(n&1){let t=oe();_(0,"div",13)(1,"h4")(2,"b"),w(3,"Comentarios Paciente"),v(),w(4),v(),H(5,g9,1,1,"textarea",17),_(6,"button",15),G("click",function(){X(t);let i=L(2);return ee(i.enviarComentario())}),w(7," Enviar "),v()()}if(n&2){let t=L(2);E(4),he(": ",t.turnoDetalle.comentariosPaciente," "),E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isPaciente)}}function y9(n,e){if(n&1&&(_(0,"div"),H(1,v9,8,2,"div",12),v()),n&2){let t=L();E(),A("ngIf",t.turnoDetalle.estado=="REALIZADO")}}function _9(n,e){if(n&1){let t=oe();_(0,"div",20)(1,"button",21),G("click",function(){X(t);let i=L(2);return ee(i.cancelar())}),w(2," CANCELAR "),v()()}}function w9(n,e){if(n&1){let t=oe();_(0,"button",23),G("click",function(){X(t);let i=L(3);return ee(i.rechazar())}),w(1," RECHAZAR "),v()}}function E9(n,e){if(n&1&&(_(0,"div",20),H(1,w9,2,0,"button",22),v()),n&2){let t=L(2);E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isEspecialista)}}function b9(n,e){if(n&1){let t=oe();_(0,"button",25),G("click",function(){X(t);let i=L(3);return ee(i.aceptar())}),w(1," ACEPTAR "),v()}}function I9(n,e){if(n&1&&(_(0,"div"),H(1,b9,2,0,"button",24),v()),n&2){let t=L(2);E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isEspecialista)}}function C9(n,e){if(n&1&&(_(0,"div"),H(1,_9,3,0,"div",19)(2,E9,2,1,"div",19)(3,I9,2,1,"div",10),v()),n&2){let t=L();E(),A("ngIf",t.turnoDetalle.estado!="ACEPTADO"&&t.turnoDetalle.estado!="RECHAZADO"&&t.turnoDetalle.estado!="REALIZADO"&&t.turnoDetalle.estado!="CANCELADO"),E(),A("ngIf",t.turnoDetalle.estado!="ACEPTADO"&&t.turnoDetalle.estado!="CANCELADO"&&t.turnoDetalle.estado!="REALIZADO"&&t.turnoDetalle.estado!="RECHAZADO"),E(),A("ngIf",t.turnoDetalle.estado!="RECHAZADO"&&t.turnoDetalle.estado!="REALIZADO"&&t.turnoDetalle.estado!="CANCELADO"&&t.turnoDetalle.estado!="ACEPTADO")}}function T9(n,e){if(n&1){let t=oe();_(0,"button",27),G("click",function(){X(t);let i=L(2);return ee(i.finalizar())}),w(1," FINALIZAR "),v()}}function S9(n,e){if(n&1&&(_(0,"div"),H(1,T9,2,0,"button",26),v()),n&2){let t=L();E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isEspecialista)}}function D9(n,e){if(n&1){let t=oe();_(0,"textarea",16),un("ngModelChange",function(i){X(t);let o=L(4);return _n(o.nuevoComentarioEspecialista,i)||(o.nuevoComentarioEspecialista=i),ee(i)}),v()}if(n&2){let t=L(4);ln("ngModel",t.nuevoComentarioEspecialista)}}function A9(n,e){if(n&1){let t=oe();_(0,"div"),H(1,D9,1,1,"textarea",14),_(2,"button",15),G("click",function(){X(t);let i=L(3);return ee(i.enviarComentario())}),w(3," Enviar "),v()()}if(n&2){let t=L(3);E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isEspecialista)}}function x9(n,e){if(n&1&&(_(0,"div",13),H(1,A9,4,1,"div",10),v()),n&2){let t=L(2);E(),A("ngIf",!t.noMostrarEnviarComentarioEsp)}}function M9(n,e){if(n&1&&(_(0,"div"),H(1,x9,2,1,"div",12),v()),n&2){let t=L();E(),A("ngIf",t.cancela||t.rechaza||t.finaliza)}}function R9(n,e){if(n&1){let t=oe();_(0,"textarea",16),un("ngModelChange",function(i){X(t);let o=L(4);return _n(o.nuevoComentarioPaciente,i)||(o.nuevoComentarioPaciente=i),ee(i)}),v()}if(n&2){let t=L(4);ln("ngModel",t.nuevoComentarioPaciente)}}function P9(n,e){if(n&1){let t=oe();_(0,"div"),H(1,R9,1,1,"textarea",14),_(2,"button",15),G("click",function(){X(t);let i=L(3);return ee(i.enviarComentario())}),w(3," Enviar "),v()()}if(n&2){let t=L(3);E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isPaciente)}}function N9(n,e){if(n&1&&(_(0,"div",13),H(1,P9,4,1,"div",10),v()),n&2){let t=L(2);E(),A("ngIf",!t.noMostrarEnviarComentarioPac)}}function O9(n,e){if(n&1&&(_(0,"div"),H(1,N9,2,1,"div",12),v()),n&2){let t=L();E(),A("ngIf",t.cancela)}}function k9(n,e){if(n&1&&(_(0,"h4")(1,"b"),w(2,"Comentarios Administrador"),v(),w(3),v()),n&2){let t=L(2);E(3),he(": ",t.turnoDetalle.comentariosAdmin," ")}}function F9(n,e){if(n&1){let t=oe();_(0,"textarea",16),un("ngModelChange",function(i){X(t);let o=L(4);return _n(o.nuevoComentarioAdmin,i)||(o.nuevoComentarioAdmin=i),ee(i)}),v()}if(n&2){let t=L(4);ln("ngModel",t.nuevoComentarioAdmin)}}function V9(n,e){if(n&1){let t=oe();_(0,"div"),H(1,F9,1,1,"textarea",14),_(2,"button",15),G("click",function(){X(t);let i=L(3);return ee(i.enviarComentario())}),w(3," Enviar "),v()()}if(n&2){let t=L(3);E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isAdmin)}}function L9(n,e){if(n&1&&(_(0,"div",13),H(1,V9,4,1,"div",10),v()),n&2){let t=L(2);E(),A("ngIf",!t.noMostrarEnviarComentarioAdmin)}}function U9(n,e){if(n&1&&(_(0,"div"),H(1,k9,4,1,"h4",10)(2,L9,2,1,"div",12),v()),n&2){let t=L();E(),A("ngIf",t.turnoDetalle.comentariosAdmin!=""),E(),A("ngIf",t.cancela)}}function j9(n,e){if(n&1&&(_(0,"div",28)(1,"h3",29),w(2,"Encuesta Realizada"),v(),_(3,"h5")(4,"b"),w(5,"\xBFQu\xE9 te parecio la atenci\xF3n?"),v(),w(6),v(),_(7,"h5")(8,"b"),w(9,"\xBFQu\xE9 mejoras nos recomendas?"),v(),w(10),v(),_(11,"h5")(12,"b"),w(13,"\xBFVolver\xEDas a visitar nuestra Cl\xEDnica?"),v(),w(14),v()()),n&2){let t=L();E(6),he(" ",t.turnoDetalle.encuesta.pregUno," "),E(4),he(" ",t.turnoDetalle.encuesta.pregDos," "),E(4),he(" ",t.turnoDetalle.encuesta.pregTres," ")}}var ml=class n{constructor(e,t,r){this.turnoSvc=e;this.authSvc=t;this.router=r}turnoDetalle;aceptado="ACEPTADO";rechazado="RECHAZADO";cancelado="CANCELADO";finalizado="FINALIZADO";pendiente="PENDIENTE";realizado="REALIZADO";email;usuario;nuevoComentarioPaciente;nuevoComentarioEspecialista;nuevoComentarioAdmin;cancela=!1;rechaza=!1;finaliza=!1;noMostrarEnviarComentarioEsp=!1;noMostrarEnviarComentarioPac=!1;noMostrarEnviarComentarioAdmin=!1;estadoAccion="";ngOnInit(){this.estadoAccion="",this.usuario=this.authSvc.usuarioLogeado}cancelar(){this.estadoAccion=this.cancelado,this.cancela=!0,this.rechaza=!1,this.finaliza=!1}rechazar(){this.estadoAccion=this.rechazado,this.cancela=!1,this.rechaza=!0,this.finaliza=!1}aceptar(){this.turnoDetalle.estado=this.aceptado,this.estadoAccion=this.aceptado}finalizar(){this.cancela=!1,this.rechaza=!1,this.finaliza=!0,this.estadoAccion=this.finalizado}enviarComentario(){this.turnoDetalle.estado=this.estadoAccion,this.authSvc.ITEM_ACCESOS.isEspecialista?(this.turnoDetalle.comentariosEspecialista=this.nuevoComentarioEspecialista,this.turnoSvc.updateTurnoEstadoComentariosEspecialista(this.turnoDetalle),this.noMostrarEnviarComentarioEsp=!0,this.nuevoComentarioEspecialista=""):this.authSvc.ITEM_ACCESOS.isPaciente?(this.turnoDetalle.comentariosPaciente=this.nuevoComentarioPaciente,this.turnoSvc.updateTurnoEstadoComentariosPaciente(this.turnoDetalle),this.noMostrarEnviarComentarioPac=!0,this.nuevoComentarioPaciente=""):this.authSvc.ITEM_ACCESOS.isAdmin&&(this.turnoDetalle.comentariosAdmin=this.nuevoComentarioAdmin,this.turnoSvc.updateTurnoEstadoComentariosAdmin(this.turnoDetalle),this.noMostrarEnviarComentarioAdmin=!0,this.nuevoComentarioAdmin=""),this.estadoAccion="",this.authSvc.ITEM_ACCESOS.isEspecialista?this.router.navigate(["/mis-turnos-especialista"]):this.authSvc.ITEM_ACCESOS.isPaciente&&this.router.navigate(["/mis-turnos-paciente"])}static \u0275fac=function(t){return new(t||n)(q(rn),q(Ye),q(ft))};static \u0275cmp=ve({type:n,selectors:[["app-turno-detalle"]],inputs:{turnoDetalle:"turnoDetalle"},standalone:!0,features:[ye],decls:47,vars:21,consts:[[1,"container-turno-detalle","mx-auto"],[1,"row"],[1,"col-12"],[1,"text-center","mb-3"],[1,"form-group","col-md-6"],[1,"nombrePaciente"],[2,"margin","10px 0px"],["appNotImage","",3,"src"],[1,"my-4"],[3,"ngClass"],[4,"ngIf"],["class","container-encuesta",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],["class","form-control","placeholder","Deje un comentario para finalizar acci\xF3n...",3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btn-success","mt-2",3,"click"],["placeholder","Deje un comentario para finalizar acci\xF3n...",1,"form-control",3,"ngModelChange","ngModel"],["class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-control",3,"ngModelChange","ngModel"],["class","form-group col-md-2",4,"ngIf"],[1,"form-group","col-md-2"],[1,"btn","btn-warning","mb-2",3,"click"],["class","btn btn-danger mb-2",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-2",3,"click"],["class","btn btn-primary mb-2",3,"click",4,"ngIf"],[1,"btn","btn-primary","mb-2",3,"click"],["class","btn btn-success mb-2",3,"click",4,"ngIf"],[1,"btn","btn-success","mb-2",3,"click"],[1,"container-encuesta"],[1,"text-center"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),w(4,"Detalle del Turno"),v(),_(5,"div",1)(6,"div",4)(7,"h4",5)(8,"b"),w(9,"Paciente:"),v(),w(10),v(),_(11,"div",6)(12,"div"),B(13,"img",7)(14,"img",7),v()(),B(15,"hr",8),_(16,"h4")(17,"b"),w(18,"Fecha:"),v(),w(19),v(),_(20,"h4")(21,"b"),w(22,"Hora:"),v(),w(23),v(),_(24,"h4")(25,"b"),w(26,"Especialista:"),v(),w(27),v(),_(28,"h4")(29,"b"),w(30,"Especialidad:"),v(),w(31),v(),_(32,"h4")(33,"b"),w(34,"Estado:"),v(),_(35,"b",9),w(36),v()(),H(37,d9,4,1,"h4",10)(38,h9,4,1,"h4",10)(39,m9,2,1,"div",10)(40,y9,2,1,"div",10)(41,C9,4,3,"div",10)(42,S9,2,1,"div",10),v(),H(43,M9,2,1,"div",10)(44,O9,2,1,"div",10)(45,U9,3,2,"div",10)(46,j9,15,3,"div",11),v()()()()),t&2&&(E(10),Ke(" ",r.turnoDetalle.paciente.apellido,", ",r.turnoDetalle.paciente.nombre," "),E(3),A("src",r.turnoDetalle.paciente.urlsImagenes.imagen1Url,vn),E(),A("src",r.turnoDetalle.paciente.urlsImagenes.imagen2Url,vn),E(5),he(" ",r.turnoDetalle.fecha,""),E(4),he(" ",r.turnoDetalle.hora,""),E(4),Ke(" ",r.turnoDetalle.especialista.apellido,", ",r.turnoDetalle.especialista.nombre," "),E(4),he(" ",r.turnoDetalle.especialidad.nombre," "),E(4),A("ngClass",r.turnoDetalle.estado=="ACEPTADO"?"text-primary":r.turnoDetalle.estado=="PENDIENTE"?"text-warning":r.turnoDetalle.estado=="FINALIZADO"?"text-success":"text-danger"),E(),he(" ",r.turnoDetalle.estado," "),E(),A("ngIf",r.turnoDetalle.comentariosEspecialista),E(),A("ngIf",r.turnoDetalle.comentariosPaciente),E(),A("ngIf",r.authSvc.ITEM_ACCESOS.isEspecialista),E(),A("ngIf",r.authSvc.ITEM_ACCESOS.isPaciente),E(),A("ngIf",r.turnoDetalle.estado=="PENDIENTE"),E(),A("ngIf",r.turnoDetalle.estado=="ACEPTADO"&&r.turnoDetalle.estado!="FINALIZADO"),E(),A("ngIf",r.authSvc.ITEM_ACCESOS.isEspecialista),E(),A("ngIf",r.authSvc.ITEM_ACCESOS.isPaciente),E(),A("ngIf",r.authSvc.ITEM_ACCESOS.isAdmin),E(),A("ngIf",r.authSvc.ITEM_ACCESOS.isAdmin&&r.turnoDetalle.encuesta!=""&&r.turnoDetalle.encuesta!=null))},dependencies:[jn,_t,Dt,Jn,Ie,oi,Fe],styles:[".container-turno-detalle[_ngcontent-%COMP%]{box-shadow:1px 1px 5px gray;padding:20px;margin-top:15px;width:90%;border-radius:10px}img[_ngcontent-%COMP%]{width:150px;height:160px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}.container-encuesta[_ngcontent-%COMP%]{box-shadow:0 1px 3px gray;padding:20px;margin:20px;width:98%}.container-encuesta[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:15px}h2[_ngcontent-%COMP%]{color:#0086cf;box-shadow:1px 1px 3px #999;background-color:#fff;border-radius:10px;padding:5px;text-transform:uppercase}h3[_ngcontent-%COMP%]{color:#000;box-shadow:1px 1px 3px #999;background-color:#fff;border-radius:10px;padding:5px;text-transform:uppercase}.nombrePaciente[_ngcontent-%COMP%]{color:#0f0a6e;box-shadow:0 3px #999;border-radius:10px;padding:5px;font-size:25px;margin-bottom:10px}"]})};var gl=class{id;altura;peso;presion;temperatura;clave1;valor1;clave2;valor2;clave3;valor3;clave4;valor4;clave5;valor5;clave6;valor6};var vl=class n{constructor(e,t){this.router=e;this.firestore=t;this.historiasCollection=yt(this.firestore,"historiaClinica"),this.historias=this.getHistorias()}historiasCollection;historias;getHistorias(){let e=nn(this.historiasCollection);return je(ht(e)).pipe(me(t=>t.docs.map(r=>{let i=r.data();return i.id=r.id,i})))}addHistoriaClinica(e){return T(this,null,function*(){let t=K({},e);return delete t.id,yield il(this.historiasCollection,t)})}updateHistoriaClinica(e){return T(this,null,function*(){let t=Rt(this.firestore,`historiaClinica/${e.id}`),r={altura:e.altura,peso:e.peso,temperatura:e.temperatura,presion:e.presion,clave1:e.clave1,valor1:e.valor1,clave2:e.clave2,valor2:e.valor2,clave3:e.clave3,valor3:e.valor3,clave4:e.clave4,valor4:e.valor4,clave5:e.clave5,valor5:e.valor5,clave6:e.clave6,valor6:e.valor6};yield Mn(t,r)})}getHistoriaById(e){let t=Rt(this.firestore,"historiaClinica",e);return je(uR(t)).pipe(me(r=>{if(r.exists()){let i=r.data();return i.id=r.id,i}else return}))}static \u0275fac=function(t){return new(t||n)(le(ft),le(fn))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function B9(n,e){n&1&&(_(0,"span",46),w(1,"La altura es requerida."),v())}function $9(n,e){n&1&&(_(0,"span",46),w(1,"El peso es requerido."),v())}function H9(n,e){n&1&&(_(0,"span",46),w(1,"La Temperatura minima es 34."),v())}function q9(n,e){n&1&&(_(0,"span",46),w(1,"La Temperatura es requerida."),v())}function z9(n,e){n&1&&(_(0,"span",46),w(1,"La Temperatura m\xE1xima es 42."),v())}function G9(n,e){n&1&&(_(0,"span",46),w(1,"La Presi\xF3n debe tener solo numeros. "),v())}function W9(n,e){n&1&&(_(0,"span",46),w(1,"La presion es requerida. "),v())}function K9(n,e){n&1&&(_(0,"span",46),w(1,"La presion debe tener solo 3 caracteres."),v())}function Q9(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function Y9(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function Z9(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function J9(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function X9(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function ez(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function tz(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function nz(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function rz(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function iz(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function oz(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}function sz(n,e){n&1&&(_(0,"span",46),w(1,"Este campo es requerido"),v())}var Ug=class n{constructor(e,t,r,i,o){this.fb=e;this.routeActivate=t;this.historiaClinicaService=r;this.route=i;this.turnoSvc=o;this.formulario=e.group({Altura:["",rt.required],Peso:["",rt.required],Temperatura:["",[rt.required,rt.min(34),rt.max(45)]],Presion:["",[rt.required]],Clave1:["",rt.required],Valor1:["",rt.required],Clave2:["",rt.required],Valor2:["",rt.required],Clave3:[""],Valor3:[""],Clave4:[""],Valor4:[""],Clave5:[""],Valor5:[""],Clave6:[""],Valor6:[""]})}turno;formulario;TurnoAMostrar="";ngOnInit(){this.turno&&this.turno.historiaClinicaId&&(this.TurnoAMostrar.id=this.turno.historiaClinicaId)}aceptar(){var e=new gl;e.altura=this.formulario.controls.Altura.value,e.peso=this.formulario.controls.Peso.value,e.temperatura=this.formulario.controls.Temperatura.value,e.presion=this.formulario.controls.Presion.value,e.clave1=this.formulario.controls.Clave1.value,e.valor1=this.formulario.controls.Valor1.value,e.clave2=this.formulario.controls.Clave2.value,e.valor2=this.formulario.controls.Valor2.value,e.clave3=this.formulario.controls.Clave3.value,e.valor3=this.formulario.controls.Valor3.value,e.clave4=this.formulario.controls.Clave4.value,e.valor4=this.formulario.controls.Valor4.value,e.clave5=this.formulario.controls.Clave5.value,e.valor5=this.formulario.controls.Valor5.value,e.clave6=this.formulario.controls.Clave6.value,e.valor6=this.formulario.controls.Valor6.value,this.turnoSvc.updateTurnoHistoriaClinica(e,this.turno.id).then(()=>{}).catch(t=>{console.error("Error actualizando la historia cl\xEDnica: ",t)}),this.historiaClinicaService.addHistoriaClinica(e).then(()=>{this.formulario.reset(),this.route.navigate(["/mis-pacientes"])}).catch(t=>{console.error("Error al agregar la historia cl\xEDnica: ",t)})}static \u0275fac=function(t){return new(t||n)(q(Ti),q(Go),q(vl),q(ft),q(rn))};static \u0275cmp=ve({type:n,selectors:[["app-historia-clinica-alta"]],inputs:{turno:"turno",TurnoAMostrar:"TurnoAMostrar"},standalone:!0,features:[ye],decls:106,vars:28,consts:[[1,"container-general"],[3,"ngSubmit","formGroup"],[1,"container-general","container"],[1,""],[1,"form-control"],[1,"form-group"],[1,"row"],[1,"col-3"],["type","text","placeholder","Altura","formControlName","Altura",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Peso","formControlName","Peso",1,"form-control"],["type","number","placeholder","Temperatura","formControlName","Temperatura",1,"form-control"],["type","text","placeholder","Presi\xF3n","formControlName","Presion",1,"form-control"],[1,"text-muted"],["type","text","placeholder","Clave 1","formControlName","Clave1",1,"form-control"],["type","text","placeholder","Valor 1","formControlName","Valor1",1,"form-control"],["type","text","placeholder","Clave 2","formControlName","Clave2",1,"form-control"],["type","text","placeholder","Valor 2","formControlName","Valor2",1,"form-control"],["type","text","placeholder","Clave 3","formControlName","Clave3",1,"form-control"],["type","text","placeholder","Valor 3","formControlName","Valor3",1,"form-control"],["type","text","placeholder","Clave 4","formControlName","Clave4",1,"form-control"],[2,"margin-top","3px","margin-left","5px","margin-right","15px"],["type","range","placeholder","Valor 4","formControlName","Valor4","min","0","max","100","list","rango","step","5"],["id","rango"],["value","0","label","0"],["value","10"],["value","20"],["value","30"],["value","40"],["value","50","label","50"],["value","60"],["value","70"],["value","80"],["value","90"],["value","100","label","100"],["type","text","placeholder","Clave 5","formControlName","Clave5",1,"form-control"],["type","number","placeholder","Valor 5","formControlName","Valor5",1,"form-control"],["type","text","placeholder","Clave 6","formControlName","Clave6",1,"form-control"],[1,"form-check","form-switch"],["type","checkbox","role","switch","formControlName","Valor6","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchCheckDefault",1,"form-check-label"],["role","alert",1,"alert","alert-success"],[1,"alert-heading"],[1,"mb-0"],[1,"col-12"],["type","submit",1,"w-20","btn","btn-primary","btn-lg","mt-1",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(t&1&&(_(0,"div",0)(1,"form",1),G("ngSubmit",function(){return r.aceptar()}),B(2,"br"),_(3,"div",2)(4,"h2",3),w(5,"Carga de Historia Cl\xEDnica"),v(),_(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),B(10,"input",8),H(11,B9,2,0,"span",9),v(),_(12,"div",7),B(13,"input",10),H(14,$9,2,0,"span",9),v(),_(15,"div",7),B(16,"input",11),H(17,H9,2,0,"span",9)(18,q9,2,0,"span",9)(19,z9,2,0,"span",9),v(),_(20,"div",7),B(21,"input",12),H(22,G9,2,0,"span",9)(23,W9,2,0,"span",9)(24,K9,2,0,"span",9),v()(),B(25,"br"),_(26,"div",6)(27,"div",5)(28,"h4",13),w(29,"Datos Din\xE1micos"),v(),_(30,"div",7),B(31,"input",14),H(32,Q9,2,0,"span",9),B(33,"input",15),H(34,Y9,2,0,"span",9),v(),B(35,"br"),_(36,"div",7),B(37,"input",16),H(38,Z9,2,0,"span",9),B(39,"input",17),H(40,J9,2,0,"span",9),v(),B(41,"br"),_(42,"div",7),B(43,"input",18),H(44,X9,2,0,"span",9),B(45,"input",19),H(46,ez,2,0,"span",9),v(),B(47,"br"),_(48,"div",7),B(49,"input",20),H(50,tz,2,0,"span",9),_(51,"label",21),w(52,"Valor de 0 a 100 "),v(),B(53,"input",22),_(54,"datalist",23),B(55,"option",24)(56,"option",25)(57,"option",26)(58,"option",27)(59,"option",28)(60,"option",29)(61,"option",30)(62,"option",31)(63,"option",32)(64,"option",33)(65,"option",34),v(),H(66,nz,2,0,"span",9),v(),B(67,"br"),_(68,"div",7),B(69,"input",35),H(70,rz,2,0,"span",9),B(71,"input",36),H(72,iz,2,0,"span",9),v(),B(73,"br"),_(74,"div",7),B(75,"input",37),H(76,oz,2,0,"span",9),_(77,"div",38),B(78,"input",39),_(79,"label",40),w(80,"NO/SI "),v()(),H(81,sz,2,0,"span",9),v(),B(82,"br"),_(83,"div",41)(84,"h4",42),w(85,"Turno"),v(),_(86,"p"),w(87," Paciente atendido: "),_(88,"b"),w(89),v(),w(90,", para la especialidad: "),_(91,"b"),w(92),v(),w(93,". "),v(),_(94,"p"),w(95," Rese\xF1a/Comentario al respecto: "),_(96,"i"),w(97),v()(),B(98,"hr"),_(99,"p",43),w(100," Fecha de la atenci\xF3n: "),_(101,"b"),w(102),v()()()(),_(103,"div",44)(104,"button",45),w(105," Enviar "),v()()()()()()()()),t&2){let i,o,s,a,l,d,p,m,I,S,k,$,V,W,re,te,se,De,ce,R;E(),A("formGroup",r.formulario),E(10),A("ngIf",((i=r.formulario.get("Altura"))==null?null:i.hasError("required"))&&((i=r.formulario.get("Altura"))==null?null:i.touched)),E(3),A("ngIf",((o=r.formulario.get("Peso"))==null?null:o.hasError("required"))&&((o=r.formulario.get("Peso"))==null?null:o.touched)),E(3),A("ngIf",((s=r.formulario.get("Temperatura"))==null?null:s.hasError("min"))&&((s=r.formulario.get("Temperatura"))==null?null:s.touched)),E(),A("ngIf",((a=r.formulario.get("Temperatura"))==null?null:a.hasError("required"))&&((a=r.formulario.get("Temperatura"))==null?null:a.touched)),E(),A("ngIf",((l=r.formulario.get("Temperatura"))==null?null:l.hasError("max"))&&((l=r.formulario.get("Temperatura"))==null?null:l.touched)),E(3),A("ngIf",((d=r.formulario.get("Presion"))==null?null:d.hasError("estaMal"))&&((d=r.formulario.get("Presion"))==null?null:d.touched)),E(),A("ngIf",((p=r.formulario.get("Presion"))==null?null:p.hasError("required"))&&((p=r.formulario.get("Presion"))==null?null:p.touched)),E(),A("ngIf",(m=r.formulario.get("Presion"))==null?null:m.hasError("Presion")),E(8),A("ngIf",((I=r.formulario.get("Clave1"))==null?null:I.hasError("required"))&&((I=r.formulario.get("Clave1"))==null?null:I.touched)),E(2),A("ngIf",((S=r.formulario.get("Valor1"))==null?null:S.hasError("required"))&&((S=r.formulario.get("Valor1"))==null?null:S.touched)),E(4),A("ngIf",((k=r.formulario.get("Clave2"))==null?null:k.hasError("required"))&&((k=r.formulario.get("Clave2"))==null?null:k.touched)),E(2),A("ngIf",(($=r.formulario.get("Valor2"))==null?null:$.hasError("required"))&&(($=r.formulario.get("Valor2"))==null?null:$.touched)),E(4),A("ngIf",((V=r.formulario.get("Clave3"))==null?null:V.hasError("required"))&&((V=r.formulario.get("Clave3"))==null?null:V.touched)),E(2),A("ngIf",((W=r.formulario.get("Valor3"))==null?null:W.hasError("required"))&&((W=r.formulario.get("Valor3"))==null?null:W.touched)),E(4),A("ngIf",((re=r.formulario.get("Clave4"))==null?null:re.hasError("required"))&&((re=r.formulario.get("Clave4"))==null?null:re.touched)),E(16),A("ngIf",((te=r.formulario.get("Valor4"))==null?null:te.hasError("required"))&&((te=r.formulario.get("Valor4"))==null?null:te.touched)),E(4),A("ngIf",((se=r.formulario.get("Clave5"))==null?null:se.hasError("required"))&&((se=r.formulario.get("Clave5"))==null?null:se.touched)),E(2),A("ngIf",((De=r.formulario.get("Valor5"))==null?null:De.hasError("required"))&&((De=r.formulario.get("Valor5"))==null?null:De.touched)),E(4),A("ngIf",((ce=r.formulario.get("Clave6"))==null?null:ce.hasError("required"))&&((ce=r.formulario.get("Clave6"))==null?null:ce.touched)),E(5),A("ngIf",((R=r.formulario.get("Valor6"))==null?null:R.hasError("required"))&&((R=r.formulario.get("Valor6"))==null?null:R.touched)),E(8),Ke("",r.turno.paciente.nombre," ",r.turno.paciente.apellido,""),E(3),ke(r.turno.especialidad.nombre),E(5),he('"',r.turno.comentariosEspecialista,'" '),E(5),Ke("",r.turno.fecha," ",r.turno.hora,""),E(2),A("disabled",r.formulario.invalid)}},dependencies:[Ie,Fe,jn,Ci,Rg,Pg,_t,Ld,DI,EI,Dt,Ii,Si,Ur,jr],styles:[".containter-general[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%]{box-shadow:1px 1px 3px #999;color:#53cf00;border-radius:10px;text-transform:uppercase;text-align:center;padding:10px;background-color:#fff}.form-control[_ngcontent-%COMP%]{padding:20px}"]})};var az=(n,e,t,r)=>({"text-primary":n,"text-warning":e,"text-success":t,"text-danger":r});function cz(n,e){n&1&&(_(0,"div",9)(1,"div",10)(2,"span",11),w(3,"Loading..."),v()()())}function lz(n,e){n&1&&(_(0,"div",9)(1,"p"),w(2,"No tienes turnos disponibles."),v()())}function uz(n,e){if(n&1){let t=oe();_(0,"tr",15),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.asignarTurno(i))}),_(1,"th"),w(2),v(),_(3,"td"),w(4),v(),_(5,"td"),w(6),v(),_(7,"td"),w(8),v(),_(9,"td"),w(10),v(),_(11,"td",16)(12,"b"),w(13),v()()()}if(n&2){let t=e.$implicit,r=e.index;E(2),ke(r+1),E(2),Ke("",t.fecha," - ",t.hora,""),E(2),Ke("",t.paciente.nombre," ",t.paciente.apellido,""),E(2),Ke("",t.especialista.nombre," ",t.especialista.apellido,""),E(2),ke(t.especialidad.descripcion),E(),A("ngClass",_D(10,az,t.estado==="ACEPTADO",t.estado==="PENDIENTE",t.estado==="FINALIZADO",t.estado!=="ACEPTADO"&&t.estado!=="PENDIENTE"&&t.estado!=="FINALIZADO")),E(2),ke(t.estado)}}function dz(n,e){if(n&1&&(_(0,"div",12)(1,"table",13)(2,"thead")(3,"tr"),B(4,"th"),_(5,"th"),w(6,"Fecha y Hora"),v(),_(7,"th"),w(8,"Paciente"),v(),_(9,"th"),w(10,"Especialista"),v(),_(11,"th"),w(12,"Especialidad"),v(),_(13,"th"),w(14,"Estado"),v()()(),_(15,"tbody"),H(16,uz,14,15,"tr",14),wc(17,"filterEspecialista"),v()()()),n&2){let t=L();E(16),A("ngForOf",Ec(17,1,t.turnosPaciente,t.filter))}}function hz(n,e){if(n&1&&B(0,"app-turno-detalle",17),n&2){let t=L();A("turnoDetalle",t.turnoSeleccionado)}}function fz(n,e){if(n&1&&B(0,"app-historia-clinica-alta",19),n&2){let t=L(2);A("turno",t.turnoSeleccionado)}}function pz(n,e){if(n&1&&(_(0,"div"),H(1,fz,1,1,"app-historia-clinica-alta",18),v()),n&2){let t=L();E(),A("ngIf",t.turnoSeleccionado.estado==="FINALIZADO")}}var jg=class n{constructor(e,t){this.turnoSvc=e;this.authSvc=t}usuario;filter;turnosPaciente=[];turnoSeleccionado;mostrarAltaHistoria=!0;isLoading=!0;ngOnInit(){this.usuario=this.authSvc.usuario,this.usuario!=null&&this.cargarTurnos()}cargarTurnos(){this.turnoSvc.getTurnosByEspecialista(this.usuario.email).subscribe(e=>{this.turnosPaciente=[],e&&e.length>0&&e.forEach(t=>{let r={id:t.id,estado:t.estado,paciente:t.paciente,especialista:t.especialista,especialidad:t.especialidad,fecha:t.fecha,hora:t.hora,comentariosPaciente:t.comentariosPaciente,comentariosEspecialista:t.comentariosEspecialista,comentariosAdmin:t.comentariosAdmin,historiaClinica:t.historiaClinica,encuesta:t.encuesta,calificacionAtencion:t.calificacionAtencion};this.turnosPaciente.push(r)}),this.isLoading=!1,console.log("Turnos del especialista: ",this.turnosPaciente)},e=>{this.isLoading=!1,console.error("Error al cargar los turnos:",e)})}asignarTurno(e){this.turnoSeleccionado=e,e.historiaClinica?this.mostrarAltaHistoria=!1:this.mostrarAltaHistoria=!0}static \u0275fac=function(t){return new(t||n)(q(rn),q(Ye))};static \u0275cmp=ve({type:n,selectors:[["app-mis-turnos-especialista"]],standalone:!0,features:[ye],decls:14,vars:6,consts:[[1,"containter-general"],[1,"text-center"],[1,"row"],[1,"form-group","col-md-6"],["ng-blur","ngBlur()",1,"form-control",3,"ngModelChange","ngModel"],["class","mx-auto text-center mt-5",4,"ngIf"],["class","col-md-12 mx-auto table-responsive mt-3",4,"ngIf"],[3,"turnoDetalle",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","text-center","mt-5"],["role","status",1,"spinner-border","text-dark","mx-auto"],[1,"visually-hidden"],[1,"col-md-12","mx-auto","table-responsive","mt-3"],[1,"table","table-striped","table-bordered"],["class","tr-data",3,"click",4,"ngFor","ngForOf"],[1,"tr-data",3,"click"],[3,"ngClass"],[3,"turnoDetalle"],[3,"turno",4,"ngIf"],[3,"turno"]],template:function(t,r){t&1&&(_(0,"body")(1,"div",0)(2,"h2",1),w(3,"Mis Turnos"),v(),_(4,"div",2)(5,"h4"),w(6,"B\xFAsqueda por Especialidad o Paciente"),v(),_(7,"div",3)(8,"input",4),un("ngModelChange",function(o){return _n(r.filter,o)||(r.filter=o),o}),v()()(),H(9,cz,4,0,"div",5)(10,lz,3,0,"div",5)(11,dz,18,4,"div",6)(12,hz,1,1,"app-turno-detalle",7)(13,pz,2,1,"div",8),v()()),t&2&&(E(8),ln("ngModel",r.filter),E(),A("ngIf",r.isLoading),E(),A("ngIf",!r.isLoading&&r.turnosPaciente.length===0),E(),A("ngIf",!r.isLoading&&r.turnosPaciente.length>0),E(),A("ngIf",r.turnoSeleccionado),E(),A("ngIf",r.turnoSeleccionado&&r.mostrarAltaHistoria))},dependencies:[Ie,oi,Ct,Fe,jn,_t,Dt,Jn,Lg,ml,Ug],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:150em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:140em}}.containter-general[_ngcontent-%COMP%]{padding:20px}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}h3[_ngcontent-%COMP%]{padding-top:10px}h2[_ngcontent-%COMP%]{color:#0086cf;border-radius:10px;text-transform:uppercase;text-align:center}img[_ngcontent-%COMP%]{width:100px;height:110px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}.table-responsive[_ngcontent-%COMP%]{position:relative;max-height:250px!important;overflow:auto}"]})};function mz(n,e){if(n&1&&(_(0,"h3")(1,"b"),w(2),v(),w(3),v()),n&2){let t=L(2);E(2),he("",t.turnoDetalle.historiaClinica.clave1,": "),E(),he("",t.turnoDetalle.historiaClinica.valor1," ")}}function gz(n,e){if(n&1&&(_(0,"h3")(1,"b"),w(2),v(),w(3),v()),n&2){let t=L(2);E(2),he("",t.turnoDetalle.historiaClinica.clave2,": "),E(),he("",t.turnoDetalle.historiaClinica.valor2," ")}}function vz(n,e){if(n&1&&(_(0,"h3")(1,"b"),w(2),v(),w(3),v()),n&2){let t=L(2);E(2),he("",t.turnoDetalle.historiaClinica.clave3,": "),E(),he("",t.turnoDetalle.historiaClinica.valor3," ")}}function yz(n,e){if(n&1&&(_(0,"h3")(1,"b"),w(2),v(),w(3),v()),n&2){let t=L(2);E(2),he("",t.turnoDetalle.historiaClinica.clave4,": "),E(),he("",t.turnoDetalle.historiaClinica.valor4," ")}}function _z(n,e){if(n&1&&(_(0,"h3")(1,"b"),w(2),v(),w(3),v()),n&2){let t=L(2);E(2),he("",t.turnoDetalle.historiaClinica.clave5,": "),E(),he("",t.turnoDetalle.historiaClinica.valor5," ")}}function wz(n,e){if(n&1&&(_(0,"h3")(1,"b"),w(2),v(),w(3),v()),n&2){let t=L(2);E(2),he("",t.turnoDetalle.historiaClinica.clave6,": "),E(),he("",t.turnoDetalle.historiaClinica.valor6==!0?"SI":"NO"," ")}}function Ez(n,e){if(n&1&&(_(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),w(4,"Historia Cl\xEDnica"),v(),_(5,"div",5)(6,"div",6)(7,"h3",7),w(8),v(),_(9,"h3",8),w(10,"Datos Fijos"),v(),_(11,"h3")(12,"b"),w(13,"Altura: "),v(),w(14),v(),_(15,"h3")(16,"b"),w(17,"Peso en KG: "),v(),w(18),v(),_(19,"h3")(20,"b"),w(21,"Temperatura: "),v(),w(22),v(),_(23,"h3",9),w(24," Datos Din\xE1micos "),v(),H(25,mz,4,2,"h3",10)(26,gz,4,2,"h3",10)(27,vz,4,2,"h3",10)(28,yz,4,2,"h3",10)(29,_z,4,2,"h3",10)(30,wz,4,2,"h3",10),v()()()()()),n&2){let t=L();E(8),Ke(" ",t.turnoDetalle.paciente.apellido,", ",t.turnoDetalle.paciente.nombre," "),E(6),he(" ",t.turnoDetalle.historiaClinica.altura,""),E(4),he(" ",t.turnoDetalle.historiaClinica.peso,""),E(4),he(" ",t.turnoDetalle.historiaClinica.temperatura," "),E(3),A("ngIf",t.turnoDetalle.historiaClinica.clave1!=""),E(),A("ngIf",t.turnoDetalle.historiaClinica.clave2!=""),E(),A("ngIf",t.turnoDetalle.historiaClinica.clave3!=""),E(),A("ngIf",t.turnoDetalle.historiaClinica.clave4!=""),E(),A("ngIf",t.turnoDetalle.historiaClinica.clave5!=""),E(),A("ngIf",t.turnoDetalle.historiaClinica.clave6!="")}}var yl=class n{turnoDetalle;constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-historia-clinica-detalle"]],inputs:{turnoDetalle:"turnoDetalle"},standalone:!0,features:[ye],decls:1,vars:1,consts:[["class","container-general mx-auto",4,"ngIf"],[1,"container-general","mx-auto"],[1,"row","container-turno-detalle"],[1,"col-12"],[1,"text-center","mb-3"],[1,"row"],[1,"form-group","col-md-6"],[1,"text-center",2,"color","rgb(10, 110, 68)","text-transform","uppercase"],[1,"subtitulo",2,"color","rgb(15, 10, 110)"],[1,"subtitulo",2,"color","rgb(15, 10, 110)","margin-top","20px"],[4,"ngIf"]],template:function(t,r){t&1&&H(0,Ez,31,11,"div",0),t&2&&A("ngIf",r.turnoDetalle.historiaClinica!="")},dependencies:[Ie,Fe],styles:[".container-general[_ngcontent-%COMP%]{box-shadow:1px 1px 5px gray;padding:20px;margin-top:15px;width:90%;border-radius:10px}h2[_ngcontent-%COMP%]{color:#0086cf;box-shadow:1px 1px 3px #999;background-color:#fff;border-radius:10px;padding:5px;text-transform:uppercase}.subtitulo[_ngcontent-%COMP%]{color:#0f0a6e;box-shadow:0 3px #999;border-radius:10px;padding:5px;font-size:25px;margin-bottom:10px}"]})};function bz(n,e){n&1&&(_(0,"div",7)(1,"strong"),w(2,"No se han encontrado pacientes."),v()())}function Iz(n,e){n&1&&B(0,"th")}function Cz(n,e){if(n&1&&(_(0,"li",20),w(1),_(2,"b"),w(3),v()()),n&2){let t=L().$implicit;E(),Ke(" ",t.fecha," - ",t.hora," - "),E(2),ke(t.especialidad.descripcion)}}function Tz(n,e){if(n&1){let t=oe();_(0,"div",18),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.enviarTurno(i))}),H(1,Cz,4,3,"li",19),v()}if(n&2){let t=e.$implicit;E(),A("ngIf",t!="")}}function Sz(n,e){if(n&1&&(_(0,"td")(1,"div",8)(2,"div",9)(3,"div",10),B(4,"img",11),v(),_(5,"div",12)(6,"div",13)(7,"h5",14),w(8),v(),_(9,"div",15)(10,"ul",16),H(11,Tz,2,1,"div",17),v()()()()()()()),n&2){let t=e.$implicit;E(4),A("src",t.urlFotos.imagen1Url,vn),E(4),Ke(" ",t.apellido,", ",t.nombre," "),E(3),A("ngForOf",t.ultimosTresTurnos)}}function Dz(n,e){if(n&1&&(_(0,"div"),B(1,"app-historia-clinica-detalle",21),v()),n&2){let t=L();E(),A("turnoDetalle",t.turnoSeleccionado)}}var Bg=class n{constructor(e,t){this.turnoSvc=e;this.authSvc=t;this.turnoSvc.getTurnos().subscribe(r=>{if(this.turnos=r,this.turnos!=null&&this.authSvc.usuarioLogeado&&(this.turnosEspecialista=this.turnos.filter(o=>o.especialista.email==this.authSvc.usuarioLogeado.email&&o.estado!="RECHAZADO"&&o.estado!="CANCELADO"&&o.estado!="PENDIENTE")),this.turnosEspecialista!=null){console.log("turnos especialistass",this.turnosEspecialista);let o=[""];for(var i=0;i<this.turnosEspecialista.length;i++){let s=this.turnosEspecialista[i].paciente.email;if(!o.includes(s)){o.push(s);let a={email:this.turnosEspecialista[i].paciente.email,nombre:this.turnosEspecialista[i].paciente.nombre,apellido:this.turnosEspecialista[i].paciente.apellido,urlFotos:this.turnosEspecialista[i].paciente.urlsImagenes,ultimosTresTurnos:[""]};this.pacientesEspecialista.push(a)}}console.log("this.turnosEspecialista -> ",this.turnosEspecialista),console.log("emailUnicos -> ",o),console.log("this.pacientesEspecialista -> ",this.pacientesEspecialista),this.pacientesEspecialista.forEach(s=>{for(var a=0;a<this.turnosEspecialista.length;a++)this.turnosEspecialista[a].paciente.email==s.email&&s.ultimosTresTurnos.push(this.turnosEspecialista[a])}),this.pacientesEspecialista.forEach(s=>{let a=s.ultimosTresTurnos,l=s.ultimosTresTurnos.length;if(l>3){let d=s.ultimosTresTurnos[l-1],p=s.ultimosTresTurnos[l-2],m=s.ultimosTresTurnos[l-3];s.ultimosTresTurnos=[""],s.ultimosTresTurnos.push(m),s.ultimosTresTurnos.push(p),s.ultimosTresTurnos.push(d)}})}console.log(this.turnosPacientesAtendidos)})}turnos;turnosEspecialista=[];pacientesEspecialista=[];turnosPacienteSeleccionado=[];turnoSeleccionado;pacienteSeleccionado;turnosPacientesAtendidos=[];ngOnInit(){}enviarTurno(e){this.turnoSeleccionado=e,console.log(e)}static \u0275fac=function(t){return new(t||n)(q(rn),q(Ye))};static \u0275cmp=ve({type:n,selectors:[["app-mis-pacientes"]],standalone:!0,features:[ye],decls:15,vars:4,consts:[[1,"container-general","mx-auto"],[1,"mx-auto"],["class","alert alert-warning",4,"ngIf"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-responsive","mx-auto"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"alert","alert-warning"],[1,"card","mb-3","card-paciente",2,"max-width","700px"],[1,"row","g-0"],[1,"col-md-4"],["appNotImage","","alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text",2,"width","100%"],[1,"list-group","list-group-flush"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["class","list-group-item text-list-turno",4,"ngIf"],[1,"list-group-item","text-list-turno"],[3,"turnoDetalle"]],template:function(t,r){t&1&&(_(0,"body")(1,"div",0)(2,"div",1)(3,"h2"),w(4,"MIS PACIENTES"),v(),H(5,bz,3,0,"div",2),_(6,"div",3)(7,"table",4)(8,"thead")(9,"tr"),H(10,Iz,1,0,"th",5),v()(),_(11,"tbody")(12,"tr"),H(13,Sz,12,4,"td",5),v()()()(),H(14,Dz,2,1,"div",6),v()()()),t&2&&(E(5),A("ngIf",r.pacientesEspecialista.length===0),E(5),A("ngForOf",r.pacientesEspecialista),E(3),A("ngForOf",r.pacientesEspecialista),E(),A("ngIf",r.turnoSeleccionado))},dependencies:[Ie,Ct,Fe,yl],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:150em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:140em}}.containter-general[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%]{color:#0086cf;border-radius:10px;padding:5px;text-transform:uppercase;text-align:center}h3[_ngcontent-%COMP%]{padding-top:10px}.table-responsive[_ngcontent-%COMP%]{position:relative;max-height:1000px!important;overflow:auto}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}td[_ngcontent-%COMP%]{padding:10px}img[_ngcontent-%COMP%]{width:190px;height:200px;border:1px solid black}.card-paciente[_ngcontent-%COMP%]{padding:10px}.card-paciente[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:3px 3px 5px #8edfff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px;padding:20px}.text-list-turno[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#6ff}"]})};var _l=class{id;estado;paciente;especialista;especialidad;fecha;hora;comentariosPaciente;comentariosEspecialista;comentariosAdmin;historiaClinica;encuesta;calificacionAtencion};function Az(n,e){if(n&1){let t=oe();_(0,"th",4),G("click",function(){let i=X(t).$implicit,o=L();return ee(o.enviarPaciente(i))}),w(1),v()}if(n&2){let t=e.$implicit;E(),Ke(" ",t.apellido,", ",t.nombre," ")}}function xz(n,e){if(n&1){let t=oe();_(0,"td",4),G("click",function(){let i=X(t).$implicit,o=L();return ee(o.enviarPaciente(i))}),_(1,"div"),B(2,"img",5)(3,"img",5),v()()}if(n&2){let t=e.$implicit;E(2),A("src",t.urlsImagenes.imagen1Url,vn),E(),A("src",t.urlsImagenes.imagen2Url,vn)}}var $g=class n{pacienteSeleccionado=new Ze;lista=[];constructor(){}ngOnInit(){console.log("listapacientessssssss",this.lista)}enviarPaciente(e){this.pacienteSeleccionado.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-paciente-lista"]],inputs:{lista:"lista"},outputs:{pacienteSeleccionado:"pacienteSeleccionado"},standalone:!0,features:[ye],decls:9,vars:2,consts:[[1,"container"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-striped","table-bordered","table-responsive","mx-auto"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["appNotImage","",3,"src"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr"),H(5,Az,2,2,"th",3),v()(),_(6,"tbody")(7,"tr"),H(8,xz,4,2,"td",3),v()()()()()),t&2&&(E(5),A("ngForOf",r.lista),E(3),A("ngForOf",r.lista))},dependencies:[Ie,Ct],styles:["img[_ngcontent-%COMP%]{width:100px;height:110px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}th[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}"]})};function Mz(n,e){if(n&1){let t=oe();_(0,"button",3),G("click",function(){let i=X(t).$implicit,o=L();return ee(o.enviarEspecialidad(i))}),_(1,"p"),w(2),v()()}if(n&2){let t=e.$implicit;E(2),ke(t.nombre)}}var Hg=class n{especialidadSeleccionado=new Ze;lista=[];constructor(){}ngOnInit(){console.log("listescppp",this.lista)}enviarEspecialidad(e){this.especialidadSeleccionado.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-especialidad-lista"]],inputs:{lista:"lista"},outputs:{especialidadSeleccionado:"especialidadSeleccionado"},standalone:!0,features:[ye],decls:3,vars:1,consts:[[1,"container"],[1,"col-md-12","mx-auto","table-responsive"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1),H(2,Mz,3,1,"button",2),v()()),t&2&&(E(2),A("ngForOf",r.lista))},dependencies:[Ie,Ct],styles:["img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}th[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}"]})};function Rz(n,e){n&1&&(_(0,"div",3),w(1," No hay especialistas disponibles para esta especialidad en este momento. "),v())}function Pz(n,e){if(n&1){let t=oe();_(0,"th",7),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.enviarEspecialista(i))}),w(1),v()}if(n&2){let t=e.$implicit;E(),Ke(" ",t.apellido,", ",t.nombre," ")}}function Nz(n,e){if(n&1){let t=oe();_(0,"td",7),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.enviarEspecialista(i))}),_(1,"div"),B(2,"img",8),v()()}if(n&2){let t=e.$implicit;E(2),A("src",t.imagenPerfil,vn)}}function Oz(n,e){if(n&1&&(_(0,"div",4)(1,"table",5)(2,"thead")(3,"tr"),H(4,Pz,2,2,"th",6),v()(),_(5,"tbody")(6,"tr"),H(7,Nz,3,1,"td",6),v()()()()),n&2){let t=L();E(4),A("ngForOf",t.lista),E(3),A("ngForOf",t.lista)}}var qg=class n{especialistaSeleccionado=new Ze;lista=[];constructor(){}ngOnInit(){}enviarEspecialista(e){console.log("especialistaxsd",this.lista),this.especialistaSeleccionado.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-especialista-lista"]],inputs:{lista:"lista"},outputs:{especialistaSeleccionado:"especialistaSeleccionado"},standalone:!0,features:[ye],decls:3,vars:2,consts:[[1,"container"],["class","alert alert-warning text-center","role","alert",4,"ngIf"],["class","col-md-12 mx-auto table-responsive",4,"ngIf"],["role","alert",1,"alert","alert-warning","text-center"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-striped","table-bordered","table-responsive","mx-auto"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["appNotImage","",3,"src"]],template:function(t,r){t&1&&(_(0,"div",0),H(1,Rz,2,0,"div",1)(2,Oz,8,2,"div",2),v()),t&2&&(E(),A("ngIf",r.lista.length===0),E(),A("ngIf",r.lista.length>0))},dependencies:[Ie,Ct,Fe],styles:["img[_ngcontent-%COMP%]{width:140px;height:150px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}img[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}th[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 6px #0073ff}"]})};function kz(n,e){if(n&1){let t=oe();_(0,"div",9)(1,"div",10)(2,"h5",0),w(3,"Seleccione un Paciente"),v(),_(4,"app-paciente-lista",11),G("pacienteSeleccionado",function(i){X(t);let o=L();return ee(o.asignarPaciente(i))}),v()()()}if(n&2){let t=L();E(4),A("lista",t.pacientes)}}function Fz(n,e){if(n&1){let t=oe();_(0,"div",9)(1,"div",10)(2,"h5",0),w(3,"Seleccione una Especialidad"),v(),_(4,"app-especialidad-lista",12),G("especialidadSeleccionado",function(i){X(t);let o=L();return ee(o.asignarEspecialidad(i))}),v()()()}if(n&2){let t=L();E(4),A("lista",t.especialidades)}}function Vz(n,e){if(n&1){let t=oe();_(0,"div")(1,"div",10)(2,"h5",0),w(3,"Seleccione un Especialista"),v(),_(4,"app-especialista-lista",13),G("especialistaSeleccionado",function(i){X(t);let o=L();return ee(o.asignarEspecialista(i))}),v()()()}if(n&2){let t=L();E(4),A("lista",t.especialistas)}}function Lz(n,e){if(n&1&&(_(0,"div",14),w(1),v()),n&2){let t=L();E(),he(" ",t.mensajeError," ")}}function Uz(n,e){n&1&&B(0,"th")}function jz(n,e){if(n&1){let t=oe();_(0,"td")(1,"button",18),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.mostrarHorarios(i))}),w(2),v()()}if(n&2){let t=e.$implicit;E(2),Ke(" ",t.fmt_date.date," de ",t.fmt_date.monthName," ")}}function Bz(n,e){if(n&1&&(_(0,"div",9)(1,"h5",0),w(2,"Seleccione el d\xEDa de su turno entre los pr\xF3ximos 15 d\xEDas"),v(),_(3,"div",15)(4,"table",16)(5,"thead")(6,"tr"),H(7,Uz,1,0,"th",17),v()(),_(8,"tbody")(9,"tr"),H(10,jz,3,2,"td",17),v()()()()()),n&2){let t=L();E(7),A("ngForOf",t.turnosDisponibles),E(3),A("ngForOf",t.turnosDisponibles)}}function $z(n,e){n&1&&(_(0,"div",22),w(1," No posee horarios disponibles. "),v())}function Hz(n,e){n&1&&B(0,"th")}function qz(n,e){if(n&1){let t=oe();_(0,"button",24),G("click",function(){X(t);let i=L().$implicit,o=L(3);return ee(o.fechaTurnoElegido(i))}),w(1),v()}if(n&2){let t=L().$implicit;E(),he(" ",t," ")}}function zz(n,e){if(n&1&&(_(0,"td"),H(1,qz,2,1,"button",23),v()),n&2){let t=e.$implicit;E(),A("ngIf",t)}}function Gz(n,e){if(n&1&&(_(0,"div",15)(1,"table",16)(2,"thead")(3,"tr"),H(4,Hz,1,0,"th",17),v()(),_(5,"tbody")(6,"tr"),H(7,zz,2,1,"td",17),v()()()()),n&2){let t=L(2);E(4),A("ngForOf",t.fechaElegida.row_date.hours),E(3),A("ngForOf",t.fechaElegida.row_date.hours)}}function Wz(n,e){if(n&1&&(_(0,"div",9)(1,"div",19)(2,"h5",0),w(3),v(),H(4,$z,2,0,"div",20)(5,Gz,8,2,"div",21),v()()),n&2){let t=L();E(3),vu(" Horarios disponibles para el d\xEDa ",t.fechaElegida.row_date.day,"/",t.fechaElegida.row_date.month,"/",t.fechaElegida.row_date.year," "),E(),A("ngIf",t.fechaElegida.row_date.hours.length==0),E(),A("ngIf",t.fechaElegida.row_date.hours.length>0)}}function Kz(n,e){n&1&&(_(0,"div")(1,"h3"),w(2,"Su turno:"),v()())}function Qz(n,e){if(n&1&&(_(0,"div")(1,"h5"),w(2),v()()),n&2){let t=L(2);E(2),vu(" Paciente: ",t.pacienteSeleccionado.apellido,", ",t.pacienteSeleccionado.nombre," - ",t.pacienteSeleccionado.dni," ")}}function Yz(n,e){if(n&1&&(_(0,"div")(1,"h5"),w(2),v()()),n&2){let t=L(2);E(2),Ke(" Especialista: ",t.especialistaSeleccionado.apellido,", ",t.especialistaSeleccionado.nombre," ")}}function Zz(n,e){if(n&1&&(_(0,"div")(1,"h5"),w(2),v()()),n&2){let t=L(2);E(2),he("Especialidad: ",t.especialidadSeleccionado.nombre,"")}}function Jz(n,e){if(n&1&&(_(0,"div")(1,"h5"),w(2),v()()),n&2){let t=L(2);E(2),vu(" Fecha: ",t.fechaElegida.row_date.day,"/",t.fechaElegida.row_date.month,"/",t.fechaElegida.row_date.year," ")}}function Xz(n,e){if(n&1&&(_(0,"div")(1,"h5"),w(2),v()()),n&2){let t=L(2);E(2),he("Hora: ",t.horaElegida," hs")}}function e8(n,e){if(n&1){let t=oe();_(0,"button",27),G("click",function(){X(t);let i=L(2);return ee(i.registrarTurno())}),w(1," Registrar Turno "),v()}}function t8(n,e){if(n&1&&(_(0,"div",25),H(1,Kz,3,0,"div",2)(2,Qz,3,3,"div",2)(3,Yz,3,2,"div",2)(4,Zz,3,1,"div",2)(5,Jz,3,3,"div",2)(6,Xz,3,1,"div",2)(7,e8,2,0,"button",26),v()),n&2){let t=L();E(),A("ngIf",t.especialistaSeleccionado),E(),A("ngIf",t.authSvc.ITEM_ACCESOS.isAdmin),E(),A("ngIf",t.especialistaSeleccionado),E(),A("ngIf",t.especialidadSeleccionado),E(),A("ngIf",t.fechaElegida),E(),A("ngIf",t.horaElegida),E(),A("ngIf",t.horaElegida)}}function n8(n,e){n&1&&(_(0,"div",28),w(1," Turno registrado con \xE9xito! "),v())}var zg=class n{constructor(e,t,r,i,o,s,a){this.authSvc=e;this.especialistaService=t;this.especialidadService=r;this.pacienteService=i;this.turnoSvc=o;this.router=s;this.datePipe=a;this.successOperation=!1,this.usuario$=this.authSvc.usuario}suscripciones=[];especialistas=[];especialistaSeleccionado;especialidades=[];especialidadSeleccionado;pacientes=[];pacienteSeleccionado;spinner=!0;successOperation=!1;usuario$;usuarios=[];especialistasEspecialidad=[];turno;turnosOcupados;fromDate;toDate;fechas;mostrarHora=!1;fechaElegida;horaElegida;turnosDisponibles=[];listaUsuarios=[];idAdmin=!1;email;paciente;administrador;captchaPropio=!1;mensajeError;ngOnInit(){console.log("UsuarioLogueado",this.authSvc.usuarioLogeado),this.setearTurno(),this.spinnerShow(),this.cargarPacientes(),this.cargarEspecialidades(),setTimeout(()=>{this.spinnerHide()},2e3)}ngOnDestroy(){this.suscripciones.forEach(e=>{e.unsubscribe()}),this.suscripciones=[]}spinnerShow(){this.spinner=!0}spinnerHide(){this.spinner=!1}cargarEspecialistas(){this.especialistaService.getAllTwo().subscribe({next:e=>{this.especialidadSeleccionado.nombre?this.especialistas=e.filter(t=>t.especialidades?.includes(this.especialidadSeleccionado.nombre)):this.especialistas=e},error:e=>{console.error("Error al obtener los especialistas:",e)}})}cargarEspecialidades(){this.especialidades=[],this.especialidadService.getAllEsp().subscribe(e=>(console.log("asddd",e),this.especialidades=e))}cargarPacientes(){this.suscripciones.push(this.pacienteService.getAllTwo().subscribe(e=>{this.pacientes=[],e.forEach(t=>{{console.log("wiwi",t.payload);let r=t;r.uid=t.uid,this.pacientes.push(r)}})}))}asignarEspecialista(e){console.log("Especialista seleccionada ->",e),this.mensajeError="",this.setearFechaYHora(),this.especialistaSeleccionado=e,this.cargarTurnos()}asignarEspecialidad(e){console.log("Especialidad seleccionada ->",e),this.setearFechaYHora(),this.especialidadSeleccionado=e,this.cargarEspecialistas()}asignarPaciente(e){this.pacienteSeleccionado=e,console.log(this.pacienteSeleccionado)}mostrarHorarios(e){console.log("turnosDispnibles: ",this.turnosDisponibles),this.horaElegida="",this.fechaElegida=e,console.log("fechaElegida: ",this.fechaElegida),console.log("dia elegido: ",this.fechaElegida.fmt_date.weekDay),this.fechaElegida.row_date.hours=this.getHorasByDia(this.fechaElegida.fmt_date.weekDay);let t=this.fechaElegida.row_date.year+"-"+this.fechaElegida.row_date.month+"-"+this.fechaElegida.row_date.day;this.filtrarHorariosTurnos(t)}filtrarHorariosTurnos(e){if(this.especialistaSeleccionado.horarios===null){this.mensajeError="No hay turnos disponibles para este especialista.";return}let t=e;this.turnosOcupados.forEach(r=>{console.log(r.especialista),r.especialista.id==this.especialistaSeleccionado.id&&r.estado!="RECHAZADO"&&r.estado!="CANCELADO"&&this.fechas.forEach(i=>{if(t=i.row_date.year+"-"+i.row_date.month+"-"+i.row_date.day,r.fecha==t){let o=i.row_date.hours.indexOf(r.hora);o!==-1&&(i.row_date.hours[o]=null),this.turnosDisponibles.find(s=>s===i)||this.turnosDisponibles.push(i)}})})}fechaTurnoElegido(e){this.horaElegida=e,console.log("horaElegida: ",this.horaElegida)}cargarTurnos(){this.turnosDisponibles=[],console.log("cargar Turnos"),this.getDates(),this.turnoSvc.getTurnos().subscribe(e=>{this.turnosOcupados=e,this.cargarTurnosDisponibles()})}getDates(){var e=new Date;e.setDate(e.getDate()+1);var t=15,r=new Date;r.setDate(e.getDate()+t);for(var i=Math.abs(e.getTime()-r.getTime()),o=Math.ceil(i/(1e3*3600*24))+1,s=["Sun","MON","TUE","WED","THU","FRI","SAT"],a=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],l=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"],d=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30"],p=new Array,m=0;m<=o;m++){var I=e.getDate()<10?"0"+e.getDate():e.getDate(),S=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth().toString(),k,$;e.getDay()==6?($=d,k={day:I,month:S,year:e.getFullYear(),hours:$}):($=l,k={day:I,month:S,year:e.getFullYear(),hours:$});var V={weekDay:s[e.getDay()],date:I,month:a[e.getMonth()],monthName:this.datePipe.transform(e,"MMMM")};this.hasValidHorario(V.weekDay)&&p.push({row_date:k,fmt_date:V,is_weekend:e.getDay()==0||e.getDay()==6}),e.setDate(e.getDate()+1)}this.fechas=p,console.log("depurar",this.fechas)}hasValidHorario(e){if(console.log("Especialista seleccionado:",this.especialistaSeleccionado),!this.especialistaSeleccionado||!this.especialistaSeleccionado.horarios)return!1;switch(e){case"MON":let t=this.especialistaSeleccionado.horarios.horarioLunes?.[0];return t?.desde!==null&&t?.hasta!==null;case"TUE":let r=this.especialistaSeleccionado.horarios.horarioMartes?.[0];return r?.desde!==null&&r?.hasta!==null;case"WED":let i=this.especialistaSeleccionado.horarios.horarioMiercoles?.[0];return i?.desde!==null&&i?.hasta!==null;case"THU":let o=this.especialistaSeleccionado.horarios.horarioJueves?.[0];return o?.desde!==null&&o?.hasta!==null;case"FRI":let s=this.especialistaSeleccionado.horarios.horarioViernes?.[0];return s?.desde!==null&&s?.hasta!==null;case"SAT":let a=this.especialistaSeleccionado.horarios.horarioSabado?.[0];return a?.desde!==null&&a?.hasta!==null;default:return!1}}getHorasByDia(e){let t=[];if(!this.especialistaSeleccionado||!this.especialistaSeleccionado.horarios)return[];switch(e){case"MON":this.especialistaSeleccionado.horarios.horarioLunes&&this.especialistaSeleccionado.horarios.horarioLunes[0]?.desde!==null&&(t=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioLunes[0].desde,this.especialistaSeleccionado.horarios.horarioLunes[0].hasta));break;case"TUE":this.especialistaSeleccionado.horarios.horarioMartes&&this.especialistaSeleccionado.horarios.horarioMartes[0]?.desde!==null&&(t=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioMartes[0].desde,this.especialistaSeleccionado.horarios.horarioMartes[0].hasta));break;case"WED":this.especialistaSeleccionado.horarios.horarioMiercoles&&this.especialistaSeleccionado.horarios.horarioMiercoles[0]?.desde!==null&&(t=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioMiercoles[0].desde,this.especialistaSeleccionado.horarios.horarioMiercoles[0].hasta));break;case"THU":this.especialistaSeleccionado.horarios.horarioJueves&&this.especialistaSeleccionado.horarios.horarioJueves[0]?.desde!==null&&(t=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioJueves[0].desde,this.especialistaSeleccionado.horarios.horarioJueves[0].hasta));break;case"FRI":this.especialistaSeleccionado.horarios.horarioViernes&&this.especialistaSeleccionado.horarios.horarioViernes[0]?.desde!==null&&(t=this.getArrayHoras(!1,this.especialistaSeleccionado.horarios.horarioViernes[0].desde,this.especialistaSeleccionado.horarios.horarioViernes[0].hasta));break;case"SAT":this.especialistaSeleccionado.horarios.horarioSabado&&this.especialistaSeleccionado.horarios.horarioSabado[0]?.desde!==null&&(t=this.getArrayHoras(!0,this.especialistaSeleccionado.horarios.horarioSabado[0].desde,this.especialistaSeleccionado.horarios.horarioSabado[0].hasta));break}return t.length===0?[]:t}getArrayHoras(e,t,r){console.log("esSabado: ",e),console.log("horaDesde: ",t),console.log("horaHasta: ",r);var i=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"],o=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30"];let s=new Array,a=new Array;return e?(o.forEach(l=>{l>=t&&l<r&&a.push(l)}),console.log("hoursSatOK ->",a),a):(i.forEach(l=>{l>=t&&l<r&&s.push(l)}),console.log("hoursWeekOK ->",s),s)}cargarTurnosDisponibles(){!this.turnosOcupados||this.turnosOcupados.length===0?(console.log("No hay turnos ocupados. Generando turnos disponibles..."),this.turnosDisponibles=this.fechas.map(e=>{let t=K({},e);return t.row_date.hours=t.row_date.hours.filter(r=>r!==null),t}),console.log("Turnos generados:",this.turnosDisponibles)):(console.log("Filtrando turnos ocupados..."),this.turnosDisponibles=[],this.turnosOcupados.forEach(e=>{if(e.estado!=="RECHAZADO")for(let t=0;t<this.fechas.length;t++){let r=this.fechas[t],i=r.row_date.year+"-"+r.row_date.month+"-"+r.row_date.day;if(e.fecha===i&&e.estado!=="CANCELADO")for(let o=0;o<r.row_date.hours.length;o++)r.row_date.hours[o]===e.hora&&(r.row_date.hours[o]=null);this.turnosDisponibles.push(r)}}),this.turnosDisponibles=this.turnosDisponibles.filter((e,t,r)=>t===r.findIndex(i=>i.row_date.year===e.row_date.year&&i.row_date.month===e.row_date.month&&i.row_date.day===e.row_date.day)),console.log("Turnos ocupados filtrados:",this.turnosDisponibles)),this.turnosDisponibles.length===0?(this.mensajeError="No hay turnos disponibles para este especialista!",console.log(this.mensajeError)):this.mensajeError="",console.log("Turnos disponibles finales: ",this.turnosDisponibles)}registrarTurno(){console.log("UsuarioLogueadoMtd",this.authSvc.usuarioLogeado),this.spinnerShow(),this.authSvc.usuarioLogeado&&this.especialistaSeleccionado&&this.horaElegida&&(this.turno=new _l,this.turno.id="",this.turno.estado="PENDIENTE",this.turno.especialista=this.especialistaSeleccionado,this.turno.especialidad=this.especialidadSeleccionado,this.authSvc.ITEM_ACCESOS.isAdmin?(this.paciente=this.pacienteSeleccionado,this.turno.paciente=this.pacienteSeleccionado):this.authSvc.ITEM_ACCESOS.isPaciente&&(this.paciente=this.authSvc.usuarioLogeado,this.turno.paciente=this.paciente),this.turno.fecha=this.fechaElegida.row_date.year+"-"+this.fechaElegida.row_date.month+"-"+this.fechaElegida.row_date.day,this.turno.hora=this.horaElegida,this.turno.comentariosPaciente="",this.turno.comentariosEspecialista="",this.turno.comentariosAdmin="",this.turno.historiaClinica=new gl,this.turno.encuesta="",this.turno.calificacionAtencion="",this.turnoSvc.addTurno(this.turno).then(e=>{this.successOperation=!0,this.setearTurno(),this.router.navigate(["/mis-turnos-paciente"])}).catch(e=>{this.spinnerHide(),console.error(e)}))}setearFechaYHora(){this.fechaElegida=null,this.horaElegida=""}setearTurno(){this.spinnerHide(),this.pacienteSeleccionado=null,this.especialistaSeleccionado=null,this.especialidadSeleccionado=null,this.setearFechaYHora()}static \u0275fac=function(t){return new(t||n)(q(Ye),q(fr),q(hs),q(ul),q(rn),q(ft),q(Cp))};static \u0275cmp=ve({type:n,selectors:[["app-solicitar-turno"]],standalone:!0,features:[Vn([Cp]),ye],decls:16,vars:9,consts:[[1,"text-center"],["class","row container-listas",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger mx-auto mt-3","role","alert",4,"ngIf"],["class","row text-center container-turno",4,"ngIf"],["style","margin: 0px 20px","class","alert alert-success mx-auto text-center","role","alert",4,"ngIf"],[1,"mx-auto","text-center","mt-5"],["role","status",1,"spinner-border","text-dark","mx-auto","text-center",3,"hidden"],[1,"visually-hidden"],[1,"row","container-listas"],[1,"mx-auto"],[3,"pacienteSeleccionado","lista"],[3,"especialidadSeleccionado","lista"],[3,"especialistaSeleccionado","lista"],["role","alert",1,"alert","alert-danger","mx-auto","mt-3"],[1,"col-md-12","mx-auto","table-responsive"],[1,"table","table-striped","table-bordered","table-responsive","mx-auto"],[4,"ngFor","ngForOf"],[1,"btn","btn-dark","mb-2",2,"width","150px",3,"click"],[1,"row","mx-auto"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["class","col-md-12 mx-auto table-responsive",4,"ngIf"],["role","alert",1,"alert","alert-danger","mt-3"],["class","btn btn-success mb-2",3,"click",4,"ngIf"],[1,"btn","btn-success","mb-2",3,"click"],[1,"row","text-center","container-turno"],["class","w-20 btn btn-primary btn-lg mt-3","type","button",3,"click",4,"ngIf"],["type","button",1,"w-20","btn","btn-primary","btn-lg","mt-3",3,"click"],["role","alert",1,"alert","alert-success","mx-auto","text-center",2,"margin","0px 20px"]],template:function(t,r){t&1&&(_(0,"body")(1,"h2",0),w(2,"Solicitar Turno"),v(),B(3,"hr"),H(4,kz,5,1,"div",1)(5,Fz,5,1,"div",1)(6,Vz,5,1,"div",2)(7,Lz,2,1,"div",3)(8,Bz,11,2,"div",1)(9,Wz,6,5,"div",1)(10,t8,8,7,"div",4)(11,n8,2,0,"div",5),_(12,"div",6)(13,"div",7)(14,"span",8),w(15,"Loading..."),v()()()()),t&2&&(E(4),A("ngIf",r.authSvc.ITEM_ACCESOS.isAdmin&&r.pacientes.length>0&&!r.spinner),E(),A("ngIf",(!r.authSvc.ITEM_ACCESOS.isAdmin||r.pacienteSeleccionado)&&!r.spinner),E(),A("ngIf",r.especialidadSeleccionado),E(),A("ngIf",r.mensajeError),E(),A("ngIf",r.especialistaSeleccionado&&!r.mensajeError),E(),A("ngIf",r.fechaElegida),E(),A("ngIf",r.especialistaSeleccionado),E(),A("ngIf",r.successOperation),E(2),A("hidden",!r.spinner))},dependencies:[Ie,Ct,Fe,$g,Hg,qg],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:110em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:120em}}h2[_ngcontent-%COMP%]{text-align:center;align-items:center;padding:15px 0 0;color:#0086cf;text-transform:uppercase}img[_ngcontent-%COMP%]{width:160px;border:5px solid black}.container-listas[_ngcontent-%COMP%]{padding:10px;box-shadow:3px 3px 5px gray;margin:10px 20px}.container-turno[_ngcontent-%COMP%]{padding:10px;box-shadow:3px 3px 5px gray;background-color:#b8e5ee;margin:10px 20px}table[_ngcontent-%COMP%]{text-align:center;color:#4d4d4d;font-weight:400;margin-top:10px}"]})};var wl=class n{transform(e,t){let r=[];if(t!=null){for(let i of e)(i.especialidad.nombre.toLowerCase().indexOf(t)>-1||i.especialista.nombre.toLowerCase().indexOf(t)>-1||i.especialista.apellido.toLowerCase().indexOf(t)>-1||i.historiaClinica!=""&&(i.historiaClinica.altura.toString().indexOf(t)>-1||i.historiaClinica.peso.toString().indexOf(t)>-1||i.historiaClinica.temperatura.toString().indexOf(t)>-1||i.historiaClinica.presion.indexOf(t)>-1||i.historiaClinica.clave1.indexOf(t)>-1||i.historiaClinica.clave3.indexOf(t)>-1||i.historiaClinica.clave2.indexOf(t)>-1||i.historiaClinica.clave4.indexOf(t)>-1||i.historiaClinica.clave5.indexOf(t)>-1||i.historiaClinica.clave6.indexOf(t)>-1))&&r.push(i);return r}else return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=gc({name:"filterPaciente",type:n,pure:!0,standalone:!0})};function r8(n,e){n&1&&(_(0,"span",20),w(1," Debes seleccionar una opci\xF3n."),v())}function i8(n,e){n&1&&(_(0,"span",20),w(1,"Debes contestar la pregunta."),v())}function o8(n,e){n&1&&(_(0,"span",20),w(1,"Debes seleccionar una opci\xF3n."),v())}var Gg=class n{constructor(e,t,r,i){this.fv=e;this.auth=t;this.turnoService=r;this.router=i;this.usuario$=this.auth.usuario,setTimeout(()=>{this.usuario=this.auth.usuario},3e3),this.formulario=e.group({pregUno:["",rt.required],pregDos:["",rt.required],pregTres:["",rt.required]})}turno;formulario;usuario;usuario$;ngOnInit(){this.usuario$=this.auth.usuario}enviar(){let e=this.formulario.controls.pregUno.value,t=this.formulario.controls.pregDos.value,r=this.formulario.controls.pregTres.value,i={pregUno:e,pregDos:t,pregTres:r,fecha:new Date().toLocaleDateString()};this.turnoService.addEncuesta(this.turno,i).then(o=>{this.router.navigate(["/mis-turnos-paciente"])})}static \u0275fac=function(t){return new(t||n)(q(Ti),q(Ye),q(rn),q(ft))};static \u0275cmp=ve({type:n,selectors:[["app-encuesta"]],inputs:{turno:"turno"},standalone:!0,features:[ye],decls:48,vars:5,consts:[[1,"container"],[1,"mt-3",3,"ngSubmit","formGroup"],[1,"text-center","mt-3"],[1,"row"],[1,"col-12"],[1,"form-label"],["formControlName","pregUno",1,"custom-select","custom-select-lg","mb-3"],["selected","","value",""],["value","Mala"],["value","Buena"],["value","Excelente"],["class","text-danger",4,"ngIf"],["for","pregDos",1,"form-label"],["type","text","id","pregDos","formControlName","pregDos",1,"form-control"],[1,"form-check"],["type","radio","id","pregTresSi","value","SI","formControlName","pregTres",1,"form-check-input"],["for","pregTresSi",1,"form-check-label"],["type","radio","id","pregTresNo","value","NO","formControlName","pregTres",1,"form-check-input"],["for","pregTresNo",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(t&1&&(_(0,"div",0)(1,"form",1),G("ngSubmit",function(){return r.enviar()}),_(2,"div",2)(3,"h3"),w(4,"ENCUESTA"),v()(),_(5,"div",3)(6,"div",4)(7,"label",5),w(8,"\xBFQu\xE9 te parecio la atenci\xF3n?"),v()(),_(9,"div",4)(10,"select",6)(11,"option",7),w(12,"Selecciona una opci\xF3n"),v(),_(13,"option",8),w(14,"Mala"),v(),_(15,"option",9),w(16,"Buena"),v(),_(17,"option",10),w(18,"Excelente"),v()(),H(19,r8,2,0,"span",11),v()(),B(20,"br"),_(21,"div",3)(22,"div",4)(23,"label",12),w(24,"\xBFQu\xE9 mejoras nos recomendas?"),v(),B(25,"input",13),H(26,i8,2,0,"span",11),v()(),B(27,"br"),_(28,"div",3)(29,"div",4)(30,"label",5),w(31,"\xBFVolver\xEDas a visitar nuestra Cl\xEDnica?"),v()()(),_(32,"div",0)(33,"div",3)(34,"div",4)(35,"div",14),B(36,"input",15),v()(),_(37,"label",16),w(38," SI "),v(),_(39,"div",4)(40,"div",14),B(41,"input",17),v()(),_(42,"label",18),w(43," NO "),v(),H(44,o8,2,0,"span",11),v()(),B(45,"br"),_(46,"button",19),w(47," Enviar "),v()()()),t&2){let i,o,s;E(),A("formGroup",r.formulario),E(18),A("ngIf",((i=r.formulario.get("pregUno"))==null?null:i.hasError("required"))&&((i=r.formulario.get("pregUno"))==null?null:i.touched)),E(7),A("ngIf",((o=r.formulario.get("pregDos"))==null?null:o.hasError("required"))&&((o=r.formulario.get("pregDos"))==null?null:o.touched)),E(18),A("ngIf",((s=r.formulario.get("pregTres"))==null?null:s.hasError("required"))&&((s=r.formulario.get("pregTres"))==null?null:s.touched)),E(2),A("disabled",r.formulario.invalid)}},dependencies:[Ie,Fe,Si,Ci,Rg,Pg,_t,Mg,SI,Dt,Ii,Ur,jr],styles:["form[_ngcontent-%COMP%]{box-shadow:1px 1px 5px gray;padding:20px;border-radius:10px}label[_ngcontent-%COMP%]{font-size:15px}"]})};function s8(n,e){n&1&&(_(0,"div",8)(1,"div",9)(2,"span",10),w(3,"Loading..."),v()()())}function a8(n,e){if(n&1){let t=oe();_(0,"tr",14),G("click",function(){let i=X(t).$implicit,o=L(2);return ee(o.asignarTurno(i))}),_(1,"th"),w(2),v(),_(3,"td"),w(4),v(),_(5,"td"),w(6),v(),_(7,"td"),w(8),v(),_(9,"td"),w(10),v(),_(11,"td",15)(12,"b"),w(13),v()()()}if(n&2){let t=e.$implicit,r=e.index;E(2),ke(r+1),E(2),Ke("",t.fecha," - ",t.hora,""),E(2),Ke("",t.paciente.nombre," ",t.paciente.apellido,""),E(2),Ke(" ",t.especialista.nombre," ",t.especialista.apellido," "),E(2),ke(t.especialidad.nombre),E(),A("ngClass",t.estado=="ACEPTADO"?"text-primary":t.estado=="PENDIENTE"?"text-warning":t.estado=="FINALIZADO"?"text-success":"text-danger"),E(2),ke(t.estado)}}function c8(n,e){if(n&1&&(_(0,"div",11)(1,"table",12)(2,"thead")(3,"tr"),B(4,"th"),_(5,"th"),w(6,"Fecha y Hora"),v(),_(7,"th"),w(8,"Paciente"),v(),_(9,"th"),w(10,"Especialista"),v(),_(11,"th"),w(12,"Especialidad"),v(),_(13,"th"),w(14,"Estado"),v()()(),_(15,"tbody"),H(16,a8,14,10,"tr",13),wc(17,"filterPaciente"),v()()()),n&2){let t=L();E(16),A("ngForOf",Ec(17,1,t.turnosPaciente,t.filter))}}function l8(n,e){if(n&1&&B(0,"app-turno-detalle",16),n&2){let t=L();A("turnoDetalle",t.turnoSeleccionado)}}function u8(n,e){if(n&1&&(_(0,"div"),B(1,"app-encuesta",17),v()),n&2){let t=L();E(),A("turno",t.turnoSeleccionado)}}function d8(n,e){if(n&1&&B(0,"app-historia-clinica-detalle",16),n&2){let t=L();A("turnoDetalle",t.turnoSeleccionado)}}var Wg=class n{constructor(e,t){this.turnoSvc=e;this.authSvc=t;this.usuario$=this.authSvc.usuario}usuario$;usuarios=[];usuario;filter;turnosOcupados;turnoSeleccionado;turnosPaciente;turnosEspecialista;turnosHistoria;listadoHistoriaClinica=[];listaHistoriaClinica=[];ngOnInit(){this.usuario$=this.authSvc.usuario$,this.usuario$.subscribe(e=>{if(this.usuario=e,this.usuario!=null){if(this.authSvc.ITEM_ACCESOS.isPaciente){let t=yt(this.turnoSvc.firestore,"turnos"),r=nn(t,ao("paciente.email","==",this.usuario.email));this.turnosOcupados=ht(r)}else if(this.authSvc.ITEM_ACCESOS.isAdmin){console.log("IS ADMIN MIS TURNOS ADMIN");let t=yt(this.turnoSvc.firestore,"turnos");this.turnosOcupados=ht(t)}console.log(this.turnosOcupados),this.cargarTurnos()}})}cargarTurnos(){this.turnosPaciente=[],this.turnosOcupados.then(e=>{e.forEach(t=>{let r={id:t.id,estado:t.data().estado,paciente:t.data().paciente,especialista:t.data().especialista,especialidad:t.data().especialidad,fecha:t.data().fecha,hora:t.data().hora,comentariosPaciente:t.data().comentariosPaciente,comentariosEspecialista:t.data().comentariosEspecialista,comentariosAdmin:t.data().comentariosAdmin,historiaClinica:t.data().historiaClinica,encuesta:t.data().encuesta,calificacionAtencion:t.data().calificacionAtencion};this.turnosPaciente.push(r)}),console.log("turnos Paciente: ",this.turnosPaciente)}).catch(e=>{console.error("Error obteniendo los turnos: ",e)})}asignarTurno(e){console.log(e),this.turnoSeleccionado=e}static \u0275fac=function(t){return new(t||n)(q(rn),q(Ye))};static \u0275cmp=ve({type:n,selectors:[["app-mis-turnos-tabla"]],standalone:!0,features:[ye],decls:14,vars:6,consts:[[1,"containter-general"],[1,"row"],[1,"form-group","col-md-6"],["ng-blur","ngBlur()",1,"form-control",3,"ngModelChange","ngModel"],["class","mx-auto text-center mt-5",4,"ngIf"],["class","col-md-12 mx-auto table-responsive mt-3",4,"ngIf"],[3,"turnoDetalle",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","text-center","mt-5"],["role","status",1,"spinner-border","text-dark","mx-auto","text-center"],[1,"visually-hidden"],[1,"col-md-12","mx-auto","table-responsive","mt-3"],[1,"table","table-striped","table-bordered"],["class","tr-data",3,"click",4,"ngFor","ngForOf"],[1,"tr-data",3,"click"],[3,"ngClass"],[3,"turnoDetalle"],[3,"turno"]],template:function(t,r){t&1&&(_(0,"body")(1,"div",0)(2,"h2"),w(3,"USUARIO/S - TURNOS"),v(),_(4,"div",1)(5,"h4"),w(6,"Busqueda por Especialidad o Especialista"),v(),_(7,"div",2)(8,"input",3),un("ngModelChange",function(o){return _n(r.filter,o)||(r.filter=o),o}),v()()(),H(9,s8,4,0,"div",4)(10,c8,18,4,"div",5)(11,l8,1,1,"app-turno-detalle",6)(12,u8,2,1,"div",7)(13,d8,1,1,"app-historia-clinica-detalle",6),v()()),t&2&&(E(8),ln("ngModel",r.filter),E(),A("ngIf",!r.turnosPaciente),E(),A("ngIf",r.turnosPaciente),E(),A("ngIf",r.turnoSeleccionado),E(),A("ngIf",r.authSvc.ITEM_ACCESOS.isPaciente&&r.turnoSeleccionado&&(r.turnoSeleccionado.estado=="REALIZADO"||r.turnoSeleccionado.estado=="FINALIZADO")&&r.turnoSeleccionado.comentariosEspecialista!=""&&(r.turnoSeleccionado.encuesta==""||r.turnoSeleccionado.encuesta==null)),E(),A("ngIf",r.turnoSeleccionado&&r.turnoSeleccionado.historiaClinica!=null))},dependencies:[Ie,oi,Ct,Fe,jn,_t,Dt,Jn,yl,ml,wl,Gg],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:140em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:160em}}.containter-general[_ngcontent-%COMP%]{padding:20px}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}h2[_ngcontent-%COMP%]{color:#0086cf;border-radius:10px;text-transform:uppercase;text-align:center}img[_ngcontent-%COMP%]{width:100px;height:110px;box-shadow:0 0 5px #999;padding:10px;margin:0 10px}.table-responsive[_ngcontent-%COMP%]{position:relative;max-height:250px!important;overflow:auto}"]})};function h8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function f8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function p8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function m8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function g8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function v8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function y8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function _8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function w8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function E8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function b8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function I8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function C8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function T8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function S8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function D8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function A8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function x8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function M8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 19PM."),v())}function R8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function P8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 14PM."),v())}function N8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function O8(n,e){n&1&&(_(0,"span",28),w(1," El rango horario es de 8AM a 14PM."),v())}function k8(n,e){n&1&&(_(0,"span",28),w(1," Los minutos permitidos son 00 o 30."),v())}function F8(n,e){n&1&&(_(0,"div",29),w(1," Horarios registrados con \xE9xito! "),v())}var Kg=class n{constructor(e,t,r){this.fv=e;this.especialistaService=t;this.authSvc=r;this.spinner=!1,this.successOperation=!1,this.usuario=this.authSvc.usuarioLogeado,this.formulario=e.group({lunesHoraDesde:["",[this.validarMinutos,this.validarHora]],lunesHoraHasta:["",[this.validarMinutos,this.validarHora]],martesHoraDesde:["",[this.validarMinutos,this.validarHora]],martesHoraHasta:["",[this.validarMinutos,this.validarHora]],miercolesHoraDesde:["",[this.validarMinutos,this.validarHora]],miercolesHoraHasta:["",[this.validarMinutos,this.validarHora]],juevesHoraDesde:["",[this.validarMinutos,this.validarHora]],juevesHoraHasta:["",[this.validarMinutos,this.validarHora]],viernesHoraDesde:["",[this.validarMinutos,this.validarHora]],viernesHoraHasta:["",[this.validarMinutos,this.validarHora]],sabadoHoraDesde:["",[this.validarMinutos,this.validarSabadoHora]],sabadoHoraHasta:["",[this.validarMinutos,this.validarSabadoHora]]}),console.log(this.usuario.horarios),this.setearHorarios()}formulario;especialistaHorarios;especialidad;horario;horarioAux;dia;horarios;usuario;horariosUsuario;captchaPropio=!1;successOperation=!1;spinner;setearHorarios(){if(this.usuario.horarios!=null){let e=this.usuario.horarios;this.formulario.controls.lunesHoraDesde.setValue(e.horarioLunes[0].desde),this.formulario.controls.lunesHoraHasta.setValue(e.horarioLunes[0].hasta),this.formulario.controls.martesHoraDesde.setValue(e.horarioMartes[0].desde),this.formulario.controls.martesHoraHasta.setValue(e.horarioMartes[0].hasta),this.formulario.controls.miercolesHoraDesde.setValue(e.horarioMiercoles[0].desde),this.formulario.controls.miercolesHoraHasta.setValue(e.horarioMiercoles[0].hasta),this.formulario.controls.juevesHoraDesde.setValue(e.horarioJueves[0].desde),this.formulario.controls.juevesHoraHasta.setValue(e.horarioJueves[0].hasta),this.formulario.controls.viernesHoraDesde.setValue(e.horarioViernes[0].desde),this.formulario.controls.viernesHoraHasta.setValue(e.horarioViernes[0].hasta),this.formulario.controls.sabadoHoraDesde.setValue(e.horarioSabado[0].desde),this.formulario.controls.sabadoHoraHasta.setValue(e.horarioSabado[0].hasta)}else this.formulario.reset()}ngOnInit(){}spinnerShow(){this.spinner=!0}spinnerHide(){this.spinner=!1}cargarTurnos(){this.horarios.snapshotChanges().pipe(me(e=>{this.horariosUsuario=new Array,e.map(t=>{if(t.payload.doc.data().idEspecialista==this.usuario.id){let r={idEspecialista:t.payload.doc.data().idEspecialista,emailEspecialista:t.payload.doc.data().emailEspecialista,especialidad:t.payload.doc.data().especialidad,horarioLunes:t.payload.doc.data().horarioLunes,horarioMartes:t.payload.doc.data().horarioMartes,horarioMiercoles:t.payload.doc.data().horarioMiercoles,horarioJueves:t.payload.doc.data().horarioJueves,horarioViernes:t.payload.doc.data().horarioViernes,horarioSabado:t.payload.doc.data().horarioSabado};this.horariosUsuario.push(r)}})})).subscribe(),console.log(this.horariosUsuario)}validarMinutos(e){let t=e.value;if(t!=""&&t!=null){var r=t.split(":")[1],i=r.includes("00"),o=r.includes("30");if(i||o)return null;if(!i&&!o)return{minValido:!0}}return null}validarHora(e){let t=e.value;if(t!=""&&t!=null){var r=t.split(":")[0];if(r<8||r>19)return{horaValido:!0}}return null}validarSabadoHora(e){let t=e.value;if(t!=""&&t!=null){var r=t.split(":")[0];if(r<8||r>14)return{horaValido:!0}}return null}registrar(){this.spinnerShow(),console.log("usuario horarios",this.usuario),this.horario={idEspecialista:this.usuario.uid,emailEspecialista:this.usuario.email,especialidad:this.usuario.especialidades[0],horarioLunes:[{desde:this.formulario.controls.lunesHoraDesde.value,hasta:this.formulario.controls.lunesHoraHasta.value}],horarioMartes:[{desde:this.formulario.controls.martesHoraDesde.value,hasta:this.formulario.controls.martesHoraHasta.value}],horarioMiercoles:[{desde:this.formulario.controls.miercolesHoraDesde.value,hasta:this.formulario.controls.miercolesHoraHasta.value}],horarioJueves:[{desde:this.formulario.controls.juevesHoraDesde.value,hasta:this.formulario.controls.juevesHoraHasta.value}],horarioViernes:[{desde:this.formulario.controls.viernesHoraDesde.value,hasta:this.formulario.controls.viernesHoraHasta.value}],horarioSabado:[{desde:this.formulario.controls.sabadoHoraDesde.value,hasta:this.formulario.controls.sabadoHoraHasta.value}]},this.horariosUsuario=this.horario,this.usuario.horarios=this.horariosUsuario,this.especialistaService.updateHorarios(this.usuario).then(e=>{console.log(e),setTimeout(()=>{this.spinnerHide(),this.successOperation=!0,setTimeout(()=>{location.reload()},1e3)},2e3)})}static \u0275fac=function(t){return new(t||n)(q(Ti),q(fr),q(Ye))};static \u0275cmp=ve({type:n,selectors:[["app-mis-horarios"]],inputs:{especialistaHorarios:"especialistaHorarios"},standalone:!0,features:[ye],decls:75,vars:29,consts:[[1,"mx-auto","container-mis-horarios"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row","mx-auto"],[1,"mb-4","text-center"],[1,"col-md-8","order-md-1"],[1,"row"],[1,"col-12","mb-3"],[1,"col-md-4"],["for","lunes"],["type","time","min","8:00:00","max","19:00:00","id","lunesHoraDesde","formControlName","lunesHoraDesde",1,"form-control"],["class","text-danger",4,"ngIf"],["type","time","min","8:00:00","max","19:00:00","id","lunesHoraHasta","formControlName","lunesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","martesHoraDesde","formControlName","martesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","martesHoraHasta","formControlName","martesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","miercolesHoraDesde","formControlName","miercolesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","miercolesHoraHasta","formControlName","miercolesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","juevesHoraDesde","formControlName","juevesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","juevesHoraHasta","formControlName","juevesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","viernesHoraDesde","formControlName","viernesHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","viernesHoraHasta","formControlName","viernesHoraHasta",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","sabadoHoraDesde","formControlName","sabadoHoraDesde",1,"form-control"],["type","time","min","8:00:00","max","19:00:00","id","sabadoHoraHasta","formControlName","sabadoHoraHasta",1,"form-control"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"mb-4"],["role","status",1,"spinner-border","text-dark","mx-auto",3,"hidden"],[1,"visually-hidden"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"hidden","disabled"],[1,"text-danger"],["role","alert",1,"alert","alert-success"]],template:function(t,r){if(t&1&&(_(0,"body")(1,"div",0)(2,"form",1),G("ngSubmit",function(){return r.registrar()}),_(3,"div",2)(4,"div",3)(5,"h2",4),w(6,"Mis Horarios"),v(),_(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",6)(11,"div",8)(12,"label",9),w(13,"Lunes"),v(),B(14,"input",10),H(15,h8,2,0,"span",11)(16,f8,2,0,"span",11),B(17,"input",12),H(18,p8,2,0,"span",11)(19,m8,2,0,"span",11),v(),_(20,"div",8)(21,"label",9),w(22,"Martes"),v(),B(23,"input",13),H(24,g8,2,0,"span",11)(25,v8,2,0,"span",11),B(26,"input",14),H(27,y8,2,0,"span",11)(28,_8,2,0,"span",11),v(),_(29,"div",8)(30,"label",9),w(31,"Miercoles"),v(),B(32,"input",15),H(33,w8,2,0,"span",11)(34,E8,2,0,"span",11),B(35,"input",16),H(36,b8,2,0,"span",11)(37,I8,2,0,"span",11),v()(),B(38,"br"),_(39,"div",6)(40,"div",8)(41,"label",9),w(42,"Jueves"),v(),B(43,"input",17),H(44,C8,2,0,"span",11)(45,T8,2,0,"span",11),B(46,"input",18),H(47,S8,2,0,"span",11)(48,D8,2,0,"span",11),v(),_(49,"div",8)(50,"label",9),w(51,"Viernes"),v(),B(52,"input",19),H(53,A8,2,0,"span",11)(54,x8,2,0,"span",11),B(55,"input",20),H(56,M8,2,0,"span",11)(57,R8,2,0,"span",11),v(),_(58,"div",8)(59,"label",9),w(60,"Sabado"),v(),B(61,"input",21),H(62,P8,2,0,"span",11)(63,N8,2,0,"span",11),B(64,"input",22),H(65,O8,2,0,"span",11)(66,k8,2,0,"span",11),v()()()(),H(67,F8,2,0,"div",23),B(68,"hr",24),_(69,"div")(70,"div",25)(71,"span",26),w(72,"Loading..."),v()(),_(73,"button",27),w(74," Grabar "),v()()()()()()()()),t&2){let i,o,s,a,l,d,p,m,I,S,k,$,V,W,re,te,se,De,ce,R,D,x,P,N;E(2),A("formGroup",r.formulario),E(13),A("ngIf",(i=r.formulario.get("lunesHoraDesde"))==null?null:i.hasError("horaValido")),E(),A("ngIf",(o=r.formulario.get("lunesHoraDesde"))==null?null:o.hasError("minValido")),E(2),A("ngIf",(s=r.formulario.get("lunesHoraHasta"))==null?null:s.hasError("horaValido")),E(),A("ngIf",(a=r.formulario.get(""))==null?null:a.hasError("minValido")),E(5),A("ngIf",(l=r.formulario.get("martesHoraDesde"))==null?null:l.hasError("horaValido")),E(),A("ngIf",(d=r.formulario.get("martesHoraDesde"))==null?null:d.hasError("minValido")),E(2),A("ngIf",(p=r.formulario.get("martesHoraHasta"))==null?null:p.hasError("horaValido")),E(),A("ngIf",(m=r.formulario.get("martesHoraHasta"))==null?null:m.hasError("minValido")),E(5),A("ngIf",(I=r.formulario.get("miercolesHoraDesde"))==null?null:I.hasError("horaValido")),E(),A("ngIf",(S=r.formulario.get("miercolesHoraDesde"))==null?null:S.hasError("minValido")),E(2),A("ngIf",(k=r.formulario.get("miercolesHoraHasta"))==null?null:k.hasError("horaValido")),E(),A("ngIf",($=r.formulario.get("miercolesHoraHasta"))==null?null:$.hasError("minValido")),E(7),A("ngIf",(V=r.formulario.get("juevesHoraDesde"))==null?null:V.hasError("horaValido")),E(),A("ngIf",(W=r.formulario.get("juevesHoraDesde"))==null?null:W.hasError("minValido")),E(2),A("ngIf",(re=r.formulario.get("juevesHoraHasta"))==null?null:re.hasError("horaValido")),E(),A("ngIf",(te=r.formulario.get("juevesHoraHasta"))==null?null:te.hasError("minValido")),E(5),A("ngIf",(se=r.formulario.get("viernesHoraDesde"))==null?null:se.hasError("horaValido")),E(),A("ngIf",(De=r.formulario.get("viernesHoraDesde"))==null?null:De.hasError("minValido")),E(2),A("ngIf",(ce=r.formulario.get("viernesHoraHasta"))==null?null:ce.hasError("horaValido")),E(),A("ngIf",(R=r.formulario.get("viernesHoraHasta"))==null?null:R.hasError("minValido")),E(5),A("ngIf",(D=r.formulario.get("sabadoHoraDesde"))==null?null:D.hasError("horaValido")),E(),A("ngIf",(x=r.formulario.get("sabadoHoraDesde"))==null?null:x.hasError("minValido")),E(2),A("ngIf",(P=r.formulario.get("sabadoHoraHasta"))==null?null:P.hasError("horaValido")),E(),A("ngIf",(N=r.formulario.get("sabadoHoraHasta"))==null?null:N.hasError("minValido")),E(),A("ngIf",r.successOperation),E(3),A("hidden",!r.spinner),E(3),A("hidden",r.spinner)("disabled",r.formulario.invalid)}},dependencies:[Ie,Fe,Si,Ci,_t,Dt,Ii,Ur,jr],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:50em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:50em}}h2[_ngcontent-%COMP%]{color:#0086cf;box-shadow:1px 1px 3px #999;background-color:#fff;border-radius:10px;padding:5px;text-transform:uppercase;text-align:center}input[_ngcontent-%COMP%]:hover{cursor:pointer}.container-mis-horarios[_ngcontent-%COMP%]{box-shadow:0 0 10px #bdbdbd;padding:30px;border-radius:1%;align-items:center;width:100%}"]})};function V8(n,e){if(n&1&&(_(0,"div"),w(1),v()),n&2){let t=L().$implicit;E(),he(" ",t.comentariosPaciente," ")}}function L8(n,e){if(n&1&&(_(0,"div"),w(1),v()),n&2){let t=L().$implicit;E(),he(" ",t.comentariosEspecialista," ")}}function U8(n,e){if(n&1&&(_(0,"div"),w(1),v()),n&2){let t=L().$implicit;E(),he(" ",t.comentariosAdmin," ")}}function j8(n,e){if(n&1&&(_(0,"div",15)(1,"table",16)(2,"tr",17)(3,"th"),w(4,"Altura"),v(),_(5,"th"),w(6,"Peso"),v(),_(7,"th"),w(8,"Temperatura"),v(),_(9,"th"),w(10),v(),_(11,"th"),w(12),v(),_(13,"th"),w(14),v(),_(15,"th"),w(16),v(),_(17,"th"),w(18),v(),_(19,"th"),w(20),v()(),_(21,"tr")(22,"td"),w(23),v(),_(24,"td"),w(25),v(),_(26,"td"),w(27),v(),_(28,"td"),w(29),v(),_(30,"td"),w(31),v(),_(32,"td"),w(33),v(),_(34,"td"),w(35),v(),_(36,"td"),w(37),v(),_(38,"td"),w(39),v()()()()),n&2){let t=L().$implicit;E(10),ke(t.historiaClinica.clave1),E(2),ke(t.historiaClinica.clave2),E(2),ke(t.historiaClinica.clave3),E(2),ke(t.historiaClinica.clave4),E(2),ke(t.historiaClinica.clave5),E(2),ke(t.historiaClinica.clave6),E(3),ke(t.historiaClinica.altura),E(2),ke(t.historiaClinica.peso),E(2),ke(t.historiaClinica.temperatura),E(2),ke(t.historiaClinica.valor1),E(2),ke(t.historiaClinica.valor2),E(2),ke(t.historiaClinica.valor3),E(2),ke(t.historiaClinica.valor4),E(2),ke(t.historiaClinica.valor5),E(2),he(" ",t.historiaClinica.valor6==!0?"SI":"NO"," ")}}function B8(n,e){n&1&&(_(0,"div",15),w(1," NO POSEE "),v())}function $8(n,e){if(n&1&&(_(0,"tr",12)(1,"td"),w(2),v(),_(3,"td"),w(4),v(),_(5,"td"),w(6),v(),_(7,"td"),H(8,V8,2,1,"div",13)(9,L8,2,1,"div",13)(10,U8,2,1,"div",13),v(),_(11,"td"),H(12,j8,40,15,"div",14)(13,B8,2,0,"div",14),v()()),n&2){let t=e.$implicit;E(2),Ke("",t.fecha," - ",t.hora,""),E(2),ke(t.especialidad.descripcion),E(2),Ke(" ",t.especialista.nombre," ",t.especialista.apellido," "),E(2),A("ngIf",t.comentariosPaciente!=""),E(),A("ngIf",t.comentariosEspecialista!=""),E(),A("ngIf",t.comentariosAdmin!=""),E(2),A("ngIf",t.historiaClinica!=""),E(),A("ngIf",t.historiaClinica=="")}}var Qg=class n{constructor(e,t,r){this.historiaClinicaService=e;this.authSvc=t;this.turnoSvc=r;this.usuario=this.authSvc.usuarioLogeado}mostrar=!1;historiaSeleccionada={};usuarioSeleccionado;listadoHistoriaClinica=[];listaHistoriaClinica=[];usuario;filter;ngOnInit(){let e=yt(this.turnoSvc.firestore,"turnos"),t=nn(e,ao("paciente.id","==",this.usuario.id));ht(t).then(r=>{this.listaHistoriaClinica=[],r.forEach(i=>{let o=i.data();var s=new _l;s.estado=o.estado,s.paciente=o.paciente,s.especialista=o.especialista,s.especialidad=o.especialidad,s.fecha=o.fecha,s.hora=o.hora,s.comentariosPaciente=o.comentariosPaciente,s.comentariosEspecialista=o.comentariosEspecialista,s.comentariosAdmin=o.comentariosAdmin,s.historiaClinica=o.historiaClinica,this.listaHistoriaClinica.push(s)}),console.log(this.listaHistoriaClinica)}).catch(r=>{console.error("Error al obtener documentos: ",r)})}static \u0275fac=function(t){return new(t||n)(q(vl),q(Ye),q(rn))};static \u0275cmp=ve({type:n,selectors:[["app-historia-clinica"]],standalone:!0,features:[ye],decls:28,vars:5,consts:[["pdfTable",""],["id","pdfTable",1,"col-12","container"],["src","https://i.postimg.cc/L8DqTVRV/2771402.png",2,"height","50px","width","50px","margin-right","10px"],[1,"my-4"],[1,"text-danger"],[1,"row"],[1,"form-group","col-md-6"],["ng-blur","ngBlur()",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12","mx-auto","table-responsive","mt-3"],[1,"table","table-striped","table-bordered","fixed"],[1,"tr-dark"],["appAgranda","","class","tr-data",4,"ngFor","ngForOf"],["appAgranda","",1,"tr-data"],[4,"ngIf"],["class","mx-auto",4,"ngIf"],[1,"mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-ligth"]],template:function(t,r){if(t&1){let i=oe();_(0,"div",1,0)(2,"h2"),B(3,"img",2),w(4," CL\xCDNICA ONLINE "),v(),B(5,"hr",3),_(6,"h3",4),w(7,"Turnos e Historia Cl\xEDnica"),v(),_(8,"div",5)(9,"h4"),w(10,"B\xFAsqueda por Especialidad o Especialista"),v(),_(11,"div",6)(12,"input",7),un("ngModelChange",function(s){return X(i),_n(r.filter,s)||(r.filter=s),ee(s)}),v()()(),_(13,"div",8)(14,"table",9)(15,"tr",10)(16,"th"),w(17,"Fecha"),v(),_(18,"th"),w(19,"Especialidad"),v(),_(20,"th"),w(21,"Especialista"),v(),_(22,"th"),w(23,"Rese\xF1a"),v(),_(24,"th"),w(25,"Historia Cl\xEDnica"),v()(),H(26,$8,14,10,"tr",11),wc(27,"filterPaciente"),v()()()}t&2&&(E(12),ln("ngModel",r.filter),E(14),A("ngForOf",Ec(27,2,r.listaHistoriaClinica,r.filter)))},dependencies:[Ie,Ct,Fe,jn,_t,Dt,Jn,wl],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:150em}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:140em}}.container[_ngcontent-%COMP%]{max-width:100%;padding:20px;box-shadow:1px 1px 5px gray}.tr-data[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#b0fbff}h3[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase}.table-responsive[_ngcontent-%COMP%]{position:relative;overflow:auto}"]})};function H8(n,e){n&1&&B(0,"th")}function q8(n,e){n&1&&B(0,"th")}function z8(n,e){n&1&&B(0,"th")}function G8(n,e){if(n&1&&(_(0,"td"),B(1,"img",10),v()),n&2){let t=L(2);E(),gu("alt","img-",t.authService.usuarioLogeado.dni,""),A("src",t.authService.usuarioLogeado.imagenPerfil,vn)}}function W8(n,e){if(n&1&&(_(0,"td"),B(1,"img",10),v()),n&2){let t=L(2);E(),gu("alt","img-",t.authService.usuarioLogeado.dni,""),A("src",t.authService.usuarioLogeado.urlsImagenes.imagen1Url,vn)}}function K8(n,e){if(n&1&&(_(0,"td"),B(1,"img",10),v()),n&2){let t=L(2);E(),gu("alt","img-",t.authService.usuarioLogeado.dni,""),A("src",t.authService.usuarioLogeado.urlsImagenes.imagen1Url,vn)}}function Q8(n,e){if(n&1&&(_(0,"h5")(1,"b"),w(2,"Obra Social:"),v(),w(3),v()),n&2){let t=L(2);E(3),he(" ",t.authService.usuarioLogeado.obraSocial," ")}}function Y8(n,e){n&1&&(_(0,"h5")(1,"b"),w(2,"Especialidades:"),v()())}function Z8(n,e){if(n&1&&(_(0,"div",11)(1,"li"),w(2),v()()),n&2){let t=e.$implicit;E(2),ke(t)}}function J8(n,e){if(n&1&&(_(0,"h5",12),w(1),v()),n&2){let t=L(2);A("ngClass",t.authService.usuarioLogeado.cuentaHabilitada==!0?"text-success":"text-danger"),E(),he(" ",t.authService.usuarioLogeado.cuentaHabilitada==!0?"CUENTA HABILITADA":"CUENTA INHABILITADA"," ")}}function X8(n,e){if(n&1&&B(0,"app-mis-horarios",13),n&2){let t=L(2);A("especialistaHorarios",t.authService.usuarioLogeado)}}function eG(n,e){n&1&&B(0,"app-historia-clinica")}function tG(n,e){if(n&1&&(_(0,"div",1)(1,"div",2)(2,"h2",3),w(3,"Mi Perfil"),v(),_(4,"table",4)(5,"thead")(6,"tr"),H(7,H8,1,0,"th",5)(8,q8,1,0,"th",5)(9,z8,1,0,"th",5),v()(),_(10,"tbody")(11,"tr"),H(12,G8,2,3,"td",5)(13,W8,2,3,"td",5)(14,K8,2,3,"td",5),v()()(),B(15,"hr",6),_(16,"h5")(17,"b"),w(18,"Nombre:"),v(),w(19),v(),_(20,"h5")(21,"b"),w(22,"Apellido:"),v(),w(23),v(),_(24,"h5")(25,"b"),w(26,"DNI:"),v(),w(27),v(),_(28,"h5")(29,"b"),w(30,"Correo electr\xF3nico:"),v(),w(31),v(),H(32,Q8,4,1,"h5",5)(33,Y8,3,0,"h5",5)(34,Z8,3,1,"div",7)(35,J8,2,2,"h5",8),v(),B(36,"br"),H(37,X8,1,1,"app-mis-horarios",9)(38,eG,1,0,"app-historia-clinica",5),v()),n&2){let t=L();E(7),A("ngIf",!t.authService.ITEM_ACCESOS.isPaciente),E(),A("ngIf",t.authService.ITEM_ACCESOS.isPaciente),E(),A("ngIf",t.authService.ITEM_ACCESOS.isPaciente),E(3),A("ngIf",!t.authService.ITEM_ACCESOS.isPaciente),E(),A("ngIf",t.authService.ITEM_ACCESOS.isPaciente),E(),A("ngIf",t.authService.ITEM_ACCESOS.isPaciente),E(5),he(" ",t.authService.usuarioLogeado.nombre,""),E(4),he(" ",t.authService.usuarioLogeado.apellido,""),E(4),he(" ",t.authService.usuarioLogeado.dni,""),E(4),he(" ",t.authService.usuarioLogeado.email," "),E(),A("ngIf",t.authService.ITEM_ACCESOS.isPaciente),E(),A("ngIf",t.authService.ITEM_ACCESOS.isEspecialista),E(),A("ngForOf",t.authService.usuarioLogeado.especialidades),E(),A("ngIf",t.authService.ITEM_ACCESOS.isEspecialista),E(2),A("ngIf",t.authService.ITEM_ACCESOS.isEspecialista&&t.authService.usuarioLogeado.cuentaHabilitada),E(),A("ngIf",t.authService.ITEM_ACCESOS.isPaciente)}}var Yg=class n{constructor(e){this.authService=e}ngOnInit(){console.log("luggi",this.authService.usuarioLogeado)}static \u0275fac=function(t){return new(t||n)(q(Ye))};static \u0275cmp=ve({type:n,selectors:[["app-mi-perfil"]],standalone:!0,features:[ye],decls:2,vars:1,consts:[["class","mx-auto",4,"ngIf"],[1,"mx-auto"],[1,"mx-auto","container-info","table-responsive"],[1,"text-center"],[1,"table-responsive","mx-auto"],[4,"ngIf"],[1,"my-4"],["style","margin: 10px",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"especialistaHorarios",4,"ngIf"],[3,"src","alt"],[2,"margin","10px"],[3,"ngClass"],[3,"especialistaHorarios"]],template:function(t,r){t&1&&(_(0,"body"),H(1,tG,39,16,"div",0),v()),t&2&&(E(),A("ngIf",r.authService.usuarioLogeado))},dependencies:[Ie,oi,Ct,Fe,Kg,Qg],styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;height:100em;padding:20px}@media only screen and (max-width: 769px){body[_ngcontent-%COMP%]{height:120em}}h2[_ngcontent-%COMP%]{color:#0086cf;box-shadow:1px 1px 3px #999;background-color:#fff;border-radius:10px;padding:5px;text-transform:uppercase}img[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:50%;box-shadow:0 0 5px #999;margin:10px;display:flex}.container-info[_ngcontent-%COMP%]{box-shadow:0 0 10px #bdbdbd;padding:30px;border-radius:1%;text-align:center;align-items:center}"]})};var Ta=(n,e)=>{let t=Z(Ye),r=Z(ft);return t.usuarioLogeado?(console.log("puede pasar"),!0):(console.log("no puede pasar"),r.navigate(["/home"]),!1)};var TP=[{path:"home",component:yg},{path:"register",component:kg},{path:"login",component:Fg},{path:"admin",component:Vg,canActivate:[Ta]},{path:"mis-turnos-especialista",component:jg,canActivate:[Ta]},{path:"mis-pacientes",component:Bg,canActivate:[Ta]},{path:"solicitar-turno",component:zg,canActivate:[Ta]},{path:"mis-turnos-paciente",component:Wg,canActivate:[Ta]},{path:"mi-perfil",component:Yg,canActivate:[Ta]},{path:"",redirectTo:"/home",pathMatch:"full"}];var SP={providers:[DD({eventCoalescing:!0}),FA(TP),l1(()=>u1({projectId:"clinica-especialista-c2249",appId:"1:976905366152:web:20de079495a386a022cd3d",storageBucket:"clinica-especialista-c2249.firebasestorage.app",apiKey:"AIzaSyDJGCagdN6PtL1b0x56JydPThHSk39-vIA",authDomain:"clinica-especialista-c2249.firebaseapp.com",messagingSenderId:"976905366152"})),sx(()=>ax()),lR(()=>dR()),UR(()=>vg())]};function nG(n,e){if(n&1){let t=oe();_(0,"div")(1,"li",12)(2,"a",13),G("click",function(){X(t);let i=L();return ee(i.goAdmin())}),w(3," USUARIOS "),v()()()}}function rG(n,e){if(n&1){let t=oe();_(0,"div")(1,"li",12)(2,"a",14),w(3," TURNOS (ESPECIALISTA) "),v(),_(4,"ul",15)(5,"li")(6,"a",16),G("click",function(){X(t);let i=L();return ee(i.goMisTurnosEspecialista())}),w(7,"MIS TURNOS"),v()()()()()}}function iG(n,e){if(n&1){let t=oe();_(0,"div")(1,"li",8)(2,"a",9),G("click",function(){X(t);let i=L();return ee(i.goMisPacientes())}),w(3,"PACIENTES"),v()()()}}function oG(n,e){if(n&1){let t=oe();_(0,"div")(1,"li",12)(2,"a",14),w(3," TURNOS (PACIENTE) "),v(),_(4,"ul",15)(5,"li")(6,"a",16),G("click",function(){X(t);let i=L();return ee(i.goSolicitarTurnos())}),w(7,"SOLICITAR"),v()(),_(8,"li")(9,"a",16),G("click",function(){X(t);let i=L();return ee(i.goMisTurnosPaciente())}),w(10,"MIS TURNOS"),v()()()()()}}function sG(n,e){if(n&1){let t=oe();_(0,"li")(1,"a",16),G("click",function(){X(t);let i=L(2);return ee(i.goVerTurnos())}),w(2,"VER TODOS"),v()()}}function aG(n,e){if(n&1){let t=oe();_(0,"div")(1,"li",12)(2,"a",14),w(3," TURNOS "),v(),_(4,"ul",15)(5,"li")(6,"a",16),G("click",function(){X(t);let i=L();return ee(i.goSolicitarTurnos())}),w(7,"SOLICITAR"),v()(),H(8,sG,3,0,"li",10),v()()()}if(n&2){let t=L();E(8),A("ngIf",t.authService.ITEM_ACCESOS.isAdmin)}}function cG(n,e){if(n&1){let t=oe();_(0,"li",19),G("click",function(){X(t);let i=L(2);return ee(i.onEstadisticas())}),_(1,"a",20),w(2,"ESTAD\xCDSTICAS"),v()()}}function lG(n,e){if(n&1){let t=oe();_(0,"div")(1,"li",12)(2,"a",17),w(3),v(),_(4,"ul",15),H(5,cG,3,0,"li",18),_(6,"li",19),G("click",function(){X(t);let i=L();return ee(i.onMiPerfil())}),_(7,"a",20),w(8,"MI PERFIL"),v()(),_(9,"li",19),G("click",function(){X(t);let i=L();return ee(i.onLogout())}),_(10,"a",20),w(11,"SALIR"),v()()()()()}if(n&2){let t=L();E(3),he(" ",t.authService.usuario.email," "),E(2),A("ngIf",t.authService.ITEM_ACCESOS.isAdmin)}}function uG(n,e){if(n&1){let t=oe();_(0,"li",12)(1,"a",14),w(2," ACCEDER "),v(),_(3,"ul",15)(4,"li")(5,"a",16),G("click",function(){X(t);let i=L();return ee(i.goRegistrarme())}),w(6,"REGISTRARME"),v()(),_(7,"li")(8,"a",16),G("click",function(){X(t);let i=L();return ee(i.goIniciarSesion())}),w(9,"INICIAR SESI\xD3N"),v()()()()}}var Zg=class n{constructor(e,t){this.authService=e;this.router=t;this.usuario$=this.authService.usuario}usuario$;ngOnInit(){this.usuario$=this.authService.usuario}onLogout(){this.authService.logout().then(e=>{this.router.navigate(["/login"])})}goInicio(){this.router.navigate(["/home"])}goIniciarSesion(){this.router.navigate(["/login"])}goRegistrarme(){this.router.navigate(["/register"])}onMiPerfil(){this.router.navigate(["/mi-perfil"])}goSolicitarTurnos(){this.router.navigate(["/solicitar-turno"])}goVerTurnos(){this.router.navigate(["/mis-turnos-paciente"])}onEstadisticas(){this.router.navigate(["/administracion/estadisticas"])}goMisTurnosPaciente(){this.router.navigate(["/mis-turnos-paciente"])}goMisTurnosEspecialista(){this.router.navigate(["/mis-turnos-especialista"])}goMisPacientes(){this.router.navigate(["/mis-pacientes"])}goAdmin(){this.router.navigate(["/admin"])}static \u0275fac=function(t){return new(t||n)(q(Ye),q(ft))};static \u0275cmp=ve({type:n,selectors:[["app-navbar"]],standalone:!0,features:[ye],decls:19,vars:7,consts:[["acceso",""],[1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["src","https://i.postimg.cc/L8DqTVRV/2771402.png","alt","logo","width","35","height","35",1,"img-logo",2,"margin-right","10px"],[1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","m-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"click"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","a-email"],[3,"click",4,"ngIf"],[3,"click"],["aria-current","page",1,"dropdown-item"]],template:function(t,r){if(t&1){let i=oe();_(0,"nav",1)(1,"div",2),B(2,"img",3),_(3,"a",4),w(4,"CL\xCDNICA ONLINE"),v(),B(5,"button",5),_(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),G("click",function(){return X(i),ee(r.goInicio())}),w(10,"INICIO"),v()(),H(11,nG,4,0,"div",10)(12,rG,8,0,"div",10)(13,iG,4,0,"div",10)(14,oG,11,0,"div",10)(15,aG,9,1,"div",10)(16,lG,12,2,"div",11)(17,uG,10,0,"ng-template",null,0,wD),v()()()()}if(t&2){let i=gD(18);E(11),A("ngIf",r.authService.ITEM_ACCESOS.isAdmin&&r.authService.usuario),E(),A("ngIf",r.authService.ITEM_ACCESOS.isEspecialista&&r.authService.ITEM_ACCESOS.cuentaHabilitada&&r.authService.usuario),E(),A("ngIf",r.authService.ITEM_ACCESOS.isEspecialista&&r.authService.ITEM_ACCESOS.cuentaHabilitada&&r.authService.usuario),E(),A("ngIf",r.authService.ITEM_ACCESOS.isPaciente&&r.authService.usuario),E(),A("ngIf",r.authService.ITEM_ACCESOS.isAdmin&&r.authService.usuario),E(),A("ngIf",r.authService.usuario)("ngIfElse",i)}},dependencies:[Ie,Fe],styles:["nav[_ngcontent-%COMP%]{padding:20px;background-color:#fff!important;width:100%;border-bottom:1px solid rgb(211,211,211)}.navbar-brand[_ngcontent-%COMP%]{font-size:20px;color:#8a8a8a!important}.nav-link[_ngcontent-%COMP%]{font-size:16px;color:#8a8a8a!important}.dropdown-item[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:400;color:#262626!important}.label-name[_ngcontent-%COMP%]{color:#8a8a8a!important;font-size:17px}.a-email[_ngcontent-%COMP%]{text-transform:uppercase}@media only screen and (max-width: 700px){.img-logo[_ngcontent-%COMP%]{display:none}.navbar-brand[_ngcontent-%COMP%]{font-size:25px}}"]})};var Jg=class n{title="clinica-especialista";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ve({type:n,selectors:[["app-root"]],standalone:!0,features:[ye],decls:5,vars:0,consts:[[1,"text-center","text-lg-start"],[1,"text-center","p-3",2,"background-color","rgba(0, 0, 0, 0.2)"]],template:function(t,r){t&1&&(B(0,"app-navbar")(1,"router-outlet"),_(2,"footer",0)(3,"div",1),w(4," \xA9 2024 Copyright: Careri Facundo "),v()())},dependencies:[D_,Zg],styles:["footer[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#f5f5f5}"]})};XD(Jg,SP).catch(n=>console.error(n));
